"use strict";var xse=Object.defineProperty,Sse=Object.defineProperties,Ise=Object.getOwnPropertyDescriptors,SU=Object.getOwnPropertySymbols,Tse=Object.prototype.hasOwnProperty,Ase=Object.prototype.propertyIsEnumerable,IU=(ni,de,wt)=>de in ni?xse(ni,de,{enumerable:!0,configurable:!0,writable:!0,value:wt}):ni[de]=wt,TU=(ni,de)=>{for(var wt in de||(de={}))Tse.call(de,wt)&&IU(ni,wt,de[wt]);if(SU)for(var wt of SU(de))Ase.call(de,wt)&&IU(ni,wt,de[wt]);return ni},AU=(ni,de)=>Sse(ni,Ise(de));(self.webpackChunkwmc_todo=self.webpackChunkwmc_todo||[]).push([[179],{280:(ni,de,wt)=>{function Ie(n){return"function"==typeof n}function M(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const yn=M(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Pe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ie{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ie(i))try{i()}catch(s){e=s instanceof yn?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{wi(s)}catch(a){e=null!=e?e:[],a instanceof yn?e=[...e,...a.errors]:e.push(a)}}if(e)throw new yn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wi(e);else{if(e instanceof ie){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pe(t,e)}remove(e){const{_finalizers:t}=this;t&&Pe(t,e),e instanceof ie&&e._removeParent(this)}}ie.EMPTY=(()=>{const n=new ie;return n.closed=!0,n})();const rn=ie.EMPTY;function Le(n){return n instanceof ie||n&&"closed"in n&&Ie(n.remove)&&Ie(n.add)&&Ie(n.unsubscribe)}function wi(n){Ie(n)?n():n.unsubscribe()}const Je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},O={setTimeout(n,e,...t){const{delegate:i}=O;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=O;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function H(n){O.setTimeout(()=>{const{onUnhandledError:e}=Je;if(!e)throw n;e(n)})}function we(){}const me=dn("C",void 0,void 0);function dn(n,e,t){return{kind:n,value:e,error:t}}let _t=null;function fe(n){if(Je.useDeprecatedSynchronousErrorHandling){const e=!_t;if(e&&(_t={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=_t;if(_t=null,t)throw i}}else n()}class ae extends ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Le(e)&&e.add(this)):this.destination=te}static create(e,t,i){return new Yn(e,t,i)}next(e){this.isStopped?oe(function Ze(n){return dn("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oe(function ee(n){return dn("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oe(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jt=Function.prototype.bind;function Rn(n,e){return jt.call(n,e)}class Qi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){K(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){K(i)}else K(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){K(t)}}}class Yn extends ae{constructor(e,t,i){let r;if(super(),Ie(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0};else{let s;this&&Je.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Rn(e.next,s),error:e.error&&Rn(e.error,s),complete:e.complete&&Rn(e.complete,s)}):r=e}this.destination=new Qi(r)}}function K(n){Je.useDeprecatedSynchronousErrorHandling?function be(n){Je.useDeprecatedSynchronousErrorHandling&&_t&&(_t.errorThrown=!0,_t.error=n)}(n):H(n)}function oe(n,e){const{onStoppedNotification:t}=Je;t&&O.setTimeout(()=>t(n,e))}const te={closed:!0,next:we,error:function pe(n){throw n},complete:we},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}let Ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function We(n){return n&&n instanceof ae||function bn(n){return n&&Ie(n.next)&&Ie(n.error)&&Ie(n.complete)}(n)&&Le(n)}(t)?t:new Yn(t,i,r);return fe(()=>{const{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=$e(i))((r,s)=>{const a=new Yn({next:u=>{try{t(u)}catch(d){s(d),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Me](){return this}pipe(...t){return function He(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=$e(t))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=e=>new n(e),n})();function $e(n){var e;return null!==(e=null!=n?n:Je.Promise)&&void 0!==e?e:Promise}const xe=M(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ce=(()=>{class n extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new vn(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new xe}next(t){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?rn:(this.currentObservers=null,s.push(t),new ie(()=>{this.currentObservers=null,Pe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Ve;return t.source=this,t}}return n.create=(e,t)=>new vn(e,t),n})();class vn extends ce{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:rn}}function fr(n){return Ie(null==n?void 0:n.lift)}function Ct(n){return e=>{if(fr(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function St(n,e,t,i,r){return new ci(n,e,t,i,r)}class ci extends ae{constructor(e,t,i,r,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(u){try{t(u)}catch(d){e.error(d)}}:super._next,this._error=r?function(u){try{r(u)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function qe(n,e){return Ct((t,i)=>{let r=0;t.subscribe(St(i,s=>{i.next(n.call(e,s,r++))}))})}function cn(n){return this instanceof cn?(this.v=n,this):new cn(n)}function It(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(C){i[C]&&(r[C]=function(x){return new Promise(function(I,k){s.push([C,x,I,k])>1||u(C,x)})})}function u(C,x){try{!function d(C){C.value instanceof cn?Promise.resolve(C.value.v).then(p,y):_(s[0][2],C)}(i[C](x))}catch(I){_(s[0][3],I)}}function p(C){u("next",C)}function y(C){u("throw",C)}function _(C,x){C(x),s.shift(),s.length&&u(s[0][0],s[0][1])}}function F(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ci(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(u,d){!function r(s,a,u,d){Promise.resolve(d).then(function(p){s({value:p,done:u})},a)}(u,d,(a=n[s](a)).done,a.value)})}}}const Oe=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function jn(n){return Ie(null==n?void 0:n.then)}function hi(n){return Ie(n[Me])}function Pn(n){return Symbol.asyncIterator&&Ie(null==n?void 0:n[Symbol.asyncIterator])}function Os(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const la=function Un(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fs(n){return Ie(null==n?void 0:n[la])}function Hn(n){return It(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield cn(t.read());if(r)return yield cn(void 0);yield yield cn(i)}}finally{t.releaseLock()}})}function Ja(n){return Ie(null==n?void 0:n.getReader)}function Ui(n){if(n instanceof Ve)return n;if(null!=n){if(hi(n))return function Ns(n){return new Ve(e=>{const t=n[Me]();if(Ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Oe(n))return function Ei(n){return new Ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(jn(n))return function iu(n){return new Ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,H)})}(n);if(Pn(n))return hc(n);if(fs(n))return function ko(n){return new Ve(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ja(n))return function Kh(n){return hc(Hn(n))}(n)}throw Os(n)}function hc(n){return new Ve(e=>{(function fn(n,e){var t,i,r,s;return function wn(n,e,t,i){return new(t||(t=Promise))(function(s,a){function u(y){try{p(i.next(y))}catch(_){a(_)}}function d(y){try{p(i.throw(y))}catch(_){a(_)}}function p(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(a){a(s)})}(y.value).then(u,d)}p((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=F(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ur(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function On(n,e,t=1/0){return Ie(e)?On((i,r)=>qe((s,a)=>e(i,s,r,a))(Ui(n(i,r))),t):("number"==typeof e&&(t=e),Ct((i,r)=>function ru(n,e,t,i,r,s,a,u){const d=[];let p=0,y=0,_=!1;const C=()=>{_&&!d.length&&!p&&e.complete()},x=k=>p<i?I(k):d.push(k),I=k=>{s&&e.next(k),p++;let L=!1;Ui(t(k,y++)).subscribe(St(e,Q=>{null==r||r(Q),s?x(Q):e.next(Q)},()=>{L=!0},void 0,()=>{if(L)try{for(p--;d.length&&p<i;){const Q=d.shift();a?Ur(e,a,()=>I(Q)):I(Q)}C()}catch(Q){e.error(Q)}}))};return n.subscribe(St(e,x,()=>{_=!0,C()})),()=>{null==u||u()}}(i,r,n,t)))}function lo(n=1/0){return On(ne,n)}const Sr=new Ve(n=>n.complete());function el(n){return n&&Ie(n.schedule)}function Ro(n){return n[n.length-1]}function uo(n){return el(Ro(n))?n.pop():void 0}function dc(n,e=0){return Ct((t,i)=>{t.subscribe(St(i,r=>Ur(i,n,()=>i.next(r),e),()=>Ur(i,n,()=>i.complete(),e),r=>Ur(i,n,()=>i.error(r),e)))})}function Po(n,e=0){return Ct((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Fs(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ve(t=>{Ur(t,e,()=>{const i=n[Symbol.asyncIterator]();Ur(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function In(n,e){return e?function ms(n,e){if(null!=n){if(hi(n))return function au(n,e){return Ui(n).pipe(Po(e),dc(e))}(n,e);if(Oe(n))return function ua(n,e){return new Ve(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(jn(n))return function fc(n,e){return Ui(n).pipe(Po(e),dc(e))}(n,e);if(Pn(n))return Fs(n,e);if(fs(n))return function pc(n,e){return new Ve(t=>{let i;return Ur(t,e,()=>{i=n[la](),Ur(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void t.error(a)}s?t.complete():t.next(r)},0,!0)}),()=>Ie(null==i?void 0:i.return)&&i.return()})}(n,e);if(Ja(n))return function ps(n,e){return Fs(Hn(n),e)}(n,e)}throw Os(n)}(n,e):Ui(n)}function nl(...n){const e=uo(n),t=function Yh(n,e){return"number"==typeof Ro(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Ui(i[0]):lo(t)(In(i,e)):Sr}function Zi(n){return n<=0?()=>Sr:Ct((e,t)=>{let i=0;e.subscribe(St(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Hr(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Zi(1)).subscribe(()=>n())}function Xe(n){for(let e in n)if(n[e]===Xe)return e;throw Error("Could not find renamed property on target object.")}function Ls(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function at(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(at).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ha(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Oo=Xe({__forward_ref__:Xe});function Ft(n){return n.__forward_ref__=Ft,n.toString=function(){return at(this())},n}function lt(n){return il(n)?n():n}function il(n){return"function"==typeof n&&n.hasOwnProperty(Oo)&&n.__forward_ref__===Ft}class Te extends Error{constructor(e,t){super(function No(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function et(n){return"string"==typeof n?n:null==n?"":String(n)}function qn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():et(n)}function uu(n,e){const t=e?` in ${e}`:"";throw new Te(-201,`No provider for ${qn(n)} found${t}`)}function Di(n,e){null==n&&function Ut(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ke(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function qr(n){return ll(n,gs)||ll(n,Jh)}function ll(n,e){return n.hasOwnProperty(e)?n[e]:null}function pn(n){return n&&(n.hasOwnProperty(yc)||n.hasOwnProperty(pa))?n[yc]:null}const gs=Xe({\u0275prov:Xe}),yc=Xe({\u0275inj:Xe}),Jh=Xe({ngInjectableDef:Xe}),pa=Xe({ngInjectorDef:Xe});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let Vs;function Ji(n){const e=Vs;return Vs=n,e}function _c(n,e,t){const i=qr(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Ge.Optional?null:void 0!==e?e:void uu(at(n),"Injector")}function Bs(n){return{toString:n}.toString()}var xi=(()=>((xi=xi||{})[xi.OnPush=0]="OnPush",xi[xi.Default=1]="Default",xi))(),Tr=(()=>{return(n=Tr||(Tr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Tr;var n})();const di="undefined"!=typeof globalThis&&globalThis,Gr="undefined"!=typeof window&&window,hl="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=di||"undefined"!=typeof global&&global||Gr||hl,ho={},Lt=[],mr=Xe({\u0275cmp:Xe}),dl=Xe({\u0275dir:Xe}),ys=Xe({\u0275pipe:Xe}),fl=Xe({\u0275mod:Xe}),vs=Xe({\u0275fac:Xe}),js=Xe({__NG_ELEMENT_ID__:Xe});let bc=0;function En(n){return Bs(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===xi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Lt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Tr.Emulated,id:"c",styles:n.styles||Lt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,a=n.pipes;return i.id+=bc++,i.inputs=_s(n.inputs,t),i.outputs=_s(n.outputs),s&&s.forEach(u=>u(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Nn):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(mu):null,i})}function Nn(n){return Gn(n)||function er(n){return n[dl]||null}(n)}function mu(n){return function bs(n){return n[ys]||null}(n)}const Ht={};function nt(n){return Bs(()=>{const e={type:n.type,bootstrap:n.bootstrap||Lt,declarations:n.declarations||Lt,imports:n.imports||Lt,exports:n.exports||Lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ht[n.id]=n.type),e})}function _s(n,e){if(null==n)return ho;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const Be=En;function Qn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Gn(n){return n[mr]||null}function Fn(n,e){const t=n[fl]||null;if(!t&&!0===e)throw new Error(`Type ${at(n)} does not have '\u0275mod' property.`);return t}function Ti(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ar(n){return Array.isArray(n)&&!0===n[1]}function mo(n){return 0!=(8&n.flags)}function $r(n){return 2==(2&n.flags)}function va(n){return 1==(1&n.flags)}function Wr(n){return null!==n.template}function Bo(n){return 0!=(512&n[2])}function _a(n,e){return n.hasOwnProperty(vs)?n[vs]:null}class mw{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function qi(){return id}function id(n){return n.type.prototype.ngOnChanges&&(n.setInput=ip),np}function np(){const n=rp(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ho)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function ip(n,e,t,i){const r=rp(n)||function Zg(n,e){return n[Qg]=e}(n,{previous:ho,current:null}),s=r.current||(r.current={}),a=r.previous,u=this.declaredInputs[t],d=a[u];s[u]=new mw(d&&d.currentValue,e,a===ho),n[i]=e}qi.ngInherit=!0;const Qg="__ngSimpleChanges__";function rp(n){return n[Qg]||null}let sp;function ln(n){return!!n.listen}const ey={createRenderer:(n,e)=>function op(){return void 0!==sp?sp:"undefined"!=typeof document?document:void 0}()};function Jn(n){for(;Array.isArray(n);)n=n[0];return n}function vl(n,e){return Jn(e[n])}function yr(n,e){return Jn(e[n.index])}function _l(n,e){return n.data[e]}function bl(n,e){return n[e]}function Yr(n,e){const t=e[n];return Ti(t)?t:t[0]}function up(n){return 4==(4&n[2])}function ad(n){return 128==(128&n[2])}function Xr(n,e){return null==e?null:n[e]}function cp(n){n[18]=0}function hp(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const mt={lFrame:sy(null),bindingsEnabled:!0};function cd(){return mt.bindingsEnabled}function re(){return mt.lFrame.lView}function Dt(){return mt.lFrame.tView}function Zt(n){return mt.lFrame.contextLView=n,n[8]}function qt(){let n=ty();for(;null!==n&&64===n.type;)n=n.parent;return n}function ty(){return mt.lFrame.currentTNode}function an(n,e){const t=mt.lFrame;t.currentTNode=n,t.isParent=e}function Ds(){return mt.lFrame.isParent}function tr(){mt.lFrame.isParent=!1}function Cl(){return mt.lFrame.bindingIndex++}function iy(n,e){const t=mt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ec(e)}function Ec(n){mt.lFrame.currentDirectiveIndex=n}function Dc(n){const e=mt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Zr(){return mt.lFrame.currentQueryIndex}function Dl(n){mt.lFrame.currentQueryIndex=n}function hd(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ry(n,e,t){if(t&Ge.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&Ge.Host||(r=hd(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=mt.lFrame=dd();return i.currentTNode=e,i.lView=n,!0}function xl(n){const e=dd(),t=n[1];mt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function dd(){const n=mt.lFrame,e=null===n?null:n.child;return null===e?sy(n):e}function sy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function oy(){const n=mt.lFrame;return mt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fp=oy;function fd(){const n=oy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oi(){return mt.lFrame.selectedIndex}function zs(n){mt.lFrame.selectedIndex=n}function Vn(){const n=mt.lFrame;return _l(n.tView,n.selectedIndex)}function xc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:y}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),u&&((n.contentHooks||(n.contentHooks=[])).push(t,u),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,u)),d&&(n.viewHooks||(n.viewHooks=[])).push(-t,d),p&&((n.viewHooks||(n.viewHooks=[])).push(t,p),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,p)),null!=y&&(n.destroyHooks||(n.destroyHooks=[])).push(t,y)}}function md(n,e,t){gp(n,e,3,t)}function gd(n,e,t,i){(3&n[2])===t&&gp(n,e,t,i)}function mp(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function gp(n,e,t,i){const s=null!=i?i:-1,a=e.length-1;let u=0;for(let d=void 0!==i?65535&n[18]:0;d<a;d++)if("number"==typeof e[d+1]){if(u=e[d],null!=i&&u>=i)break}else e[d]<0&&(n[18]+=65536),(u<s||-1==s)&&(Tw(n,t,e,d),n[18]=(4294901760&n[18])+d+2),d++}function Tw(n,e,t,i){const r=t[i]<0,s=t[i+1],u=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(u)}finally{}}}else try{s.call(u)}finally{}}class Sc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Ic(n,e,t){const i=ln(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const a=t[r++],u=t[r++],d=t[r++];i?n.setAttribute(e,u,d,a):e.setAttributeNS(a,u,d)}else{const a=s,u=t[++r];Tc(a)?i&&n.setProperty(e,a,u):i?n.setAttribute(e,a,u):e.setAttribute(a,u),r++}}return r}function _d(n){return 3===n||4===n||6===n}function Tc(n){return 64===n.charCodeAt(0)}function $s(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||yp(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function yp(n,e,t,i,r){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const u=n[s++];if("number"==typeof u){if(u===e){a=-1;break}if(u>e){a=s-1;break}}}for(;s<n.length;){const u=n[s];if("number"==typeof u)break;if(u===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function uy(n){return-1!==n}function bu(n){return 32767&n}function Ho(n,e){let t=function kw(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let bd=!0;function qo(n){const e=bd;return bd=n,e}let Pw=0;function Ac(n,e){const t=Da(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Mc(i.data,n),Mc(e,null),Mc(i.blueprint,null));const r=Ws(n,e),s=n.injectorIndex;if(uy(r)){const a=bu(r),u=Ho(r,e),d=u[1].data;for(let p=0;p<8;p++)e[s+p]=u[a+p]|d[a+p]}return e[s+8]=r,s}function Mc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Da(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ws(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],a=s.type;if(i=2===a?s.declTNode:1===a?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function kc(n,e,t){!function Ow(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(js)&&(i=t[js]),null==i&&(i=t[js]=Pw++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function _p(n,e,t){if(t&Ge.Optional)return n;uu(e,"NodeInjector")}function dy(n,e,t,i){if(t&Ge.Optional&&void 0===i&&(i=null),0==(t&(Ge.Self|Ge.Host))){const r=n[9],s=Ji(void 0);try{return r?r.get(e,i,t&Ge.Optional):_c(e,i,t&Ge.Optional)}finally{Ji(s)}}return _p(i,e,t)}function fy(n,e,t,i=Ge.Default,r){if(null!==n){const s=function my(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(js)?n[js]:void 0;return"number"==typeof e?e>=0?255&e:Nw:e}(t);if("function"==typeof s){if(!ry(e,n,i))return i&Ge.Host?_p(r,t,i):dy(e,t,i,r);try{const a=s(i);if(null!=a||i&Ge.Optional)return a;uu(t)}finally{fp()}}else if("number"==typeof s){let a=null,u=Da(n,e),d=-1,p=i&Ge.Host?e[16][6]:null;for((-1===u||i&Ge.SkipSelf)&&(d=-1===u?Ws(n,e):e[u+8],-1!==d&&yy(i,!1)?(a=e[1],u=bu(d),e=Ho(d,e)):u=-1);-1!==u;){const y=e[1];if(gy(s,u,y.data)){const _=bp(u,e,t,a,i,p);if(_!==py)return _}d=e[u+8],-1!==d&&yy(i,e[1].data[u+8]===p)&&gy(s,u,e)?(a=y,u=bu(d),e=Ho(d,e)):u=-1}}}return dy(e,t,i,r)}const py={};function Nw(){return new Cu(qt(),re())}function bp(n,e,t,i,r,s){const a=e[1],u=a.data[n+8],y=wd(u,a,t,null==i?$r(u)&&bd:i!=a&&0!=(3&u.type),r&Ge.Host&&s===u);return null!==y?wu(e,a,y,u):py}function wd(n,e,t,i,r){const s=n.providerIndexes,a=e.data,u=1048575&s,d=n.directiveStart,y=s>>20,C=r?u+y:n.directiveEnd;for(let x=i?u:u+y;x<C;x++){const I=a[x];if(x<d&&t===I||x>=d&&I.type===t)return x}if(r){const x=a[d];if(x&&Wr(x)&&x.type===t)return d}return null}function wu(n,e,t,i){let r=n[t];const s=e.data;if(function Aw(n){return n instanceof Sc}(r)){const a=r;a.resolving&&function mc(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${t}`)}(qn(s[t]));const u=qo(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Ji(a.injectImpl):null;ry(n,i,Ge.Default);try{r=n[t]=a.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Iw(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const a=id(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==d&&Ji(d),qo(u),a.resolving=!1,fp()}}return r}function gy(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function yy(n,e){return!(n&Ge.Self||n&Ge.Host&&e)}class Cu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return fy(this._tNode,this._lView,e,i,t)}}function Rc(n){return il(n)?()=>{const e=Rc(lt(n));return e&&e()}:_a(n)}const xa="__parameters__";function Du(n,e,t){return Bs(()=>{const i=function Go(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return u.annotation=a,u;function u(d,p,y){const _=d.hasOwnProperty(xa)?d[xa]:Object.defineProperty(d,xa,{value:[]})[xa];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(a),d}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ge{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ke({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lw=new ge("AnalyzeForEntryComponents");function Ss(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Ss(i,e)):e!==n&&e.push(i)}return e}function go(n,e){n.forEach(t=>Array.isArray(t)?go(t,e):e(t))}function _y(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ed(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Oc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ir(n,e,t){let i=Sa(n,e);return i>=0?n[1|i]=t:(i=~i,function Ep(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function xu(n,e){const t=Sa(n,e);if(t>=0)return n[1|t]}function Sa(n,e){return function wy(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<t];if(e===a)return s<<t;a>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Fc={},kl="__NG_DI_FLAG__",Dd="ngTempTokenPath",xy=/\n/gm,Iy="__source",Ip=Xe({provide:String,useValue:Xe});let Rl;function xd(n){const e=Rl;return Rl=n,e}function Ty(n,e=Ge.Default){if(void 0===Rl)throw new Te(203,"");return null===Rl?_c(n,void 0,e):Rl.get(n,e&Ge.Optional?null:void 0,e)}function $(n,e=Ge.Default){return(function vc(){return Vs}()||Ty)(lt(n),e)}const Lc=$;function Vc(n){const e=[];for(let t=0;t<n.length;t++){const i=lt(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Te(900,"");let r,s=Ge.Default;for(let a=0;a<i.length;a++){const u=i[a],d=Ap(u);"number"==typeof d?-1===d?r=u.token:s|=d:r=u}e.push($(r,s))}else e.push($(i))}return e}function zo(n,e){return n[kl]=e,n.prototype[kl]=e,n}function Ap(n){return n[kl]}const Ys=zo(Du("Inject",n=>({token:n})),-1),rr=zo(Du("Optional"),8),yo=zo(Du("SkipSelf"),4);const HT="__ngContext__";function Rr(n,e){n[HT]=e}function Yw(n){const e=function Lp(n){return n[HT]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Qw(n){return n.ngOriginalError}function QU(n,...e){n.error(...e)}class Hc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function XU(n){return n&&n.ngErrorLogger||QU}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Qw(e);for(;t&&Qw(t);)t=Qw(t);return t||null}}const aH=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function Ma(n){return n instanceof Function?n():n}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function Jw(n,e){return undefined(n,e)}function Vp(n){const e=n[3];return Ar(e)?e[3]:e}function e0(n){return QT(n[13])}function t0(n){return QT(n[4])}function QT(n){for(;null!==n&&!Ar(n);)n=n[4];return n}function Md(n,e,t,i,r){if(null!=i){let s,a=!1;Ar(i)?s=i:Ti(i)&&(a=!0,i=i[0]);const u=Jn(i);0===n&&null!==t?null==r?iA(e,t,u):qc(e,t,u,r||null,!0):1===n&&null!==t?qc(e,t,u,r||null,!0):2===n?function cA(n,e,t){const i=Gy(n,e);i&&function wH(n,e,t,i){ln(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,u,a):3===n&&e.destroyNode(u),null!=s&&function DH(n,e,t,i,r){const s=t[7];s!==Jn(t)&&Md(e,n,i,s,r);for(let u=10;u<t.length;u++){const d=t[u];Bp(d[1],d,n,e,i,s)}}(e,n,s,t,r)}}function r0(n,e,t){if(ln(n))return n.createElement(e,t);{const i=null!==t?function yw(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===i?n.createElement(e):n.createElementNS(i,e)}}function JT(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,hp(r,-1)),t.splice(i,1)}function s0(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&JT(r,i),e>0&&(n[t-1][4]=i[4]);const s=Ed(n,10+e);!function fH(n,e){Bp(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function eA(n,e){if(!(256&e[2])){const t=e[11];ln(t)&&t.destroyNode&&Bp(n,e,t,3,null,null),function gH(n){let e=n[13];if(!e)return o0(n[1],n);for(;e;){let t=null;if(Ti(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Ti(e)&&o0(e[1],e),e=e[3];null===e&&(e=n),Ti(e)&&o0(e[1],e),t=e&&e[4]}e=t}}(e)}}function o0(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function bH(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Sc)){const s=t[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const u=r[s[a]],d=s[a+1];try{d.call(u)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function _H(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+1],u="function"==typeof a?a(e):Jn(e[a]),d=i[r=t[s+2]],p=t[s+3];"boolean"==typeof p?u.removeEventListener(t[s],d,p):p>=0?i[r=p]():i[r=-p].unsubscribe(),s+=2}else{const a=i[r=t[s+1]];t[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&ln(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Ar(e[3])){t!==e[3]&&JT(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function tA(n,e,t){return function nA(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Tr.None||r===Tr.Emulated)return null}return yr(i,t)}(n,e.parent,t)}function qc(n,e,t,i,r){ln(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function iA(n,e,t){ln(n)?n.appendChild(e,t):e.appendChild(t)}function rA(n,e,t,i,r){null!==i?qc(n,e,t,i,r):iA(n,e,t)}function Gy(n,e){return ln(n)?n.parentNode(e):e.parentNode}function sA(n,e,t){return aA(n,e,t)}let aA=function oA(n,e,t){return 40&n.type?yr(n,t):null};function zy(n,e,t,i){const r=tA(n,i,e),s=e[11],u=sA(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let d=0;d<t.length;d++)rA(s,r,t[d],u,!1);else rA(s,r,t,u,!1)}function $y(n,e){if(null!==e){const t=e.type;if(3&t)return yr(e,n);if(4&t)return l0(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return $y(n,i);{const r=n[e.index];return Ar(r)?l0(-1,r):Jn(r)}}if(32&t)return Jw(e,n)()||Jn(n[e.index]);{const i=uA(n,e);return null!==i?Array.isArray(i)?i[0]:$y(Vp(n[16]),i):$y(n,e.next)}}return null}function uA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function l0(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return $y(i,r)}return e[7]}function u0(n,e,t,i,r,s,a){for(;null!=t;){const u=i[t.index],d=t.type;if(a&&0===e&&(u&&Rr(Jn(u),i),t.flags|=4),64!=(64&t.flags))if(8&d)u0(n,e,t.child,i,r,s,!1),Md(e,n,r,u,s);else if(32&d){const p=Jw(t,i);let y;for(;y=p();)Md(e,n,r,y,s);Md(e,n,r,u,s)}else 16&d?hA(n,e,i,t,r,s):Md(e,n,r,u,s);t=a?t.projectionNext:t.next}}function Bp(n,e,t,i,r,s){u0(t,i,n.firstChild,e,r,s,!1)}function hA(n,e,t,i,r,s){const a=t[16],d=a[6].projection[i.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++)Md(e,n,r,d[p],s);else u0(n,e,d,a[3],r,s,!0)}function dA(n,e,t){ln(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function c0(n,e,t){ln(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function fA(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const pA="ng-template";function SH(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==fA(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function mA(n){return 4===n.type&&n.value!==pA}function IH(n,e,t){return e===(4!==n.type||t?n.value:pA)}function TH(n,e,t){let i=4;const r=n.attrs||[],s=function kH(n){for(let e=0;e<n.length;e++)if(_d(n[e]))return e;return n.length}(r);let a=!1;for(let u=0;u<e.length;u++){const d=e[u];if("number"!=typeof d){if(!a)if(4&i){if(i=2|1&i,""!==d&&!IH(n,d,t)||""===d&&1===e.length){if($o(i))return!1;a=!0}}else{const p=8&i?d:e[++u];if(8&i&&null!==n.attrs){if(!SH(n.attrs,p,t)){if($o(i))return!1;a=!0}continue}const _=AH(8&i?"class":d,r,mA(n),t);if(-1===_){if($o(i))return!1;a=!0;continue}if(""!==p){let C;C=_>s?"":r[_+1].toLowerCase();const x=8&i?C:null;if(x&&-1!==fA(x,p,0)||2&i&&p!==C){if($o(i))return!1;a=!0}}}}else{if(!a&&!$o(i)&&!$o(d))return!1;if(a&&$o(d))continue;a=!1,i=d|1&i}}return $o(i)||a}function $o(n){return 0==(1&n)}function AH(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const a=e[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let u=e[++r];for(;"string"==typeof u;)u=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function RH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function gA(n,e,t=!1){for(let i=0;i<e.length;i++)if(TH(n,e[i],t))return!0;return!1}function PH(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function yA(n,e){return n?":not("+e.trim()+")":e}function OH(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&i){const u=n[++t];r+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!$o(a)&&(e+=yA(s,r),r=""),i=a,s=s||!$o(i);t++}return""!==r&&(e+=yA(s,r)),e}const bt={};function ka(n){vA(Dt(),re(),oi()+n,!1)}function vA(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&md(e,s,t)}else{const s=n.preOrderHooks;null!==s&&gd(e,s,0,t)}zs(t)}function Wy(n,e){return n<<17|e<<2}function Wo(n){return n>>17&32767}function h0(n){return 2|n}function Nl(n){return(131068&n)>>2}function d0(n,e){return-131069&n|e<<2}function f0(n){return 1|n}function AA(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const a=n.data[s];Dl(r),a.contentQueries(2,e[s],s)}}}function jp(n,e,t,i,r,s,a,u,d,p){const y=e.blueprint.slice();return y[0]=r,y[2]=140|i,cp(y),y[3]=y[15]=n,y[8]=t,y[10]=a||n&&n[10],y[11]=u||n&&n[11],y[12]=d||n&&n[12]||null,y[9]=p||n&&n[9]||null,y[6]=s,y[16]=2==e.type?n[16]:y,y}function kd(n,e,t,i,r){let s=n.data[e];if(null===s)s=function C0(n,e,t,i,r){const s=ty(),a=Ds(),d=n.data[e]=function ZH(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=d),null!==s&&(a?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d)),d}(n,e,t,i,r),function Ew(){return mt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const a=function wc(){const n=mt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return an(s,!0),s}function Rd(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Up(n,e,t){xl(e);try{const i=n.viewQuery;null!==i&&k0(1,i,t);const r=n.template;null!==r&&MA(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&AA(n,e),n.staticViewQueries&&k0(2,n.viewQuery,t);const s=n.components;null!==s&&function YH(n,e){for(let t=0;t<e.length;t++)y3(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,fd()}}function Pd(n,e,t,i){const r=e[2];if(256!=(256&r)){xl(e);try{cp(e),function ny(n){return mt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&MA(n,e,t,2,i);const a=3==(3&r);if(a){const p=n.preOrderCheckHooks;null!==p&&md(e,p,null)}else{const p=n.preOrderHooks;null!==p&&gd(e,p,0,null),mp(e,0)}if(function m3(n){for(let e=e0(n);null!==e;e=t0(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&hp(s,1),r[2]|=1024}}}(e),function p3(n){for(let e=e0(n);null!==e;e=t0(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];ad(i)&&Pd(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&AA(n,e),a){const p=n.contentCheckHooks;null!==p&&md(e,p)}else{const p=n.contentHooks;null!==p&&gd(e,p,1),mp(e,1)}!function WH(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)zs(~r);else{const s=r,a=t[++i],u=t[++i];iy(a,s),u(2,e[s])}}}finally{zs(-1)}}(n,e);const u=n.components;null!==u&&function KH(n,e){for(let t=0;t<e.length;t++)g3(n,e[t])}(e,u);const d=n.viewQuery;if(null!==d&&k0(2,d,i),a){const p=n.viewCheckHooks;null!==p&&md(e,p)}else{const p=n.viewHooks;null!==p&&gd(e,p,2),mp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,hp(e[3],-1))}finally{fd()}}}function XH(n,e,t,i){const r=e[10],a=up(e);try{!a&&r.begin&&r.begin(),a&&Up(n,e,i),Pd(n,e,t,i)}finally{!a&&r.end&&r.end()}}function MA(n,e,t,i,r){const s=oi(),a=2&i;try{zs(-1),a&&e.length>20&&vA(n,e,20,!1),t(i,r)}finally{zs(s)}}function E0(n,e,t){!cd()||(function o3(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Ac(t,e),Rr(i,e);const a=t.initialInputs;for(let u=r;u<s;u++){const d=n.data[u],p=Wr(d);p&&h3(e,t,d);const y=wu(e,n,u,t);Rr(y,e),null!==a&&d3(0,u-r,y,d,0,a),p&&(Yr(t.index,e)[8]=y)}}(n,e,t,yr(t,e)),128==(128&t.flags)&&function a3(n,e,t){const i=t.directiveStart,r=t.directiveEnd,a=t.index,u=function wa(){return mt.lFrame.currentDirectiveIndex}();try{zs(a);for(let d=i;d<r;d++){const p=n.data[d],y=e[d];Ec(d),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&BA(p,y)}}finally{zs(-1),Ec(u)}}(n,e,t))}function D0(n,e,t=yr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],u=-1===a?t(e,n):n[a];n[r++]=u}}}function RA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Xy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Xy(n,e,t,i,r,s,a,u,d,p){const y=20+i,_=y+r,C=function QH(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:bt);return t}(y,_),x="function"==typeof p?p():p;return C[1]={type:n,blueprint:C,template:t,queries:null,viewQuery:u,declTNode:e,data:C.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:d,consts:x,incompleteFirstPass:!1}}function NA(n,e,t,i){const r=zA(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&$A(n).push(i,r.length-1))}function FA(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Zs(n,e,t,i,r,s,a,u){const d=yr(e,t);let y,p=e.inputs;!u&&null!=p&&(y=p[i])?(YA(n,t,y,i,r),$r(e)&&function t3(n,e){const t=Yr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function e3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,e.value||"",i):r,ln(s)?s.setProperty(d,i,r):Tc(i)||(d.setProperty?d.setProperty(i,r):d[i]=r))}function x0(n,e,t,i){let r=!1;if(cd()){const s=function l3(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];gA(t,a.selectors,!1)&&(r||(r=[]),kc(Ac(t,e),n,a.type),Wr(a)?(jA(n,t),r.unshift(a)):r.push(a))}return r}(n,e,t),a=null===i?null:{"":-1};if(null!==s){r=!0,UA(t,n.data.length,s.length);for(let y=0;y<s.length;y++){const _=s[y];_.providersResolver&&_.providersResolver(_)}let u=!1,d=!1,p=Rd(n,e,s.length,null);for(let y=0;y<s.length;y++){const _=s[y];t.mergedAttrs=$s(t.mergedAttrs,_.hostAttrs),HA(n,t,e,p,_),c3(p,_,a),null!==_.contentQueries&&(t.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(t.flags|=128);const C=_.type.prototype;!u&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),u=!0),!d&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),d=!0),p++}!function JH(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,a=[];let u=null,d=null;for(let p=e.directiveStart;p<i;p++){const y=r[p],_=y.inputs,C=null===s||mA(e)?null:f3(_,s);a.push(C),u=FA(_,p,u),d=FA(y.outputs,p,d)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=16),u.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=u,e.outputs=d}(n,t)}a&&function u3(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Te(-301,!1);i.push(e[r],s)}}}(t,i,a)}return t.mergedAttrs=$s(t.mergedAttrs,t.attrs),r}function VA(n,e,t,i,r,s){const a=s.hostBindings;if(a){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const d=~e.index;(function s3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(u)!=d&&u.push(d),u.push(i,r,a)}}function BA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function jA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function c3(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Wr(e)&&(t[""]=n)}}function UA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function HA(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=_a(r.type)),a=new Sc(s,Wr(r),null);n.blueprint[i]=a,t[i]=a,VA(n,e,0,i,Rd(n,t,r.hostVars,bt),r)}function h3(n,e,t){const i=yr(e,n),r=RA(t),s=n[10],a=Qy(n,jp(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=a}function Ra(n,e,t,i,r,s){const a=yr(n,e);!function S0(n,e,t,i,r,s,a){if(null==s)ln(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const u=null==a?et(s):a(s,i||"",r);ln(n)?n.setAttribute(e,r,u,t):t?e.setAttributeNS(t,r,u):e.setAttribute(r,u)}}(e[11],a,s,n.value,t,i,r)}function d3(n,e,t,i,r,s){const a=s[e];if(null!==a){const u=i.setInput;for(let d=0;d<a.length;){const p=a[d++],y=a[d++],_=a[d++];null!==u?i.setInput(t,_,p,y):t[y]=_}}}function f3(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function qA(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function g3(n,e){const t=Yr(e,n);if(ad(t)){const i=t[1];80&t[2]?Pd(i,t,i.template,t[8]):t[5]>0&&I0(t)}}function I0(n){for(let i=e0(n);null!==i;i=t0(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const a=s[1];Pd(a,s,a.template,s[8])}else s[5]>0&&I0(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Yr(t[i],n);ad(r)&&r[5]>0&&I0(r)}}function y3(n,e){const t=Yr(e,n),i=t[1];(function v3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Up(i,t,t[8])}function Qy(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function T0(n){for(;n;){n[2]|=64;const e=Vp(n);if(Bo(n)&&!e)return n;n=e}return null}function GA(n){!function A0(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Yw(t),r=i[1];XH(r,i,r.template,t)}}(n[8])}function k0(n,e,t){Dl(0),e(n,t)}const b3=(()=>Promise.resolve(null))();function zA(n){return n[7]||(n[7]=[])}function $A(n){return n.cleanup||(n.cleanup=[])}function WA(n,e,t){return(null===n||Wr(n))&&(t=function lp(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function KA(n,e){const t=n[9],i=t?t.get(Hc,null):null;i&&i.handleError(e)}function YA(n,e,t,i,r){for(let s=0;s<t.length;){const a=t[s++],u=t[s++],d=e[a],p=n.data[a];null!==p.setInput?p.setInput(d,r,i,u):d[u]=r}}function Fl(n,e,t){const i=vl(e,n);!function ZT(n,e,t){ln(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Zy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const u=e[a];"number"==typeof u?s=u:1==s?r=ha(r,u):2==s&&(i=ha(i,u+": "+e[++a]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const R0=new ge("INJECTOR",-1);class XA{get(e,t=Fc){if(t===Fc){const i=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw i.name="NullInjectorError",i}return t}}const P0=new ge("Set Injector scope."),Hp={},E3={};let O0;function QA(){return void 0===O0&&(O0=new XA),O0}function ZA(n,e=null,t=null,i){const r=JA(n,e,t,i);return r._resolveInjectorDefTypes(),r}function JA(n,e=null,t=null,i){return new D3(n,t,e||QA(),i)}class D3{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&go(t,u=>this.processProvider(u,e,t)),go([e],u=>this.processInjectorType(u,[],s)),this.records.set(R0,Od(void 0,this));const a=this.records.get(P0);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof e?null:at(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Fc,i=Ge.Default){this.assertNotDestroyed();const r=xd(this),s=Ji(void 0);try{if(!(i&Ge.SkipSelf)){let u=this.records.get(e);if(void 0===u){const d=function R3(n){return"function"==typeof n||"object"==typeof n&&n instanceof ge}(e)&&qr(e);u=d&&this.injectableDefInScope(d)?Od(N0(e),Hp):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(i&Ge.Self?QA():this.parent).get(e,t=i&Ge.Optional&&t===Fc?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Dd]=a[Dd]||[]).unshift(at(e)),r)throw a;return function Mp(n,e,t,i){const r=n[Dd];throw e[Iy]&&r.unshift(e[Iy]),n.message=function Ay(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=at(e);if(Array.isArray(e))r=e.map(at).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let u=e[a];s.push(a+":"+("string"==typeof u?JSON.stringify(u):at(u)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(xy,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Dd]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ji(s),xd(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(at(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(e,t,i){if(!(e=lt(e)))return!1;let r=pn(e);const s=null==r&&e.ngModule||void 0,a=void 0===s?e:s,u=-1!==i.indexOf(a);if(void 0!==s&&(r=pn(s)),null==r)return!1;if(null!=r.imports&&!u){let y;i.push(a);try{go(r.imports,_=>{this.processInjectorType(_,t,i)&&(void 0===y&&(y=[]),y.push(_))})}finally{}if(void 0!==y)for(let _=0;_<y.length;_++){const{ngModule:C,providers:x}=y[_];go(x,I=>this.processProvider(I,C,x||Lt))}}this.injectorDefTypes.add(a);const d=_a(a)||(()=>new a);this.records.set(a,Od(d,Hp));const p=r.providers;if(null!=p&&!u){const y=e;go(p,_=>this.processProvider(_,y,p))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=Nd(e=lt(e))?e:lt(e&&e.provide);const s=function S3(n,e,t){return tM(n)?Od(void 0,n.useValue):Od(eM(n),Hp)}(e);if(Nd(e)||!0!==e.multi)this.records.get(r);else{let a=this.records.get(r);a||(a=Od(void 0,Hp,!0),a.factory=()=>Vc(a.multi),this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===Hp&&(t.value=E3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function k3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=lt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function N0(n){const e=qr(n),t=null!==e?e.factory:_a(n);if(null!==t)return t;if(n instanceof ge)throw new Te(204,!1);if(n instanceof Function)return function x3(n){const e=n.length;if(e>0)throw Oc(e,"?"),new Te(204,!1);const t=function pu(n){const e=n&&(n[gs]||n[Jh]);if(e){const t=function Zh(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Te(204,!1)}function eM(n,e,t){let i;if(Nd(n)){const r=lt(n);return _a(r)||N0(r)}if(tM(n))i=()=>lt(n.useValue);else if(function T3(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Vc(n.deps||[]));else if(function I3(n){return!(!n||!n.useExisting)}(n))i=()=>$(lt(n.useExisting));else{const r=lt(n&&(n.useClass||n.provide));if(!function M3(n){return!!n.deps}(n))return _a(r)||N0(r);i=()=>new r(...Vc(n.deps))}return i}function Od(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tM(n){return null!==n&&"object"==typeof n&&Ip in n}function Nd(n){return"function"==typeof n}let Mi=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return ZA({name:""},i,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return ZA({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Fc,n.NULL=new XA,n.\u0275prov=ke({token:n,providedIn:"any",factory:()=>$(R0)}),n.__NG_ELEMENT_ID__=-1,n})();function j3(n,e){xc(Yw(n)[1],qt())}function Vt(n){let e=function fM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Wr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Te(903,"");r=e.\u0275dir}if(r){if(t){i.push(r);const a=n;a.inputs=V0(n.inputs),a.declaredInputs=V0(n.declaredInputs),a.outputs=V0(n.outputs);const u=r.hostBindings;u&&G3(n,u);const d=r.viewQuery,p=r.contentQueries;if(d&&H3(n,d),p&&q3(n,p),Ls(n.inputs,r.inputs),Ls(n.declaredInputs,r.declaredInputs),Ls(n.outputs,r.outputs),Wr(r)&&r.data.animation){const y=n.data;y.animation=(y.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const u=s[a];u&&u.ngInherit&&u(n),u===Vt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function U3(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=$s(r.hostAttrs,t=$s(t,r.hostAttrs))}}(i)}function V0(n){return n===ho?{}:n===Lt?[]:n}function H3(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function q3(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function G3(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Jy=null;function Fd(){if(!Jy){const n=Wt.Symbol;if(n&&n.iterator)Jy=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Jy=i)}}}return Jy}function qp(n){return!!function B0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fd()in n)}function Pr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Is(n,e,t,i){const r=re();return Pr(r,Cl(),e)&&(Dt(),Ra(Vn(),r,n,e,t,i)),Is}function zp(n,e,t,i,r,s,a,u){const d=re(),p=Dt(),y=n+20,_=p.firstCreatePass?function Q3(n,e,t,i,r,s,a,u,d){const p=e.consts,y=kd(e,n,4,a||null,Xr(p,u));x0(e,t,y,Xr(p,d)),xc(e,y);const _=y.tViews=Xy(2,y,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,p);return null!==e.queries&&(e.queries.template(e,y),_.queries=e.queries.embeddedTView(y)),y}(y,p,d,e,t,i,r,s,a):p.data[y];an(_,!1);const C=d[11].createComment("");zy(p,d,C,_),Rr(C,d),Qy(d,d[y]=qA(C,d,C,_)),va(_)&&E0(p,d,_),null!=a&&D0(d,_,u)}function zc(n){return bl(function Qr(){return mt.lFrame.contextLView}(),20+n)}function Y(n,e=Ge.Default){const t=re();return null===t?$(n,e):fy(qt(),t,lt(n),e)}function nv(){throw new Error("invalid")}function Oa(n,e,t){const i=re();return Pr(i,Cl(),e)&&Zs(Dt(),Vn(),i,n,e,i[11],t,!1),Oa}function G0(n,e,t,i,r){const a=r?"class":"style";YA(n,t,e.inputs[a],a,i)}function ai(n,e,t,i){const r=re(),s=Dt(),a=20+n,u=r[11],d=r[a]=r0(u,e,function Ai(){return mt.lFrame.currentNamespace}()),p=s.firstCreatePass?function vq(n,e,t,i,r,s,a){const u=e.consts,p=kd(e,n,2,r,Xr(u,s));return x0(e,t,p,Xr(u,a)),null!==p.attrs&&Zy(p,p.attrs,!1),null!==p.mergedAttrs&&Zy(p,p.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,p),p}(a,s,r,0,e,t,i):s.data[a];an(p,!0);const y=p.mergedAttrs;null!==y&&Ic(u,d,y);const _=p.classes;null!==_&&c0(u,d,_);const C=p.styles;return null!==C&&dA(u,d,C),64!=(64&p.flags)&&zy(s,r,d,p),0===function ld(){return mt.lFrame.elementDepthCount}()&&Rr(d,r),function ud(){mt.lFrame.elementDepthCount++}(),va(p)&&(E0(s,r,p),function kA(n,e,t){if(mo(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}(s,p,r)),null!==i&&D0(r,p),ai}function ki(){let n=qt();Ds()?tr():(n=n.parent,an(n,!1));const e=n;!function bw(){mt.lFrame.elementDepthCount--}();const t=Dt();return t.firstCreatePass&&(xc(t,n),mo(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function ay(n){return 0!=(16&n.flags)}(e)&&G0(t,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function yd(n){return 0!=(32&n.flags)}(e)&&G0(t,e,re(),e.stylesWithoutHost,!1),ki}function Yo(n,e,t,i){return ai(n,e,t,i),ki(),Yo}function $p(){return re()}function Wp(n){return!!n&&"function"==typeof n.then}function OM(n){return!!n&&"function"==typeof n.subscribe}const W0=OM;function yi(n,e,t,i){const r=re(),s=Dt(),a=qt();return NM(s,r,r[11],a,n,e,!!t,i),yi}function K0(n,e){const t=qt(),i=re(),r=Dt();return NM(r,i,WA(Dc(r.data),t,i),t,n,e,!1),K0}function NM(n,e,t,i,r,s,a,u){const d=va(i),y=n.firstCreatePass&&$A(n),_=e[8],C=zA(e);let x=!0;if(3&i.type||u){const L=yr(i,e),Q=u?u(L):L,j=C.length,se=u?_e=>u(Jn(_e[i.index])):i.index;if(ln(t)){let _e=null;if(!u&&d&&(_e=function bq(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===t&&r[s+1]===i){const u=e[7],d=r[s+2];return u.length>d?u[d]:null}"string"==typeof a&&(s+=2)}return null}(n,e,r,i.index)),null!==_e)(_e.__ngLastListenerFn__||_e).__ngNextListenerFn__=s,_e.__ngLastListenerFn__=s,x=!1;else{s=Y0(i,e,_,s,!1);const Ue=t.listen(Q,r,s);C.push(s,Ue),y&&y.push(r,se,j,j+1)}}else s=Y0(i,e,_,s,!0),Q.addEventListener(r,s,a),C.push(s),y&&y.push(r,se,j,a)}else s=Y0(i,e,_,s,!1);const I=i.outputs;let k;if(x&&null!==I&&(k=I[r])){const L=k.length;if(L)for(let Q=0;Q<L;Q+=2){const dt=e[k[Q]][k[Q+1]].subscribe(s),Rt=C.length;C.push(s,dt),y&&y.push(r,i.index,Rt,-(Rt+1))}}}function FM(n,e,t,i){try{return!1!==t(i)}catch(r){return KA(n,r),!1}}function Y0(n,e,t,i,r){return function s(a){if(a===Function)return i;const u=2&n.flags?Yr(n.index,e):e;0==(32&e[2])&&T0(u);let d=FM(e,0,i,a),p=s.__ngNextListenerFn__;for(;p;)d=FM(e,0,p,a)&&d,p=p.__ngNextListenerFn__;return r&&!1===d&&(a.preventDefault(),a.returnValue=!1),d}}function X0(n=1){return function Dw(n){return(mt.lFrame.contextLView=function pd(n,e){for(;n>0;)e=e[15],n--;return e}(n,mt.lFrame.contextLView))[8]}(n)}function wq(n,e){let t=null;const i=function MH(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?gA(n,s,!0):PH(i,s))return r}else t=r}return t}function Wd(n){const e=re()[16][6];if(!e.projection){const i=e.projection=Oc(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const a=n?wq(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function Ll(n,e=0,t){const i=re(),r=Dt(),s=kd(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),tr(),64!=(64&s.flags)&&function EH(n,e,t){hA(e[11],0,e,t,tA(n,t,e),sA(t.parent||e[6],t,e))}(r,i,s)}function $M(n,e,t,i,r){const s=n[t+1],a=null===e;let u=i?Wo(s):Nl(s),d=!1;for(;0!==u&&(!1===d||a);){const y=n[u+1];Dq(n[u],e)&&(d=!0,n[u+1]=i?f0(y):h0(y)),u=i?Wo(y):Nl(y)}d&&(n[t+1]=i?h0(s):f0(s))}function Dq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Sa(n,e)>=0}function bo(n,e){return function Xo(n,e,t,i){const r=re(),s=Dt(),a=function xs(n){const e=mt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function t1(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[oi()],a=function e1(n,e){return e>=n.expandoStartIndex}(n,t);(function o1(n,e){return 0!=(n.flags&(e?16:32))})(s,i)&&null===e&&!a&&(e=!1),e=function Pq(n,e,t,i){const r=Dc(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Kp(t=Z0(null,n,e,t,i),e.attrs,i),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==r)if(t=Z0(r,n,e,t,i),null===s){let d=function Oq(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Nl(i))return n[Wo(i)]}(n,e,i);void 0!==d&&Array.isArray(d)&&(d=Z0(null,n,e,d[1],i),d=Kp(d,e.attrs,i),function Nq(n,e,t,i){n[Wo(t?e.classBindings:e.styleBindings)]=i}(n,e,i,d))}else s=function Fq(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Kp(i,n[s].hostAttrs,t);return Kp(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function Cq(n,e,t,i,r,s){let a=s?e.classBindings:e.styleBindings,u=Wo(a),d=Nl(a);n[i]=t;let y,p=!1;if(Array.isArray(t)){const _=t;y=_[1],(null===y||Sa(_,y)>0)&&(p=!0)}else y=t;if(r)if(0!==d){const C=Wo(n[u+1]);n[i+1]=Wy(C,u),0!==C&&(n[C+1]=d0(n[C+1],i)),n[u+1]=function LH(n,e){return 131071&n|e<<17}(n[u+1],i)}else n[i+1]=Wy(u,0),0!==u&&(n[u+1]=d0(n[u+1],i)),u=i;else n[i+1]=Wy(d,0),0===u?u=i:n[d+1]=d0(n[d+1],i),d=i;p&&(n[i+1]=h0(n[i+1])),$M(n,y,i,!0),$M(n,y,i,!1),function Eq(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Sa(s,e)>=0&&(t[i+1]=f0(t[i+1]))}(e,y,n,i,s),a=Wy(u,d),s?e.classBindings=a:e.styleBindings=a}(r,s,e,t,a,i)}}(s,n,a,i),e!==bt&&Pr(r,a,e)&&function r1(n,e,t,i,r,s,a,u){if(!(3&e.type))return;const d=n.data,p=d[u+1];iv(function wA(n){return 1==(1&n)}(p)?s1(d,e,t,r,Nl(p),a):void 0)||(iv(s)||function bA(n){return 2==(2&n)}(p)&&(s=s1(d,null,t,r,u,a)),function xH(n,e,t,i,r){const s=ln(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:Qs.DashCase;if(null==r)s?n.removeStyle(t,i,a):t.style.removeProperty(i);else{const u="string"==typeof r&&r.endsWith("!important");u&&(r=r.slice(0,-10),a|=Qs.Important),s?n.setStyle(t,i,r,a):t.style.setProperty(i,r,u?"important":"")}}}(i,a,vl(oi(),t),r,s))}(s,s.data[oi()],r,r[11],n,r[a+1]=function Bq(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=at(function v(n){return n instanceof class c{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),i,a)}(n,e,null,!0),bo}function Z0(n,e,t,i,r){let s=null;const a=t.directiveEnd;let u=t.directiveStylingLast;for(-1===u?u=t.directiveStart:u++;u<a&&(s=e[u],i=Kp(i,s.hostAttrs,r),s!==n);)u++;return null!==n&&(t.directiveStylingLast=u),i}function Kp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ir(n,a,!!t||e[++s]))}return void 0===n?null:n}function s1(n,e,t,i,r,s){const a=null===e;let u;for(;r>0;){const d=n[r],p=Array.isArray(d),y=p?d[1]:d,_=null===y;let C=t[r+1];C===bt&&(C=_?Lt:void 0);let x=_?xu(C,i):y===i?C:void 0;if(p&&!iv(x)&&(x=xu(d,i)),iv(x)&&(u=x,a))return u;const I=n[r+1];r=a?Wo(I):Nl(I)}if(null!==e){let d=s?e.residualClasses:e.residualStyles;null!=d&&(u=xu(d,i))}return u}function iv(n){return void 0!==n}function Zo(n,e=""){const t=re(),i=Dt(),r=n+20,s=i.firstCreatePass?kd(i,r,1,e,null):i.data[r],a=t[r]=function n0(n,e){return ln(n)?n.createText(e):n.createTextNode(e)}(t[11],e);zy(i,t,a,s),an(s,!1)}function J0(n){return rv("",n,""),J0}function rv(n,e,t){const i=re(),r=function Vd(n,e,t,i){return Pr(n,Cl(),t)?e+et(t)+i:bt}(i,n,e,t);return r!==bt&&Fl(i,oi(),r),rv}function eC(n,e,t){const i=re();return Pr(i,Cl(),e)&&Zs(Dt(),Vn(),i,n,e,i[11],t,!0),eC}function tC(n,e,t){const i=re();if(Pr(i,Cl(),e)){const s=Dt(),a=Vn();Zs(s,a,i,n,e,WA(Dc(s.data),a,i),t,!0)}return tC}const sv="en-US";let S1=sv;function rC(n,e,t,i,r){if(n=lt(n),Array.isArray(n))for(let s=0;s<n.length;s++)rC(n[s],e,t,i,r);else{const s=Dt(),a=re();let u=Nd(n)?n:lt(n.provide),d=eM(n);const p=qt(),y=1048575&p.providerIndexes,_=p.directiveStart,C=p.providerIndexes>>20;if(Nd(n)||!n.multi){const x=new Sc(d,r,Y),I=oC(u,e,r?y:y+C,_);-1===I?(kc(Ac(p,a),s,u),sC(s,n,e.length),e.push(u),p.directiveStart++,p.directiveEnd++,r&&(p.providerIndexes+=1048576),t.push(x),a.push(x)):(t[I]=x,a[I]=x)}else{const x=oC(u,e,y+C,_),I=oC(u,e,y,y+C),k=x>=0&&t[x],L=I>=0&&t[I];if(r&&!L||!r&&!k){kc(Ac(p,a),s,u);const Q=function rz(n,e,t,i,r){const s=new Sc(n,t,Y);return s.multi=[],s.index=e,s.componentProviders=0,X1(s,r,i&&!t),s}(r?iz:nz,t.length,r,i,d);!r&&L&&(t[I].providerFactory=Q),sC(s,n,e.length,0),e.push(u),p.directiveStart++,p.directiveEnd++,r&&(p.providerIndexes+=1048576),t.push(Q),a.push(Q)}else sC(s,n,x>-1?x:I,X1(t[r?I:x],d,!r&&i));!r&&i&&L&&t[I].componentProviders++}}}function sC(n,e,t,i){const r=Nd(e),s=function A3(n){return!!n.useClass}(e);if(r||s){const d=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(d){const p=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const y=p.indexOf(t);-1===y?p.push(t,[i,d]):p[y+1].push(i,d)}else p.push(t,d)}}}function X1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function oC(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function nz(n,e,t,i){return aC(this.multi,[])}function iz(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,u=wu(t,t[1],this.providerFactory.index,i);s=u.slice(0,a),aC(r,s);for(let d=a;d<u.length;d++)s.push(u[d])}else s=[],aC(r,s);return s}function aC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Tn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function tz(n,e,t){const i=Dt();if(i.firstCreatePass){const r=Wr(n);rC(t,i.data,i.blueprint,r,!0),rC(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Q1{}class az{resolveComponentFactory(e){throw function oz(n){const e=Error(`No component factory found for ${at(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Wc=(()=>{class n{}return n.NULL=new az,n})();function lz(){return Qd(qt(),re())}function Qd(n,e){return new $n(yr(n,e))}let $n=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=lz,n})();function uz(n){return n instanceof $n?n.nativeElement:n}class Jp{}let dz=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>null}),n})();class Pu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const J1=new Pu("13.3.10"),lC={};function cv(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Jn(s)),Ar(s))for(let u=10;u<s.length;u++){const d=s[u],p=d[1].firstChild;null!==p&&cv(d[1],d,p,i)}const a=t.type;if(8&a)cv(n,e,t.child,i);else if(32&a){const u=Jw(t,e);let d;for(;d=u();)i.push(d)}else if(16&a){const u=uA(e,t);if(Array.isArray(u))i.push(...u);else{const d=Vp(e[16]);cv(d[1],d,u,i,!0)}}t=r?t.projectionNext:t.next}return i}class em{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return cv(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(s0(e,i),Ed(t,i))}this._attachedToViewContainer=!1}eA(this._lView[1],this._lView)}onDestroy(e){NA(this._lView[1],this._lView,null,e)}markForCheck(){T0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function M0(n,e,t){const i=e[10];i.begin&&i.begin();try{Pd(n,e,n.template,t)}catch(r){throw KA(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mH(n,e){Bp(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=e}}class fz extends em{constructor(e){super(e),this._view=e}detectChanges(){GA(this._view)}checkNoChanges(){}get context(){return null}}class ek extends Wc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Gn(e);return new uC(t,this.ngModule)}}function tk(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class uC extends Q1{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function NH(n){return n.map(OH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return tk(this.componentDef.inputs)}get outputs(){return tk(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function mz(n,e){return{get:(t,i,r)=>{const s=n.get(t,lC,r);return s!==lC||i===lC?s:e.get(t,i,r)}}}(e,r.injector):e,a=s.get(Jp,ey),u=s.get(dz,null),d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",y=i?function OA(n,e,t){if(ln(n))return n.selectRootElement(e,t===Tr.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(d,i,this.componentDef.encapsulation):r0(a.createRenderer(null,this.componentDef),p,function pz(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),_=this.componentDef.onPush?576:528,C=function dM(n,e){return{components:[],scheduler:n||aH,clean:b3,playerHandler:e||null,flags:0}}(),x=Xy(0,null,null,1,0,null,null,null,null,null),I=jp(null,x,C,_,null,null,a,d,u,s);let k,L;xl(I);try{const Q=function cM(n,e,t,i,r,s){const a=t[1];t[20]=n;const d=kd(a,20,2,"#host",null),p=d.mergedAttrs=e.hostAttrs;null!==p&&(Zy(d,p,!0),null!==n&&(Ic(r,n,p),null!==d.classes&&c0(r,n,d.classes),null!==d.styles&&dA(r,n,d.styles)));const y=i.createRenderer(n,e),_=jp(t,RA(e),null,e.onPush?64:16,t[20],d,i,y,s||null,null);return a.firstCreatePass&&(kc(Ac(d,t),a,e.type),jA(a,d),UA(d,t.length,1)),Qy(t,_),t[20]=_}(y,this.componentDef,I,a,d);if(y)if(i)Ic(d,y,["ng-version",J1.full]);else{const{attrs:j,classes:se}=function FH(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!$o(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);j&&Ic(d,y,j),se&&se.length>0&&c0(d,y,se.join(" "))}if(L=_l(x,20),void 0!==t){const j=L.projection=[];for(let se=0;se<this.ngContentSelectors.length;se++){const _e=t[se];j.push(null!=_e?Array.from(_e):null)}}k=function hM(n,e,t,i,r){const s=t[1],a=function r3(n,e,t){const i=qt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),HA(n,i,e,Rd(n,e,1,null),t));const r=wu(e,n,i.directiveStart,i);Rr(r,e);const s=yr(i,e);return s&&Rr(s,e),r}(s,t,e);if(i.components.push(a),n[8]=a,r&&r.forEach(d=>d(a,e)),e.contentQueries){const d=qt();e.contentQueries(1,a,d.directiveStart)}const u=qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(zs(u.index),VA(t[1],u,0,u.directiveStart,u.directiveEnd,e),BA(e,a)),a}(Q,this.componentDef,I,C,[j3]),Up(x,I,null)}finally{fd()}return new yz(this.componentType,k,Qd(L,I),I,L)}}class yz extends class sz{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new fz(r),this.componentType=e}get injector(){return new Cu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Bl{}class nk{}const Zd=new Map;class sk extends Bl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ek(this);const i=Fn(e);this._bootstrapComponents=Ma(i.bootstrap),this._r3Injector=JA(e,t,[{provide:Bl,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],at(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Mi.THROW_IF_NOT_FOUND,i=Ge.Default){return e===Mi||e===Bl||e===R0?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cC extends nk{constructor(e){super(),this.moduleType=e,null!==Fn(e)&&function _z(n){const e=new Set;!function t(i){const r=Fn(i,!0),s=r.id;null!==s&&(function ik(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${at(e)} vs ${at(e.name)}`)}(s,Zd.get(s),i),Zd.set(s,i));const a=Ma(r.imports);for(const u of a)e.has(u)||(e.add(u),t(u))}(n)}(e)}create(e){return new sk(this.moduleType,e)}}function ok(n,e,t,i,r,s){const a=e+t;return Pr(n,a,r)?function Pa(n,e,t){return n[e]=t}(n,a+1,s?i.call(s,r):i(r)):function tm(n,e){const t=n[e];return t===bt?void 0:t}(n,a+1)}function hC(n,e){const t=Dt();let i;const r=n+20;t.firstCreatePass?(i=function Mz(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=_a(i.type)),a=Ji(Y);try{const u=qo(!1),d=s();return qo(u),function Z3(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,re(),r,d),d}finally{Ji(a)}}function dC(n,e,t){const i=n+20,r=re(),s=bl(r,i);return function nm(n,e){return n[1].data[e].pure}(r,i)?ok(r,function Ln(){const n=mt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function fC(n){return e=>{setTimeout(n,void 0,e)}}const Yt=class Nz extends ce{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,a;let u=e,d=t||(()=>null),p=i;if(e&&"object"==typeof e){const _=e;u=null===(r=_.next)||void 0===r?void 0:r.bind(_),d=null===(s=_.error)||void 0===s?void 0:s.bind(_),p=null===(a=_.complete)||void 0===a?void 0:a.bind(_)}this.__isAsync&&(d=fC(d),u&&(u=fC(u)),p&&(p=fC(p)));const y=super.subscribe({next:u,error:d,complete:p});return e instanceof ie&&e.add(y),y}};function Fz(){return this._results[Fd()]()}class im{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Fd(),i=im.prototype;i[t]||(i[t]=Fz)}get changes(){return this._changes||(this._changes=new Yt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Ss(e);(this._changesDetected=!function jw(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let La=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bz,n})();const Lz=La,Vz=class extends Lz{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=jp(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),Up(t,i,e),new em(i)}};function Bz(){return hv(qt(),re())}function hv(n,e){return 4&n.type?new Vz(e,n,Qd(n,e)):null}let Js=(()=>{class n{}return n.__NG_ELEMENT_ID__=jz,n})();function jz(){return fk(qt(),re())}const Uz=Js,hk=class extends Uz{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new Cu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ws(this._hostTNode,this._hostLView);if(uy(e)){const t=Ho(e,this._hostLView),i=bu(e);return new Cu(t[1].data[i+8],t)}return new Cu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=dk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const a=e&&!function Pc(n){return"function"==typeof n}(e);let u;if(a)u=t;else{const _=t||{};u=_.index,i=_.injector,r=_.projectableNodes,s=_.ngModuleRef}const d=a?e:new uC(Gn(e)),p=i||this.parentInjector;if(!s&&null==d.ngModule){const C=(a?p:this.parentInjector).get(Bl,null);C&&(s=C)}const y=d.create(p,r,void 0,s);return this.insert(y.hostView,u),y}insert(e,t){const i=e._lView,r=i[1];if(function ba(n){return Ar(n[3])}(i)){const y=this.indexOf(e);if(-1!==y)this.detach(y);else{const _=i[3],C=new hk(_,_[6],_[3]);C.detach(C.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function yH(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],_y(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[17];null!==a&&t!==a&&function vH(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(a,e);const u=e[19];null!==u&&u.insertView(n),e[2]|=128}(r,i,a,s);const u=l0(s,a),d=i[11],p=Gy(d,a[7]);return null!==p&&function pH(n,e,t,i,r,s){i[0]=r,i[6]=e,Bp(n,i,t,1,r,s)}(r,a[6],d,i,p,u),e.attachToViewContainerRef(),_y(pC(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=dk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=s0(this._lContainer,t);i&&(Ed(pC(this._lContainer),t),eA(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=s0(this._lContainer,t);return i&&null!=Ed(pC(this._lContainer),t)?new em(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function dk(n){return n[8]}function pC(n){return n[8]||(n[8]=[])}function fk(n,e){let t;const i=e[n.index];if(Ar(i))t=i;else{let r;if(8&n.type)r=Jn(i);else{const s=e[11];r=s.createComment("");const a=yr(n,e);qc(s,Gy(s,a),r,function CH(n,e){return ln(n)?n.nextSibling(e):e.nextSibling}(s,a),!1)}e[n.index]=t=qA(i,e,r,n),Qy(e,t)}return new hk(t,n,e)}class mC{constructor(e){this.queryList=e,this.matches=null}clone(){return new mC(this.queryList)}setDirty(){this.queryList.setDirty()}}class gC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const a=t.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new gC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==vk(e,t).matches&&this.queries[t].setDirty()}}class pk{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class yC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new yC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new vC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,Gz(t,s)),this.matchTNodeWithReadOption(e,t,wd(t,e,s,!1,!1))}else i===La?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$n||r===Js||r===La&&4&t.type)this.addMatch(t.index,-2);else{const s=wd(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Gz(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function $z(n,e,t,i){return-1===t?function zz(n,e){return 11&n.type?Qd(n,e):4&n.type?hv(n,e):null}(e,n):-2===t?function Wz(n,e,t){return t===$n?Qd(e,n):t===La?hv(e,n):t===Js?fk(e,n):void 0}(n,e,i):wu(n,n[1],t,e)}function mk(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,a=t.matches,u=[];for(let d=0;d<a.length;d+=2){const p=a[d];u.push(p<0?null:$z(e,s[p],a[d+1],t.metadata.read))}r.matches=u}return r.matches}function _C(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const a=mk(n,e,r,t);for(let u=0;u<s.length;u+=2){const d=s[u];if(d>0)i.push(a[u/2]);else{const p=s[u+1],y=e[-d];for(let _=10;_<y.length;_++){const C=y[_];C[17]===C[3]&&_C(C[1],C,p,i)}if(null!==y[9]){const _=y[9];for(let C=0;C<_.length;C++){const x=_[C];_C(x[1],x,p,i)}}}}}return i}function Or(n){const e=re(),t=Dt(),i=Zr();Dl(i+1);const r=vk(t,i);if(n.dirty&&up(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?_C(t,e,i,[]):mk(t,e,r,i);n.reset(s,uz),n.notifyOnChanges()}return!0}return!1}function dv(n,e,t){const i=Dt();i.firstCreatePass&&(yk(i,new pk(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),gk(i,re(),e)}function eo(n,e,t,i){const r=Dt();if(r.firstCreatePass){const s=qt();yk(r,new pk(e,t,i),s.index),function Yz(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}gk(r,re(),t)}function Nr(){return function Kz(n,e){return n[19].queries[e].queryList}(re(),Zr())}function gk(n,e,t){const i=new im(4==(4&t));NA(n,e,i,i.destroy),null===e[19]&&(e[19]=new gC),e[19].queries.push(new mC(i))}function yk(n,e,t){null===n.queries&&(n.queries=new yC),n.queries.track(new vC(e,t))}function vk(n,e){return n.queries.getByIndex(e)}function mv(...n){}const xC=new ge("Application Initializer");let SC=(()=>{class n{constructor(t){this.appInits=t,this.resolve=mv,this.reject=mv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Wp(s))t.push(s);else if(W0(s)){const a=new Promise((u,d)=>{s.subscribe({complete:u,error:d})});t.push(a)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)($(xC,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sm=new ge("AppId",{providedIn:"root",factory:function Nk(){return`${IC()}${IC()}${IC()}`}});function IC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fk=new ge("Platform Initializer"),Ou=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lk=new ge("appBootstrapListener");let f4=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jl=new ge("LocaleId",{providedIn:"root",factory:()=>Lc(jl,Ge.Optional|Ge.SkipSelf)||function p4(){return"undefined"!=typeof $localize&&$localize.locale||sv}()});class g4{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Vk=(()=>{class n{compileModuleSync(t){return new cC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Ma(Fn(t).declarations).reduce((a,u)=>{const d=Gn(u);return d&&a.push(new uC(d)),a},[]);return new g4(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v4=(()=>Promise.resolve(0))();function TC(n){"undefined"==typeof Zone?v4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function _4(){let n=Wt.requestAnimationFrame,e=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function C4(n){const e=()=>{!function w4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,MC(n),n.isCheckStableRunning=!0,AC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),MC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,a,u)=>{try{return Bk(n),t.invokeTask(r,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),jk(n)}},onInvoke:(t,i,r,s,a,u,d)=>{try{return Bk(n),t.invoke(r,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&e(),jk(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,MC(n),AC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,e,b4,mv,mv);try{return s.runTask(a,t,i)}finally{s.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const b4={};function AC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Bk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function jk(n){n._nesting--,AC(n)}class E4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let kC=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gt.assertNotInAngularZone(),TC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())TC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)($(Gt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),D4=(()=>{class n{constructor(){this._applications=new Map,RC.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return RC.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class x4{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let RC=new x4,Kc=null;const Uk=new ge("AllowMultipleToken"),Hk=new ge("PlatformOnDestroy");class qk{constructor(e,t){this.name=e,this.token=t}}function Gk(n,e,t=[]){const i=`Platform: ${e}`,r=new ge(i);return(s=[])=>{let a=PC();if(!a||a.injector.get(Uk,!1)){const u=[...t,...s,{provide:r,useValue:!0}];n?n(u):function A4(n){if(Kc&&!Kc.get(Uk,!1))throw new Te(400,"");Kc=n;const e=n.get(zk),t=n.get(Fk,null);t&&t.forEach(i=>i())}(function k4(n=[],e){return Mi.create({name:e,providers:[{provide:P0,useValue:"platform"},{provide:Hk,useValue:()=>Kc=null},...n]})}(u,i))}return function M4(n){const e=PC();if(!e)throw new Te(401,"");return e}()}}function PC(){var n;return null!==(n=null==Kc?void 0:Kc.get(zk))&&void 0!==n?n:null}let zk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const u=function R4(n,e){let t;return t="noop"===n?new E4:("zone.js"===n?void 0:n)||new Gt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),d=[{provide:Gt,useValue:u}];return u.run(()=>{const p=Mi.create({providers:d,parent:this.injector,name:t.moduleType.name}),y=t.create(p),_=y.injector.get(Hc,null);if(!_)throw new Te(402,"");return u.runOutsideAngular(()=>{const C=u.onError.subscribe({next:x=>{_.handleError(x)}});y.onDestroy(()=>{OC(this._modules,y),C.unsubscribe()})}),function P4(n,e,t){try{const i=t();return Wp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(_,u,()=>{const C=y.injector.get(SC);return C.runInitializers(),C.donePromise.then(()=>(function cG(n){Di(n,"Expected localeId to be defined"),"string"==typeof n&&(S1=n.toLowerCase().replace(/_/g,"-"))}(y.injector.get(jl,sv)||sv),this._moduleDoBootstrap(y),y))})})}bootstrapModule(t,i=[]){const r=$k({},i);return function I4(n,e,t){const i=new cC(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(gv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Te(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Hk,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)($(Mi))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $k(n,e){return Array.isArray(e)?e.reduce($k,n):Object.assign(Object.assign({},n),e)}let gv=(()=>{class n{constructor(t,i,r,s){this._zone=t,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ve(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),u=new Ve(d=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{Gt.assertNotInAngularZone(),TC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{Gt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});this.isStable=nl(a,u.pipe(function ca(n={}){const{connector:e=(()=>new ce),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a=null,u=null,d=null,p=0,y=!1,_=!1;const C=()=>{null==u||u.unsubscribe(),u=null},x=()=>{C(),a=d=null,y=_=!1},I=()=>{const k=a;x(),null==k||k.unsubscribe()};return Ct((k,L)=>{p++,!_&&!y&&C();const Q=d=null!=d?d:e();L.add(()=>{p--,0===p&&!_&&!y&&(u=Hr(I,r))}),Q.subscribe(L),a||(a=new Yn({next:j=>Q.next(j),error:j=>{_=!0,C(),u=Hr(x,t,j),Q.error(j)},complete:()=>{y=!0,C(),u=Hr(x,i),Q.complete()}}),In(k).subscribe(a))})(s)}}()))}bootstrap(t,i){if(!this._initStatus.done)throw new Te(405,"");let r;r=t instanceof Q1?t:this._injector.get(Wc).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function T4(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Bl),u=r.create(Mi.NULL,[],i||r.selector,s),d=u.location.nativeElement,p=u.injector.get(kC,null),y=p&&u.injector.get(D4);return p&&y&&y.registerApplication(d,p),u.onDestroy(()=>{this.detachView(u.hostView),OC(this.components,u),y&&y.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;OC(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Lk,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)($(Gt),$(Mi),$(Hc),$(SC))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Kk=!0,Ul=(()=>{class n{}return n.__NG_ELEMENT_ID__=F4,n})();function F4(n){return function L4(n,e,t){if($r(n)&&!t){const i=Yr(n.index,e);return new em(i,i)}return 47&n.type?new em(e[16],e):null}(qt(),re(),16==(16&n))}class Jk{constructor(){}supports(e){return qp(e)}create(e){return new q4(e)}}const H4=(n,e)=>e;class q4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||H4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const a=!i||t&&t.currentIndex<tR(i,r,s)?t:i,u=tR(a,r,s),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{s||(s=[]);const p=u-r,y=d-r;if(p!=y){for(let C=0;C<p;C++){const x=C<s.length?s[C]:s[C]=0,I=x+C;y<=I&&I<p&&(s[C]=x+1)}s[a.previousIndex]=y-p}}u!==d&&e(a,u,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!qp(e))throw new Te(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,a,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let u=0;u<this.length;u++)s=e[u],a=this._trackByFn(u,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,u)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,u),i=!0),t=t._next}else r=0,function X3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Fd()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,u=>{a=this._trackByFn(r,u),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,u,a,r)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new G4(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new eR),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class G4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class z4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class eR{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new z4,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tR(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function iR(){return new _v([new Jk])}let _v=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||iR()),deps:[[n,new yo,new rr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Te(901,"")}}return n.\u0275prov=ke({token:n,providedIn:"root",factory:iR}),n})();const X4=Gk(null,"core",[]);let Q4=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)($(gv))},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({}),n})(),bv=null;function Va(){return bv}const At=new ge("DocumentToken");let Xc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return function t$(){return $(sR)}()},providedIn:"platform"}),n})();const n$=new ge("Location Initialized");let sR=(()=>{class n extends Xc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Va().getBaseHref(this._doc)}onPopState(t){const i=Va().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Va().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){oR()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){oR()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)($(At))},n.\u0275prov=ke({token:n,factory:function(){return function i$(){return new sR($(At))}()},providedIn:"platform"}),n})();function oR(){return!!window.history.pushState}function BC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function aR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Hl(n){return n&&"?"!==n[0]?"?"+n:n}let ef=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return function r$(n){const e=$(At).location;return new lR($(Xc),e&&e.origin||"")}()},providedIn:"root"}),n})();const jC=new ge("appBaseHref");let lR=(()=>{class n extends ef{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return BC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Hl(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+Hl(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+Hl(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)($(Xc),$(jC,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),s$=(()=>{class n extends ef{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=BC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+Hl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+Hl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)($(Xc),$(jC,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),am=(()=>{class n{constructor(t,i){this._subject=new Yt,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=aR(uR(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Hl(i))}normalize(t){return n.stripTrailingSlash(function a$(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,uR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hl(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hl(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Hl,n.joinWithSlash=BC,n.stripTrailingSlash=aR,n.\u0275fac=function(t){return new(t||n)($(ef),$(Xc))},n.\u0275prov=ke({token:n,factory:function(){return function o$(){return new am($(ef),$(Xc))}()},providedIn:"root"}),n})();function uR(n){return n.replace(/\/index.html$/,"")}class W${constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let XC=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new W$(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,a),vR(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{vR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Y(Js),Y(La),Y(_v))},n.\u0275dir=Be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function vR(n,e){n.context.$implicit=e.item}class eW{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class tW{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const nW=new tW,iW=new eW;let JC=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Wp(t))return nW;if(OM(t))return iW;throw function ea(n,e){return new Te(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(Y(Ul,16))},n.\u0275pipe=Qn({name:"async",type:n,pure:!1}),n})(),Mv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({}),n})();const ER="browser";function DR(n){return n===ER}function xR(n){return"server"===n}let EW=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>new DW($(At),window)}),n})();class DW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=SR(this.window.history)||SR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function SR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nE extends class IW extends class e${}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J4(n){bv||(bv=n)}(new nE)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function TW(){return cm=cm||document.querySelector("base"),cm?cm.getAttribute("href"):null}();return null==t?null:function AW(n){kv=kv||document.createElement("a"),kv.setAttribute("href",n);const e=kv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function G$(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let kv,cm=null;const IR=new ge("TRANSITION_ID"),kW=[{provide:xC,useFactory:function MW(n,e,t){return()=>{t.get(SC).donePromise.then(()=>{const i=Va(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[IR,At,Mi],multi:!0}];class iE{static init(){!function S4(n){RC=n}(new iE)}addToWindow(e){Wt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wt.getAllAngularRootElements=()=>e.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(i=>{const r=Wt.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(d){a=a||d,s--,0==s&&i(a)};r.forEach(function(d){d.whenStable(u)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?Va().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let RW=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const Rv=new ge("EventManagerPlugins");let Pv=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)($(Rv),$(Gt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class TR{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Va().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let AR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),hm=(()=>{class n extends AR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(MR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(MR))}}return n.\u0275fac=function(t){return new(t||n)($(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function MR(n){Va().remove(n)}const rE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sE=/%COMP%/g;function Ov(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ov(n,r,t):(r=r.replace(sE,n),t.push(r))}return t}function PR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nv=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new oE(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Tr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new VW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Tr.ShadowDom:return new BW(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ov(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)($(Pv),$(hm),$(sm))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class oE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(rE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=rE[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=rE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Qs.DashCase|Qs.Important)?e.style.setProperty(t,i,r&Qs.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Qs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,PR(i)):this.eventManager.addEventListener(e,t,PR(i))}}class VW extends oE{constructor(e,t,i,r){super(e),this.component=i;const s=Ov(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function NW(n){return"_ngcontent-%COMP%".replace(sE,n)}(r+"-"+i.id),this.hostAttr=function FW(n){return"_nghost-%COMP%".replace(sE,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class BW extends oE{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ov(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let jW=(()=>{class n extends TR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)($(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const NR=["alt","control","meta","shift"],HW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let GW=(()=>{class n extends TR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Va().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(NR.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static getEventFullKey(t){let i="",r=function zW(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&FR.hasOwnProperty(e)&&(e=FR[e]))}return HW[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),NR.forEach(s=>{s!=r&&qW[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)($(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const YW=Gk(X4,"browser",[{provide:Ou,useValue:ER},{provide:Fk,useValue:function $W(){nE.makeCurrent(),iE.init()},multi:!0},{provide:At,useFactory:function KW(){return function Gs(n){sp=n}(document),document},deps:[]}]),XW=[{provide:P0,useValue:"root"},{provide:Hc,useFactory:function WW(){return new Hc},deps:[]},{provide:Rv,useClass:jW,multi:!0,deps:[At,Gt,Ou]},{provide:Rv,useClass:GW,multi:!0,deps:[At]},{provide:Nv,useClass:Nv,deps:[Pv,hm,sm]},{provide:Jp,useExisting:Nv},{provide:AR,useExisting:hm},{provide:hm,useClass:hm,deps:[At]},{provide:kC,useClass:kC,deps:[Gt]},{provide:Pv,useClass:Pv,deps:[Rv,Gt]},{provide:class SW{},useClass:RW,deps:[]}];let LR=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:sm,useValue:t.appId},{provide:IR,useExisting:sm},kW]}}}return n.\u0275fac=function(t){return new(t||n)($(n,12))},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:XW,imports:[Mv,Q4]}),n})();function it(...n){return In(n,uo(n))}"undefined"!=typeof window&&window;class Eo extends ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:a6}=Array,{getPrototypeOf:l6,prototype:u6,keys:c6}=Object;const{isArray:d6}=Array;function uE(n){return qe(e=>function f6(n,e){return d6(e)?n(...e):n(e)}(n,e))}function p6(...n){const e=uo(n),t=function tl(n){return Ie(Ro(n))?n.pop():void 0}(n),{args:i,keys:r}=function UR(n){if(1===n.length){const e=n[0];if(a6(e))return{args:e,keys:null};if(function h6(n){return n&&"object"==typeof n&&l6(n)===u6}(e)){const t=c6(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return In([],e);const s=new Ve(function m6(n,e,t=ne){return i=>{qR(e,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let d=0;d<r;d++)qR(e,()=>{const p=In(n[d],e);let y=!1;p.subscribe(St(i,_=>{s[d]=_,y||(y=!0,u--),u||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>function HR(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,a):ne));return t?s.pipe(uE(t)):s}function qR(n,e,t){n?Ur(t,n,e):e()}function dm(n,e){const t=Ie(n)?n:()=>n,i=r=>r.error(t());return new Ve(e?r=>e.schedule(i,0,r):i)}const Fv=M(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cE(...n){return function g6(){return lo(1)}()(In(n,uo(n)))}function hE(n){return new Ve(e=>{Ui(n()).subscribe(e)})}function GR(){return Ct((n,e)=>{let t=null;n._refCount++;const i=St(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class y6 extends Ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fr(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ie;const t=this.getSubject();e.add(this.source.subscribe(St(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ie.EMPTY)}return e}refCount(){return GR()(this)}}function Fu(n,e){return Ct((t,i)=>{let r=null,s=0,a=!1;const u=()=>a&&!r&&i.complete();t.subscribe(St(i,d=>{null==r||r.unsubscribe();let p=0;const y=s++;Ui(n(d,y)).subscribe(r=St(i,_=>i.next(e?e(d,_,y,p++):_),()=>{r=null,u()}))},()=>{a=!0,u()}))})}function tf(...n){const e=uo(n);return Ct((t,i)=>{(e?cE(n,t,e):cE(n,t)).subscribe(i)})}function v6(n,e,t,i,r){return(s,a)=>{let u=t,d=e,p=0;s.subscribe(St(a,y=>{const _=p++;d=u?n(d,y,_):(u=!0,y),i&&a.next(d)},r&&(()=>{u&&a.next(d),a.complete()})))}}function zR(n,e){return Ct(v6(n,e,arguments.length>=2,!0))}function As(n,e){return Ct((t,i)=>{let r=0;t.subscribe(St(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Gl(n){return Ct((e,t)=>{let s,i=null,r=!1;i=e.subscribe(St(t,void 0,void 0,a=>{s=Ui(n(a,Gl(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function nf(n,e){return Ie(e)?On(n,e,1):On(n,1)}function dE(n){return n<=0?()=>Sr:Ct((e,t)=>{let i=[];e.subscribe(St(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function $R(n=_6){return Ct((e,t)=>{let i=!1;e.subscribe(St(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function _6(){return new Fv}function WR(n){return Ct((e,t)=>{let i=!1;e.subscribe(St(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function rf(n,e){const t=arguments.length>=2;return i=>i.pipe(n?As((r,s)=>n(r,s,i)):ne,Zi(1),t?WR(e):$R(()=>new Fv))}function sr(n,e,t){const i=Ie(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ct((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let u=!0;r.subscribe(St(s,d=>{var p;null===(p=i.next)||void 0===p||p.call(i,d),s.next(d)},()=>{var d;u=!1,null===(d=i.complete)||void 0===d||d.call(i),s.complete()},d=>{var p;u=!1,null===(p=i.error)||void 0===p||p.call(i,d),s.error(d)},()=>{var d,p;u&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(p=i.finalize)||void 0===p||p.call(i)}))}):ne}class zl{constructor(e,t){this.id=e,this.url=t}}class fE extends zl{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fm extends zl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class YR extends zl{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class w6 extends zl{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class C6 extends zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E6 extends zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D6 extends zl{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class x6 extends zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S6 extends zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZR{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class k6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function sf(n){return new k6(n)}const JR="ngNavigationCancelingError";function pE(n){const e=Error("NavigationCancelingError: "+n);return e[JR]=!0,e}function P6(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],u=n[s];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ba(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!eP(n[r],e[r]))return!1;return!0}function eP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function tP(n){return Array.prototype.concat.apply([],n)}function nP(n){return n.length>0?n[n.length-1]:null}function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ja(n){return W0(n)?n:Wp(n)?In(Promise.resolve(n)):it(n)}const F6={exact:function sP(n,e,t){if(!Zc(n.segments,e.segments)||!Lv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!sP(n.children[i],e.children[i],t))return!1;return!0},subset:oP},iP={exact:function L6(n,e){return Ba(n,e)},subset:function V6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eP(n[t],e[t]))},ignored:()=>!0};function rP(n,e,t){return F6[t.paths](n.root,e.root,t.matrixParams)&&iP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oP(n,e,t){return aP(n,e,e.segments,t)}function aP(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Zc(r,t)||e.hasChildren()||!Lv(r,t,i))}if(n.segments.length===t.length){if(!Zc(n.segments,t)||!Lv(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!oP(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Zc(n.segments,r)&&Lv(n.segments,r,i)&&n.children[Nt])&&aP(n.children[Nt],e,s,i)}}function Lv(n,e,t){return e.every((i,r)=>iP[t](n[r].parameters,i.parameters))}class Qc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sf(this.queryParams)),this._queryParamMap}toString(){return U6.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vv(this)}}class pm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=sf(this.parameters)),this._parameterMap}toString(){return dP(this)}}function Zc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class lP{}class uP{parse(e){const t=new X6(e);return new Qc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mm(e.root,!0)}`,i=function G6(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Bv(t)}=${Bv(r)}`).join("&"):`${Bv(t)}=${Bv(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function H6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const U6=new uP;function Vv(n){return n.segments.map(e=>dP(e)).join("/")}function mm(n,e){if(!n.hasChildren())return Vv(n);if(e){const t=n.children[Nt]?mm(n.children[Nt],!1):"",i=[];return vr(n.children,(r,s)=>{s!==Nt&&i.push(`${s}:${mm(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function j6(n,e){let t=[];return vr(n.children,(i,r)=>{r===Nt&&(t=t.concat(e(i,r)))}),vr(n.children,(i,r)=>{r!==Nt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Nt?[mm(n.children[Nt],!1)]:[`${r}:${mm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Vv(n)}/${t[0]}`:`${Vv(n)}/(${t.join("//")})`}}function cP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bv(n){return cP(n).replace(/%3B/gi,";")}function mE(n){return cP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jv(n){return decodeURIComponent(n)}function hP(n){return jv(n.replace(/\+/g,"%20"))}function dP(n){return`${mE(n.path)}${function q6(n){return Object.keys(n).map(e=>`;${mE(e)}=${mE(n[e])}`).join("")}(n.parameters)}`}const z6=/^[^\/()?;=#]+/;function Uv(n){const e=n.match(z6);return e?e[0]:""}const $6=/^[^=?&#]+/,K6=/^[^&#]+/;class X6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Nt]=new zt(e,t)),i}parseSegment(){const e=Uv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new pm(jv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Uv(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Uv(this.remaining);r&&(i=r,this.capture(i))}e[jv(t)]=jv(i)}parseQueryParam(e){const t=function W6(n){const e=n.match($6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function Y6(n){const e=n.match(K6);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=hP(t),s=hP(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Uv(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Nt);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Nt]:new zt([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class fP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=gE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return yE(e,this._root).map(t=>t.value)}}function gE(n,e){if(n===e.value)return e;for(const t of e.children){const i=gE(n,t);if(i)return i}return null}function yE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=yE(n,t);if(i.length)return i.unshift(e),i}return[]}class $l{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function af(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pP extends fP{constructor(e,t){super(e),this.snapshot=t,vE(this,e)}toString(){return this.snapshot.toString()}}function mP(n,e){const t=function Q6(n,e){const a=new Hv([],{},{},"",{},Nt,e,null,n.root,-1,{});return new yP("",new $l(a,[]))}(n,e),i=new Eo([new pm("",{})]),r=new Eo({}),s=new Eo({}),a=new Eo({}),u=new Eo(""),d=new lf(i,r,a,u,s,Nt,e,t.root);return d.snapshot=t.root,new pP(new $l(d,[]),t)}class lf{constructor(e,t,i,r,s,a,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(qe(e=>sf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(qe(e=>sf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gP(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Z6(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Hv{constructor(e,t,i,r,s,a,u,d,p,y,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.routeConfig=d,this._urlSegment=p,this._lastPathIndex=y,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yP extends fP{constructor(e,t){super(t),this.url=e,vE(this,t)}toString(){return vP(this._root)}}function vE(n,e){e.value._routerState=n,e.children.forEach(t=>vE(n,t))}function vP(n){const e=n.children.length>0?` { ${n.children.map(vP).join(", ")} } `:"";return`${n.value}${e}`}function _E(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ba(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ba(e.params,t.params)||n.params.next(t.params),function O6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ba(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ba(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bE(n,e){const t=Ba(n.params,e.params)&&function B6(n,e){return Zc(n,e)&&n.every((t,i)=>Ba(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bE(n.parent,e.parent))}function gm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function eK(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return gm(n,i,r);return gm(n,i)})}(n,e,t);return new $l(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(u=>gm(n,u)),a}}const i=function tK(n){return new lf(new Eo(n.url),new Eo(n.params),new Eo(n.queryParams),new Eo(n.fragment),new Eo(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>gm(n,s));return new $l(i,r)}}function qv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ym(n){return"object"==typeof n&&null!=n&&n.outlets}function wE(n,e,t,i,r){let s={};if(i&&vr(i,(u,d)=>{s[d]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),n===e)return new Qc(t,s,r);const a=_P(n,e,t);return new Qc(a,s,r)}function _P(n,e,t){const i={};return vr(n.children,(r,s)=>{i[s]=r===e?t:_P(r,e,t)}),new zt(n.segments,i)}class bP{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&qv(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(ym);if(r&&r!==nP(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class CE{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function wP(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return Gv(n,e,t);const i=function aK(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],u=t[i];if(ym(u))break;const d=`${u}`,p=i<t.length-1?t[i+1]:null;if(r>0&&void 0===d)break;if(d&&p&&"object"==typeof p&&void 0===p.outlets){if(!EP(d,p,a))return s;i+=2}else{if(!EP(d,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new zt(n.segments.slice(0,i.pathIndex),{});return s.children[Nt]=new zt(n.segments.slice(i.pathIndex),n.children),Gv(s,0,r)}return i.match&&0===r.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?EE(n,e,t):i.match?Gv(n,0,r):EE(n,e,t)}function Gv(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function oK(n){return ym(n[0])?n[0].outlets:{[Nt]:n}}(t),r={};return vr(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=wP(n.children[a],e,s))}),vr(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new zt(n.segments,r)}}function EE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(ym(s)){const d=lK(s.outlets);return new zt(i,d)}if(0===r&&qv(t[0])){i.push(new pm(n.segments[e].path,CP(t[0]))),r++;continue}const a=ym(s)?s.outlets[Nt]:`${s}`,u=r<t.length-1?t[r+1]:null;a&&u&&qv(u)?(i.push(new pm(a,CP(u))),r+=2):(i.push(new pm(a,{})),r++)}return new zt(i,{})}function lK(n){const e={};return vr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=EE(new zt([],{}),0,t))}),e}function CP(n){const e={};return vr(n,(t,i)=>e[i]=`${t}`),e}function EP(n,e,t){return n==t.path&&Ba(e,t.parameters)}class cK{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),_E(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=af(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),vr(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=af(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=af(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=af(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new M6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T6(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(_E(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),_E(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=function hK(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),d=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=d,a.outlet&&a.outlet.activateWith(r,d),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class DE{constructor(e,t){this.routes=e,this.module=t}}function Lu(n){return"function"==typeof n}function Jc(n){return n instanceof Qc}const vm=Symbol("INITIAL_VALUE");function _m(){return Fu(n=>p6(n.map(e=>e.pipe(Zi(1),tf(vm)))).pipe(zR((e,t)=>{let i=!1;return t.reduce((r,s,a)=>r!==vm?r:(s===vm&&(i=!0),i||!1!==s&&a!==t.length-1&&!Jc(s)?r:s),e)},vm),As(e=>e!==vm),qe(e=>Jc(e)?e:!0===e),Zi(1)))}class yK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bm,this.attachRef=null}}class bm{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yK,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let DP=(()=>{class n{constructor(t,i,r,s,a){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.name=s||Nt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,d=new vK(t,u,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Y(bm),Y(Js),Y(Wc),function Ks(n){return function hy(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(_d(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(qt(),n)}("name"),Y(Ul))},n.\u0275dir=Be({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vK{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===lf?this.route:e===bm?this.childContexts:this.parent.get(e,t)}}let xP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=En({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&Yo(0,"router-outlet")},directives:[DP],encapsulation:2}),n})();function SP(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];_K(i,bK(e,i))}}function _K(n,e){n.children&&SP(n.children,e)}function bK(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function xE(n){const e=n.children&&n.children.map(xE),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=xP),t}function Do(n){return n.outlet||Nt}function IP(n,e){const t=n.filter(i=>Do(i)===e);return t.push(...n.filter(i=>Do(i)!==e)),t}const TP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zv(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},TP):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||P6)(t,n,e);if(!s)return Object.assign({},TP);const a={};vr(s.posParams,(d,p)=>{a[p]=d.path});const u=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:u,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function $v(n,e,t,i,r="corrected"){if(t.length>0&&function EK(n,e,t){return t.some(i=>Wv(n,e,i)&&Do(i)!==Nt)}(n,t,i)){const a=new zt(e,function CK(n,e,t,i){const r={};r[Nt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Do(s)!==Nt){const a=new zt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[Do(s)]=a}return r}(n,e,i,new zt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function DK(n,e,t){return t.some(i=>Wv(n,e,i))}(n,t,i)){const a=new zt(n.segments,function wK(n,e,t,i,r,s){const a={};for(const u of i)if(Wv(n,t,u)&&!r[Do(u)]){const d=new zt([],{});d._sourceSegment=n,d._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[Do(u)]=d}return Object.assign(Object.assign({},r),a)}(n,e,t,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new zt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Wv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AP(n,e,t,i){return!!(Do(n)===i||i!==Nt&&Wv(e,t,n))&&("**"===n.path||zv(e,n,t).matched)}function MP(n,e,t){return 0===e.length&&!n.children[t]}class Kv{constructor(e){this.segmentGroup=e||null}}class kP{constructor(e){this.urlTree=e}}function wm(n){return dm(new Kv(n))}function RP(n){return dm(new kP(n))}class TK{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Bl)}apply(){const e=$v(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Nt).pipe(qe(s=>this.createUrlTree(SE(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gl(s=>{if(s instanceof kP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Kv?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Nt).pipe(qe(r=>this.createUrlTree(SE(r),e.queryParams,e.fragment))).pipe(Gl(r=>{throw r instanceof Kv?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new zt([],{[Nt]:e}):e;return new Qc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(qe(s=>new zt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return In(r).pipe(nf(s=>{const a=i.children[s],u=IP(t,s);return this.expandSegmentGroup(e,u,a,s).pipe(qe(d=>({segment:d,outlet:s})))}),zR((s,a)=>(s[a.outlet]=a.segment,s),{}),function b6(n,e){const t=arguments.length>=2;return i=>i.pipe(n?As((r,s)=>n(r,s,i)):ne,dE(1),t?WR(e):$R(()=>new Fv))}())}expandSegment(e,t,i,r,s,a){return In(i).pipe(nf(u=>this.expandSegmentAgainstRoute(e,t,i,u,r,s,a).pipe(Gl(p=>{if(p instanceof Kv)return it(null);throw p}))),rf(u=>!!u),Gl((u,d)=>{if(u instanceof Fv||"EmptyError"===u.name)return MP(t,r,s)?it(new zt([],{})):wm(t);throw u}))}expandSegmentAgainstRoute(e,t,i,r,s,a,u){return AP(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):wm(t):wm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RP(s):this.lineralizeSegments(i,s).pipe(On(a=>{const u=new zt(a,{});return this.expandSegment(e,u,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:u,consumedSegments:d,remainingSegments:p,positionalParamSegments:y}=zv(t,r,s);if(!u)return wm(t);const _=this.applyRedirectCommands(d,r.redirectTo,y);return r.redirectTo.startsWith("/")?RP(_):this.lineralizeSegments(r,_).pipe(On(C=>this.expandSegment(e,t,i,C.concat(p),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?it(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(qe(_=>(i._loadedConfig=_,new zt(r,{})))):it(new zt(r,{}));const{matched:a,consumedSegments:u,remainingSegments:d}=zv(t,i,r);return a?this.getChildConfig(e,i,r).pipe(On(y=>{const _=y.module,C=y.routes,{segmentGroup:x,slicedSegments:I}=$v(t,u,d,C),k=new zt(x.segments,x.children);if(0===I.length&&k.hasChildren())return this.expandChildren(_,C,k).pipe(qe(se=>new zt(u,se)));if(0===C.length&&0===I.length)return it(new zt(u,{}));const L=Do(i)===s;return this.expandSegment(_,k,C,I,L?Nt:s,!0).pipe(qe(j=>new zt(u.concat(j.segments),j.children)))})):wm(t)}getChildConfig(e,t,i){return t.children?it(new DE(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?it(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(On(r=>r?this.configLoader.load(e.injector,t).pipe(qe(s=>(t._loadedConfig=s,s))):function SK(n){return dm(pE(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):it(new DE([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?it(r.map(a=>{const u=e.get(a);let d;if(function fK(n){return n&&Lu(n.canLoad)}(u))d=u.canLoad(t,i);else{if(!Lu(u))throw new Error("Invalid CanLoad guard");d=u(t,i)}return ja(d)})).pipe(_m(),sr(a=>{if(!Jc(a))return;const u=pE(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw u.url=a,u}),qe(a=>!0===a)):it(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return it(i);if(r.numberOfChildren>1||!r.children[Nt])return dm(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Nt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Qc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return vr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=t[u]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return vr(t.children,(u,d)=>{a[d]=this.createSegmentGroup(e,u,i,r)}),new zt(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function SE(n){const e={};for(const i of Object.keys(n.children)){const s=SE(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function AK(n){if(1===n.numberOfChildren&&n.children[Nt]){const e=n.children[Nt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}class PP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yv{constructor(e,t){this.component=e,this.route=t}}function kK(n,e,t){const i=n._root;return Cm(i,e?e._root:null,t,[i.value])}function Xv(n,e,t){const i=function PK(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Cm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=af(e);return n.children.forEach(a=>{(function OK(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const d=function NK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zc(n.url,e.url)||!Ba(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bE(n,e)||!Ba(n.queryParams,e.queryParams);default:return!bE(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new PP(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Cm(n,e,s.component?u?u.children:null:t,i,r),d&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Yv(u.outlet.component,a))}else a&&Em(e,u,r),r.canActivateChecks.push(new PP(i)),Cm(n,null,s.component?u?u.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),vr(s,(a,u)=>Em(a,t.getContext(u),r)),r}function Em(n,e,t){const i=af(n),r=n.value;vr(i,(s,a)=>{Em(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new Yv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class GK{}function OP(n){return new Ve(e=>e.error(n))}class $K{constructor(e,t,i,r,s,a){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const e=$v(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Nt);if(null===t)return null;const i=new Hv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $l(i,t),s=new yP(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=gP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const a=t.children[s],u=IP(e,s),d=this.processSegmentGroup(u,a,s);if(null===d)return null;i.push(...d)}const r=NP(i);return function WK(n){n.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const a=this.processSegmentAgainstRoute(s,t,i,r);if(null!==a)return a}return MP(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!AP(e,t,i,r))return null;let s,a=[],u=[];if("**"===e.path){const x=i.length>0?nP(i).parameters:{};s=new Hv(i,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VP(e),Do(e),e.component,e,FP(t),LP(t)+i.length,BP(e))}else{const x=zv(t,e,i);if(!x.matched)return null;a=x.consumedSegments,u=x.remainingSegments,s=new Hv(a,x.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VP(e),Do(e),e.component,e,FP(t),LP(t)+a.length,BP(e))}const d=function KK(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:p,slicedSegments:y}=$v(t,a,u,d.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution);if(0===y.length&&p.hasChildren()){const x=this.processChildren(d,p);return null===x?null:[new $l(s,x)]}if(0===d.length&&0===y.length)return[new $l(s,[])];const _=Do(e)===r,C=this.processSegment(d,p,y,_?Nt:r);return null===C?null:[new $l(s,C)]}}function YK(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function NP(n){const e=[],t=new Set;for(const i of n){if(!YK(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=NP(i.children);e.push(new $l(i.value,r))}return e.filter(i=>!t.has(i))}function FP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function LP(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function VP(n){return n.data||{}}function BP(n){return n.resolve||{}}function jP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function IE(n){return Fu(e=>{const t=n(e);return t?In(t).pipe(qe(()=>e)):it(e)})}class i8 extends class n8{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const TE=new ge("ROUTES");class UP{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=s.create(e);return new DE(tP(a.injector.get(TE,void 0,Ge.Self|Ge.Optional)).map(xE),a)}),Gl(s=>{throw t._loader$=void 0,s}));return t._loader$=new y6(r,()=>new ce).pipe(GR()),t._loader$}loadModuleFactory(e){return ja(e()).pipe(On(t=>t instanceof nk?it(t):In(this.compiler.compileModuleAsync(t))))}}class s8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function o8(n){throw n}function a8(n,e,t){return e.parse("/")}function HP(n,e){return it(null)}const l8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let to=(()=>{class n{constructor(t,i,r,s,a,u,d){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ce,this.errorHandler=o8,this.malformedUriErrorHandler=a8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HP,afterPreactivation:HP},this.urlHandlingStrategy=new s8,this.routeReuseStrategy=new i8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Bl),this.console=a.get(f4);const _=a.get(Gt);this.isNgZoneEnabled=_ instanceof Gt&&Gt.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function N6(){return new Qc(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UP(a,u,C=>this.triggerEvent(new XR(C)),C=>this.triggerEvent(new QR(C))),this.routerState=mP(this.currentUrlTree,this.rootComponentType),this.transitions=new Eo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(As(r=>0!==r.id),qe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fu(r=>{let s=!1,a=!1;return it(r).pipe(sr(u=>{this.currentNavigation={id:u.id,initialUrl:u.currentRawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fu(u=>{const d=this.browserUrlTree.toString(),p=!this.navigated||u.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return qP(u.source)&&(this.browserUrlTree=u.extractedUrl),it(u).pipe(Fu(_=>{const C=this.transitions.getValue();return i.next(new fE(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),C!==this.transitions.getValue()?Sr:Promise.resolve(_)}),function MK(n,e,t,i){return Fu(r=>function IK(n,e,t,i,r){return new TK(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(qe(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),sr(_=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_.urlAfterRedirects})}),function XK(n,e,t,i,r){return On(s=>function zK(n,e,t,i,r="emptyOnly",s="legacy"){try{const a=new $K(n,e,t,i,r,s).recognize();return null===a?OP(new GK):it(a)}catch(a){return OP(a)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(qe(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),sr(_=>{if("eager"===this.urlUpdateStrategy){if(!_.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);this.setBrowserUrl(x,_)}this.browserUrlTree=_.urlAfterRedirects}const C=new C6(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);i.next(C)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:C,extractedUrl:x,source:I,restoredState:k,extras:L}=u,Q=new fE(C,this.serializeUrl(x),I,k);i.next(Q);const j=mP(x,this.rootComponentType).snapshot;return it(Object.assign(Object.assign({},u),{targetSnapshot:j,urlAfterRedirects:x,extras:Object.assign(Object.assign({},L),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=u.rawUrl,u.resolve(null),Sr}),IE(u=>{const{targetSnapshot:d,id:p,extractedUrl:y,rawUrl:_,extras:{skipLocationChange:C,replaceUrl:x}}=u;return this.hooks.beforePreactivation(d,{navigationId:p,appliedUrlTree:y,rawUrlTree:_,skipLocationChange:!!C,replaceUrl:!!x})}),sr(u=>{const d=new E6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(d)}),qe(u=>Object.assign(Object.assign({},u),{guards:kK(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function FK(n,e){return On(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?it(Object.assign(Object.assign({},t),{guardsResult:!0})):function LK(n,e,t,i){return In(n).pipe(On(r=>function qK(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?it(s.map(u=>{const d=Xv(u,e,r);let p;if(function gK(n){return n&&Lu(n.canDeactivate)}(d))p=ja(d.canDeactivate(n,e,t,i));else{if(!Lu(d))throw new Error("Invalid CanDeactivate guard");p=ja(d(n,e,t,i))}return p.pipe(rf())})).pipe(_m()):it(!0)}(r.component,r.route,t,e,i)),rf(r=>!0!==r,!0))}(a,i,r,n).pipe(On(u=>u&&function dK(n){return"boolean"==typeof n}(u)?function VK(n,e,t,i){return In(e).pipe(nf(r=>cE(function jK(n,e){return null!==n&&e&&e(new I6(n)),it(!0)}(r.route.parent,i),function BK(n,e){return null!==n&&e&&e(new A6(n)),it(!0)}(r.route,i),function HK(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function RK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>hE(()=>it(a.guards.map(d=>{const p=Xv(d,a.node,t);let y;if(function mK(n){return n&&Lu(n.canActivateChild)}(p))y=ja(p.canActivateChild(i,n));else{if(!Lu(p))throw new Error("Invalid CanActivateChild guard");y=ja(p(i,n))}return y.pipe(rf())})).pipe(_m())));return it(s).pipe(_m())}(n,r.path,t),function UK(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return it(!0);const r=i.map(s=>hE(()=>{const a=Xv(s,e,t);let u;if(function pK(n){return n&&Lu(n.canActivate)}(a))u=ja(a.canActivate(e,n));else{if(!Lu(a))throw new Error("Invalid CanActivate guard");u=ja(a(e,n))}return u.pipe(rf())}));return it(r).pipe(_m())}(n,r.route,t))),rf(r=>!0!==r,!0))}(i,s,n,e):it(u)),qe(u=>Object.assign(Object.assign({},t),{guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),sr(u=>{if(Jc(u.guardsResult)){const p=pE(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw p.url=u.guardsResult,p}const d=new D6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(d)}),As(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),IE(u=>{if(u.guards.canActivateChecks.length)return it(u).pipe(sr(d=>{const p=new x6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),Fu(d=>{let p=!1;return it(d).pipe(function QK(n,e){return On(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return it(t);let s=0;return In(r).pipe(nf(a=>function ZK(n,e,t,i){return function JK(n,e,t,i){const r=jP(n);if(0===r.length)return it({});const s={};return In(r).pipe(On(a=>function e8(n,e,t,i){const r=Xv(n,e,i);return ja(r.resolve?r.resolve(e,t):r(e,t))}(n[a],e,t,i).pipe(sr(u=>{s[a]=u}))),dE(1),On(()=>jP(s).length===r.length?it(s):Sr))}(n._resolve,n,e,i).pipe(qe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),gP(n,t).resolve),null)))}(a.route,i,n,e)),sr(()=>s++),dE(1),On(a=>s===r.length?it(t):Sr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),sr({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),sr(d=>{const p=new S6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}))}),IE(u=>{const{targetSnapshot:d,id:p,extractedUrl:y,rawUrl:_,extras:{skipLocationChange:C,replaceUrl:x}}=u;return this.hooks.afterPreactivation(d,{navigationId:p,appliedUrlTree:y,rawUrlTree:_,skipLocationChange:!!C,replaceUrl:!!x})}),qe(u=>{const d=function J6(n,e,t){const i=gm(n,e._root,t?t._root:void 0);return new pP(i,e)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return Object.assign(Object.assign({},u),{targetRouterState:d})}),sr(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>qe(i=>(new cK(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),sr({next(){s=!0},complete(){s=!0}}),function KR(n){return Ct((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var u;s||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(u=this.currentNavigation)||void 0===u?void 0:u.id)===r.id&&(this.currentNavigation=null)}),Gl(u=>{if(a=!0,function R6(n){return n&&n[JR]}(u)){const d=Jc(u.url);d||(this.navigated=!0,this.restoreHistory(r,!0));const p=new YR(r.id,this.serializeUrl(r.extractedUrl),u.message);i.next(p),d?setTimeout(()=>{const y=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qP(r.source)};this.scheduleNavigation(y,"imperative",null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const d=new w6(r.id,this.serializeUrl(r.extractedUrl),u);i.next(d);try{r.resolve(this.errorHandler(u))}catch(p){r.reject(p)}}return Sr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},a=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(a){const d=Object.assign({},a);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){SP(t),this.config=t.map(xE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:d}=i,p=r||this.routerState.root,y=d?this.currentUrlTree.fragment:a;let _=null;switch(u){case"merge":_=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}return null!==_&&(_=this.removeEmptyProps(_)),function nK(n,e,t,i,r){if(0===t.length)return wE(e.root,e.root,e.root,i,r);const s=function iK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bP(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return vr(s.outlets,(d,p)=>{u[p]="string"==typeof d?d.split("/"):d}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((u,d)=>{0==d&&"."===u||(0==d&&""===u?t=!0:".."===u?e++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new bP(t,e,i)}(t);if(s.toRoot())return wE(e.root,e.root,new zt([],{}),i,r);const a=function rK(n,e,t){if(n.isAbsolute)return new CE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new CE(s,s===e.root,0)}const i=qv(n.commands[0])?0:1;return function sK(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new CE(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),u=a.processChildren?Gv(a.segmentGroup,a.index,s.commands):wP(a.segmentGroup,a.index,s.commands);return wE(e.root,a.segmentGroup,u,i,r)}(p,this.currentUrlTree,t,_,null!=y?y:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Jc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function c8(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},l8):!1===i?Object.assign({},u8):i,Jc(t))return rP(this.currentUrlTree,t,r);const s=this.parseUrl(t);return rP(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,a){var u,d;if(this.disposed)return Promise.resolve(!1);let p,y,_;a?(p=a.resolve,y=a.reject,_=a.promise):_=new Promise((I,k)=>{p=I,y=k});const C=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):x=0,this.setTransition({id:C,targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:p,reject:y,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new YR(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){nv()},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function qP(n){return"imperative"!==n}class GP{}class zP{preload(e,t){return it(null)}}let $P=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new UP(r,i,d=>t.triggerEvent(new XR(d)),d=>t.triggerEvent(new QR(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(As(t=>t instanceof fm),nf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Bl);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return In(r).pipe(lo(),qe(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?it(i._loadedConfig):this.loader.load(t.injector,i)).pipe(On(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)($(to),$(Vk),$(Mi),$(GP))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),kE=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fm&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ZR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new ZR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){nv()},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const eh=new ge("ROUTER_CONFIGURATION"),WP=new ge("ROUTER_FORROOT_GUARD"),p8=[am,{provide:lP,useClass:uP},{provide:to,useFactory:function _8(n,e,t,i,r,s,a={},u,d){const p=new to(null,n,e,t,i,r,tP(s));return u&&(p.urlHandlingStrategy=u),d&&(p.routeReuseStrategy=d),function b8(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,p),a.enableTracing&&p.events.subscribe(y=>{var _,C;null===(_=console.group)||void 0===_||_.call(console,`Router Event: ${y.constructor.name}`),console.log(y.toString()),console.log(y),null===(C=console.groupEnd)||void 0===C||C.call(console)}),p},deps:[lP,bm,am,Mi,Vk,TE,eh,[class r8{},new rr],[class t8{},new rr]]},bm,{provide:lf,useFactory:function w8(n){return n.routerState.root},deps:[to]},$P,zP,class f8{preload(e,t){return t().pipe(Gl(()=>it(null)))}},{provide:eh,useValue:{enableTracing:!1}}];function m8(){return new qk("Router",to)}let KP=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[p8,YP(t),{provide:WP,useFactory:v8,deps:[[to,new rr,new yo]]},{provide:eh,useValue:i||{}},{provide:ef,useFactory:y8,deps:[Xc,[new Ys(jC),new rr],eh]},{provide:kE,useFactory:g8,deps:[to,EW,eh]},{provide:GP,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:zP},{provide:qk,multi:!0,useFactory:m8},[RE,{provide:xC,multi:!0,useFactory:C8,deps:[RE]},{provide:XP,useFactory:E8,deps:[RE]},{provide:Lk,multi:!0,useExisting:XP}]]}}static forChild(t){return{ngModule:n,providers:[YP(t)]}}}return n.\u0275fac=function(t){return new(t||n)($(WP,8),$(to,8))},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({}),n})();function g8(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new kE(n,e,t)}function y8(n,e,t={}){return t.useHash?new s$(n,e):new lR(n,e)}function v8(n){return"guarded"}function YP(n){return[{provide:Lw,multi:!0,useValue:n},{provide:TE,multi:!0,useValue:n}]}let RE=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ce}appInitializer(){return this.injector.get(n$,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(u=>i=u),s=this.injector.get(to),a=this.injector.get(eh);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?it(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(eh),r=this.injector.get($P),s=this.injector.get(kE),a=this.injector.get(to),u=this.injector.get(gv);t===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),s.init(),a.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)($(Mi))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function C8(n){return n.appInitializer.bind(n)}function E8(n){return n.bootstrapListener.bind(n)}const XP=new ge("Router Initializer"),x8=[];let S8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[KP.forRoot(x8)],KP]}),n})();function QP(n,e,t,i,r,s,a){try{var u=n[s](a),d=u.value}catch(p){return void t(p)}u.done?e(d):Promise.resolve(d).then(i,r)}function or(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(d){QP(s,i,r,a,u,"next",d)}function u(d){QP(s,i,r,a,u,"throw",d)}a(void 0)})}}let I8=(()=>{class n{constructor(){this.name=new Yt}ngOnInit(){}setName(t){""!=t&&this.name.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=En({type:n,selectors:[["app-login-dialog"]],outputs:{name:"name"},decls:7,vars:0,consts:[["type","text","placeholder","list name"],["nameID",""],["type","button",3,"click"]],template:function(t,i){if(1&t){const r=$p();ai(0,"form")(1,"h1"),Zo(2,"name"),ki(),Yo(3,"input",0,1),ai(5,"button",2),yi("click",function(){Zt(r);const a=zc(4);return i.setName(a.value)})("click",function(){return Zt(r),zc(4).value=""}),Zo(6,"add"),ki()()}},styles:["*[_ngcontent-%COMP%]{margin:0}"]}),n})(),T8=(()=>{class n{constructor(){this.add=new Yt}ngOnInit(){}addList(t){""!=t&&this.add.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=En({type:n,selectors:[["app-addlistdialog"]],outputs:{add:"add"},decls:7,vars:0,consts:[["type","text","placeholder","list name"],["name",""],["type","button",3,"click"]],template:function(t,i){if(1&t){const r=$p();ai(0,"form")(1,"h1"),Zo(2,"todo list name"),ki(),Yo(3,"input",0,1),ai(5,"button",2),yi("click",function(){Zt(r);const a=zc(4);return i.addList(a.value)})("click",function(){return Zt(r),zc(4).value=""}),Zo(6,"add"),ki()()}},styles:["*[_ngcontent-%COMP%]{padding:3px;margin:2px}button[_ngcontent-%COMP%]{width:70px}"]}),n})();function Wl(n){return null!=n&&"false"!=`${n}`}function ZP(n){return Array.isArray(n)?n:[n]}function Oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $i(n){return n instanceof $n?n.nativeElement:n}const k8=["addListener","removeListener"],R8=["addEventListener","removeEventListener"],P8=["on","off"];function PE(n,e,t,i){if(Ie(t)&&(i=t,t=void 0),i)return PE(n,e,t).pipe(uE(i));const[r,s]=function F8(n){return Ie(n.addEventListener)&&Ie(n.removeEventListener)}(n)?R8.map(a=>u=>n[a](e,u,t)):function O8(n){return Ie(n.addListener)&&Ie(n.removeListener)}(n)?k8.map(JP(n,e)):function N8(n){return Ie(n.on)&&Ie(n.off)}(n)?P8.map(JP(n,e)):[];if(!r&&Oe(n))return On(a=>PE(a,e,t))(Ui(n));if(!r)throw new TypeError("Invalid event target");return new Ve(a=>{const u=(...d)=>a.next(1<d.length?d:d[0]);return r(u),()=>s(u)})}function JP(n,e){return t=>i=>n[t](e,i)}class L8 extends ie{constructor(e,t){super()}schedule(e,t=0){return this}}const Qv={setInterval(n,e,...t){const{delegate:i}=Qv;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Qv;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class OE extends L8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Qv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;Qv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pe(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Dm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Dm;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new ie(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Dm;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Dm;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},eO={now:()=>(eO.delegate||Date).now(),delegate:void 0};class xm{constructor(e,t=xm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}xm.now=eO.now;class NE extends xm{constructor(e,t=xm.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const tO=new class B8 extends NE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class V8 extends OE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Dm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Dm.cancelAnimationFrame(t),e._scheduled=void 0)}});let FE,j8=1;const Zv={};function nO(n){return n in Zv&&(delete Zv[n],!0)}const U8={setImmediate(n){const e=j8++;return Zv[e]=!0,FE||(FE=Promise.resolve()),FE.then(()=>nO(e)&&n()),e},clearImmediate(n){nO(n)}},{setImmediate:H8,clearImmediate:q8}=U8,Jv={setImmediate(...n){const{delegate:e}=Jv;return((null==e?void 0:e.setImmediate)||H8)(...n)},clearImmediate(n){const{delegate:e}=Jv;return((null==e?void 0:e.clearImmediate)||q8)(n)},delegate:void 0},e_=(new class z8 extends NE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class G8 extends OE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Jv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Jv.clearImmediate(t),e._scheduled=void 0)}}),new NE(OE)),W8=e_;function iO(n=0,e,t=W8){let i=-1;return null!=e&&(el(e)?t=e:i=e),new Ve(r=>{let s=function Y8(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function rO(n,e=e_){return function K8(n){return Ct((e,t)=>{let i=!1,r=null,s=null,a=!1;const u=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const p=r;r=null,t.next(p)}a&&t.complete()},d=()=>{s=null,a&&t.complete()};e.subscribe(St(t,p=>{i=!0,r=p,s||Ui(n(p)).subscribe(s=St(t,u,d))},()=>{a=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>iO(n,e))}let LE;try{LE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){LE=!1}let Sm,nh,VE,Ua=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?DR(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)($(Ou))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function th(n){return function X8(){if(null==Sm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sm=!0}))}finally{Sm=Sm||!1}return Sm}()?n:!!n.capture}function Q8(){if(null==nh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nh=!1,nh;if("scrollBehavior"in document.documentElement.style)nh=!0;else{const n=Element.prototype.scrollTo;nh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return nh}function BE(n){if(function Z8(){if(null==VE){const n="undefined"!=typeof document?document.head:null;VE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return VE}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function jE(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ta(n){return n.composedPath?n.composedPath()[0]:n.target}function UE(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const J8=new ge("cdk-dir-doc",{providedIn:"root",factory:function e5(){return Lc(At)}}),t5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let n_=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Yt,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function n5(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?t5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)($(J8,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({}),n})(),s5=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ce,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ve(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(rO(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):it()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(As(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=$i(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)($(Gt),$(Ua),$(At,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HE=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ce,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(rO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)($(Ua),$(Gt),$(At,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Im,i_],Im,i_]}),n})();class qE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class GE extends qE{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class aO extends qE{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class a5 extends qE{constructor(e){super(),this.element=e instanceof $n?e.nativeElement:e}}class zE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof GE?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof aO?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof a5?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class l5 extends zE{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,d=this._document.createComment("dom-portal");u.parentNode.insertBefore(d,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(u,d)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Mi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let lO=(()=>{class n extends zE{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Yt,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(Y(Wc),Y(Js),Y(At))},n.\u0275dir=Be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Vt]}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({}),n})();function Ha(n){return Ct((e,t)=>{Ui(n).subscribe(St(t,()=>t.complete(),we)),!t.closed&&e.subscribe(t)})}const cO=Q8();class u5{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Oi(-this._previousScrollPosition.left),e.style.top=Oi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),cO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cO&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class c5{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hO{enable(){}disable(){}attach(){}}function $E(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function dO(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class h5{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();$E(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let d5=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new hO,this.close=a=>new c5(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new u5(this._viewportRuler,this._document),this.reposition=a=>new h5(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(t){return new(t||n)($(s5),$(HE),$(Gt),$(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fO{constructor(e){if(this.scrollStrategy=new hO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class f5{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class p5{constructor(e,t,i,r,s,a,u,d,p){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=d,this._outsideClickDispatcher=p,this._backdropElement=null,this._backdropClick=new ce,this._attachments=new ce,this._detachments=new ce,this._locationChanges=ie.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new ce,this._outsidePointerEvents=new ce,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Oi(this._config.width),e.height=Oi(this._config.height),e.minWidth=Oi(this._config.minWidth),e.minHeight=Oi(this._config.minHeight),e.maxWidth=Oi(this._config.maxWidth),e.maxHeight=Oi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=ZP(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ha(nl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let WE=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||UE()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),UE()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)($(At),$(Ua))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pO="cdk-overlay-connected-position-bounding-box",m5=/([A-Za-z%]+)$/;class g5{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ce,this._resizeSubscription=ie.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(pO),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let d=this._getOriginPoint(e,r,u),p=this._getOverlayPoint(d,t,u),y=this._getOverlayFit(p,t,i,u);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,d);this._canFitWithFlexibleDimensions(y,p,i)?s.push({position:u,origin:d,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(d,u)}):(!a||a.overlayFit.visibleArea<y.visibleArea)&&(a={overlayFit:y,overlayPoint:p,originPoint:d,position:u,overlayRect:t})}if(s.length){let u=null,d=-1;for(const p of s){const y=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);y>d&&(d=y,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ih(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;r="start"==i.originX?a:u}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=gO(t);let{x:a,y:u}=e,d=this._getOffset(r,"x"),p=this._getOffset(r,"y");d&&(a+=d),p&&(u+=p);let C=0-u,x=u+s.height-i.height,I=this._subtractOverflows(s.width,0-a,a+s.width-i.width),k=this._subtractOverflows(s.height,C,x),L=I*k;return{visibleArea:L,isCompletelyWithinViewport:s.width*s.height===L,fitsInViewportVertically:k===s.height,fitsInViewportHorizontally:I==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,a=mO(this._overlayRef.getConfig().minHeight),u=mO(this._overlayRef.getConfig().minWidth),p=e.fitsInViewportHorizontally||null!=u&&u<=s;return(e.fitsInViewportVertically||null!=a&&a<=r)&&p}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=gO(t),s=this._viewportRect,a=Math.max(e.x+r.width-s.width,0),u=Math.max(e.y+r.height-s.height,0),d=Math.max(s.top-i.top-e.y,0),p=Math.max(s.left-i.left-e.x,0);let y=0,_=0;return y=r.width<=s.width?p||-a:e.x<this._viewportMargin?s.left-i.left-e.x:0,_=r.height<=s.height?d||-u:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:y,y:_},{x:e.x+y,y:e.y+_}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new f5(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,a,u,y,_,C;if("top"===t.overlayY)a=e.y,s=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)u=i.height-e.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const x=Math.min(i.bottom-e.y+i.top,e.y),I=this._lastBoundingBoxSize.height;s=2*x,a=e.y-x,s>I&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-I/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)C=i.width-e.x+this._viewportMargin,y=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)_=e.x,y=i.right-e.x;else{const x=Math.min(i.right-e.x+i.left,e.x),I=this._lastBoundingBoxSize.width;y=2*x,_=e.x-x,y>I&&!this._isInitialRender&&!this._growAfterOpen&&(_=e.x-I/2)}return{top:a,left:_,bottom:u,right:C,width:y,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Oi(i.height),r.top=Oi(i.top),r.bottom=Oi(i.bottom),r.width=Oi(i.width),r.left=Oi(i.left),r.right=Oi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Oi(s)),a&&(r.maxWidth=Oi(a))}this._lastBoundingBoxSize=i,ih(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ih(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ih(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const y=this._viewportRuler.getViewportScrollPosition();ih(i,this._getExactOverlayY(t,e,y)),ih(i,this._getExactOverlayX(t,e,y))}else i.position="static";let u="",d=this._getOffset(t,"x"),p=this._getOffset(t,"y");d&&(u+=`translateX(${d}px) `),p&&(u+=`translateY(${p}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=Oi(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Oi(a.maxWidth):s&&(i.maxWidth="")),ih(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Oi(s.y),r}_getExactOverlayX(e,t,i){let a,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Oi(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dO(e,i),isOriginOutsideView:$E(e,i),isOverlayClipped:dO(t,i),isOverlayOutsideView:$E(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ZP(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof $n)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ih(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function mO(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(m5);return t&&"px"!==t?null:parseFloat(e)}return n||null}function gO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const yO="cdk-global-overlay-wrapper";class y5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(yO),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:u}=i,d=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u);e.position=this._cssPosition,e.marginLeft=d?"0":this._leftOffset,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,d?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(yO),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let v5=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new y5}flexibleConnectedTo(t){return new g5(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)($(HE),$(At),$(Ua),$(WE))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vO=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)($(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_5=(()=>{class n extends vO{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)($(At),$(Gt,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b5=(()=>{class n extends vO{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ta(s)},this._clickListener=s=>{const a=ta(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let p=d.length-1;p>-1;p--){const y=d[p];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(y.overlayElement.contains(a)||y.overlayElement.contains(u))break;const _=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(s)):_.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)($(At),$(Ua),$(Gt,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w5=0,Tm=(()=>{class n{constructor(t,i,r,s,a,u,d,p,y,_,C){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=d,this._document=p,this._directionality=y,this._location=_,this._outsideClickDispatcher=C}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new fO(t);return a.direction=a.direction||this._directionality.value,new p5(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+w5++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(gv)),new l5(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)($(d5),$(WE),$(Wc),$(v5),$(_5),$(Mi),$(Gt),$(At),$(n_),$(am),$(b5))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const D5={provide:new ge("cdk-connected-overlay-scroll-strategy"),deps:[Tm],useFactory:function E5(n){return()=>n.scrollStrategies.reposition()}};let _O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:[Tm,D5],imports:[[Im,uO,oO],oO]}),n})();function G5(n,e){return n===e}let SO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function X5(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Y5(n){try{return n.frameElement}catch(e){return null}}(function r7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===TO(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=TO(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function n7(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function i7(n){return!function Z5(n){return function e7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Q5(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function J5(n){return function t7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||IO(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)($(Ua))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function TO(n){if(!IO(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class s7{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Zi(1)).subscribe(e)}}let o7=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new s7(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)($(SO),$(Gt),$(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function YE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const a7=new ge("cdk-input-modality-detector-options"),l7={ignoreKeys:[18,17,224,91,16]},hf=th({passive:!0,capture:!0});let u7=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Eo(null),this._lastTouchMs=0,this._onKeydown=a=>{var u,d;(null===(d=null===(u=this._options)||void 0===u?void 0:u.ignoreKeys)||void 0===d?void 0:d.some(p=>p===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ta(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(KE(a)?"keyboard":"mouse"),this._mostRecentTarget=ta(a))},this._onTouchstart=a=>{YE(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ta(a))},this._options=Object.assign(Object.assign({},l7),s),this.modalityDetected=this._modality.pipe(function H5(n){return As((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function q5(n,e=ne){return n=null!=n?n:G5,Ct((t,i)=>{let r,s=!0;t.subscribe(St(i,a=>{const u=e(a);(s||!n(r,u))&&(s=!1,r=u,i.next(a))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,hf),r.addEventListener("mousedown",this._onMousedown,hf),r.addEventListener("touchstart",this._onTouchstart,hf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hf),document.removeEventListener("mousedown",this._onMousedown,hf),document.removeEventListener("touchstart",this._onTouchstart,hf))}}return n.\u0275fac=function(t){return new(t||n)($(Ua),$(Gt),$(At),$(a7,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h7=new ge("cdk-focus-monitor-default-options"),s_=th({passive:!0,capture:!0});let XE=(()=>{class n{constructor(t,i,r,s,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ce,this._rootNodeFocusAndBlurListener=u=>{const d=ta(u),p="focus"===u.type?this._onFocus:this._onBlur;for(let y=d;y;y=y.parentElement)p.call(this,u,y)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(t,i=!1){const r=$i(t);if(!this._platform.isBrowser||1!==r.nodeType)return it(null);const s=BE(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new ce,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(t){const i=$i(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=$i(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,d])=>this._originChanged(u,i,d)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=ta(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,s_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,s_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ha(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,s_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,s_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)($(Gt),$(Ua),$(u7),$(At,8),$(h7,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MO="cdk-high-contrast-black-on-white",kO="cdk-high-contrast-white-on-black",QE="cdk-high-contrast-active";let d7=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(QE),t.remove(MO),t.remove(kO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(QE),t.add(MO)):2===i&&(t.add(QE),t.add(kO))}}}return n.\u0275fac=function(t){return new(t||n)($(Ua),$(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RO{}const Kl="*";function ZE(n,e){return{type:7,name:n,definitions:e,options:{}}}function Am(n,e=null){return{type:4,styles:e,timings:n}}function PO(n,e=null){return{type:3,steps:n,options:e}}function OO(n,e=null){return{type:2,steps:n,options:e}}function na(n){return{type:6,styles:n,offset:null}}function o_(n,e,t){return{type:0,name:n,styles:e,options:t}}function Mm(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function NO(n=null){return{type:9,options:n}}function FO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function LO(n){Promise.resolve(null).then(n)}class km{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){LO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class VO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?LO(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const $t=!1;function BO(n){return new Te(3e3,$t)}function W7(){return"undefined"!=typeof window&&void 0!==window.document}function eD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vu(n){switch(n.length){case 0:return new km;case 1:return n[0];default:return new VO(n)}}function jO(n,e,t,i,r={},s={}){const a=[],u=[];let d=-1,p=null;if(i.forEach(y=>{const _=y.offset,C=_==d,x=C&&p||{};Object.keys(y).forEach(I=>{let k=I,L=y[I];if("offset"!==I)switch(k=e.normalizePropertyName(k,a),L){case"!":L=r[I];break;case Kl:L=s[I];break;default:L=e.normalizeStyleValue(I,k,L,a)}x[k]=L}),C||u.push(x),p=x,d=_}),a.length)throw function F7(n){return new Te(3502,$t)}();return u}function tD(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&nD(t,"start",n)));break;case"done":n.onDone(()=>i(t&&nD(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&nD(t,"destroy",n)))}}function nD(n,e,t){const i=t.totalTime,s=iD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function iD(n,e,t,i,r="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function no(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function UO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let rD=(n,e)=>!1,HO=(n,e,t)=>[],qO=null;function sD(n){const e=n.parentNode||n.host;return e===qO?null:e}(eD()||"undefined"!=typeof Element)&&(W7()?(qO=(()=>document.documentElement)(),rD=(n,e)=>{for(;e;){if(e===n)return!0;e=sD(e)}return!1}):rD=(n,e)=>n.contains(e),HO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let rh=null,GO=!1;function zO(n){rh||(rh=function Y7(){return"undefined"!=typeof document?document.body:null}()||{},GO=!!rh.style&&"WebkitAppearance"in rh.style);let e=!0;return rh.style&&!function K7(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in rh.style,!e&&GO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in rh.style)),e}const $O=rD,WO=HO;let KO=(()=>{class n{validateStyleProperty(t){return zO(t)}matchesElement(t,i){return!1}containsElement(t,i){return $O(t,i)}getParentElement(t){return sD(t)}query(t,i,r){return WO(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,u=[],d){return new km(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),oD=(()=>{class n{}return n.NOOP=new KO,n})();const aD="ng-enter",l_="ng-leave",u_="ng-trigger",c_=".ng-trigger",XO="ng-animating",lD=".ng-animating";function sh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uD(parseFloat(e[1]),e[2])}function uD(n,e){return"s"===e?1e3*n:n}function h_(n,e,t){return n.hasOwnProperty("duration")?n:function Z7(n,e,t){let r,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return e.push(BO()),{duration:0,delay:0,easing:""};r=uD(parseFloat(u[1]),u[2]);const d=u[3];null!=d&&(s=uD(parseFloat(d),u[4]));const p=u[5];p&&(a=p)}else r=n;if(!t){let u=!1,d=e.length;r<0&&(e.push(function p7(){return new Te(3100,$t)}()),u=!0),s<0&&(e.push(function m7(){return new Te(3101,$t)}()),u=!0),u&&e.splice(d,0,BO())}return{duration:r,delay:s,easing:a}}(n,e,t)}function df(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bu(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else df(n,t);return t}function ZO(n,e,t){return t?e+":"+t+";":""}function JO(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=ZO(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ZO(0,tY(t),n.style[t]));n.setAttribute("style",e)}function qa(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=hD(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),eD()&&JO(n))}function oh(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=hD(t);n.style[i]=""}),eD()&&JO(n))}function Rm(n){return Array.isArray(n)?1==n.length?n[0]:OO(n):n}const cD=new RegExp("{{\\s*(.+?)\\s*}}","g");function eN(n){let e=[];if("string"==typeof n){let t;for(;t=cD.exec(n);)e.push(t[1]);cD.lastIndex=0}return e}function d_(n,e,t){const i=n.toString(),r=i.replace(cD,(s,a)=>{let u=e[a];return e.hasOwnProperty(a)||(t.push(function y7(n){return new Te(3003,$t)}()),u=""),u.toString()});return r==i?n:r}function f_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const eY=/-+([a-z0-9])/g;function hD(n){return n.replace(eY,(...e)=>e[1].toUpperCase())}function tY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function io(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function v7(n){return new Te(3004,$t)}()}}function tN(n,e){return window.getComputedStyle(n)[e]}function aY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function lY(n,e,t){if(":"==n[0]){const d=function uY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function R7(n){return new Te(3016,$t)}()),"* => *"}}(n,t);if("function"==typeof d)return void e.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function k7(n){return new Te(3015,$t)}()),e;const r=i[1],s=i[2],a=i[3];e.push(nN(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&e.push(nN(a,r))}(i,t,e)):t.push(n),t}const y_=new Set(["true","1"]),v_=new Set(["false","0"]);function nN(n,e){const t=y_.has(n)||v_.has(n),i=y_.has(e)||v_.has(e);return(r,s)=>{let a="*"==n||n==r,u="*"==e||e==s;return!a&&t&&"boolean"==typeof r&&(a=r?y_.has(n):v_.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?y_.has(e):v_.has(e)),a&&u}}const cY=new RegExp("s*:selfs*,?","g");function dD(n,e,t,i){return new hY(n).build(e,t,i)}class hY{constructor(e){this._driver=e}build(e,t,i){const r=new pY(t);this._resetContextStyleTimingState(r);const s=io(this,Rm(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function b7(){return new Te(3006,$t)}()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const d=u,p=d.name;p.toString().split(/\s*,\s*/).forEach(y=>{d.name=y,s.push(this.visitState(d,t))}),d.name=p}else if(1==u.type){const d=this.visitTransition(u,t);i+=d.queryCount,r+=d.depCount,a.push(d)}else t.errors.push(function w7(){return new Te(3007,$t)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(u=>{if(__(u)){const d=u;Object.keys(d).forEach(p=>{eN(d[p]).forEach(y=>{a.hasOwnProperty(y)||s.add(y)})})}}),s.size&&(f_(s.values()),t.errors.push(function C7(n,e){return new Te(3008,$t)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=io(this,Rm(e.animation),t);return{type:1,matchers:aY(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ah(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>io(this,i,t)),options:ah(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(a=>{t.currentTime=i;const u=io(this,a,t);return r=Math.max(r,t.currentTime),u});return t.currentTime=r,{type:3,steps:s,options:ah(e.options)}}visitAnimate(e,t){const i=function gY(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fD(h_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=fD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=h_(t,e);return fD(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:na({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=e.styles,u=!1;if(!a){u=!0;const p={};i.easing&&(p.easing=i.easing),a=na(p)}t.currentTime+=i.duration+i.delay;const d=this.visitStyle(a,t);d.isEmptyStep=u,r=d}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(a=>{"string"==typeof a?a==Kl?i.push(a):t.errors.push(function E7(n){return new Te(3002,$t)}()):i.push(a)}):i.push(e.styles);let r=!1,s=null;return i.forEach(a=>{if(__(a)){const u=a,d=u.easing;if(d&&(s=d,delete u.easing),!r)for(let p in u)if(u[p].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(u=>{if(!this._driver.validateStyleProperty(u))return delete a[u],void t.unsupportedCSSPropertiesFound.add(u);const d=t.collectedStyles[t.currentQuerySelector],p=d[u];let y=!0;p&&(s!=r&&s>=p.startTime&&r<=p.endTime&&(t.errors.push(function D7(n,e,t,i,r){return new Te(3010,$t)}()),y=!1),s=p.startTime),y&&(d[u]={startTime:s,endTime:r}),t.options&&function J7(n,e,t){const i=e.params||{},r=eN(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function g7(n){return new Te(3001,$t)}())})}(a[u],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function x7(){return new Te(3011,$t)}()),i;let s=0;const a=[];let u=!1,d=!1,p=0;const y=e.steps.map(Q=>{const j=this._makeStyleAst(Q,t);let se=null!=j.offset?j.offset:function mY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(__(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(__(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(j.styles),_e=0;return null!=se&&(s++,_e=j.offset=se),d=d||_e<0||_e>1,u=u||_e<p,p=_e,a.push(_e),j});d&&t.errors.push(function S7(){return new Te(3012,$t)}()),u&&t.errors.push(function I7(){return new Te(3200,$t)}());const _=e.steps.length;let C=0;s>0&&s<_?t.errors.push(function T7(){return new Te(3202,$t)}()):0==s&&(C=1/(_-1));const x=_-1,I=t.currentTime,k=t.currentAnimateTimings,L=k.duration;return y.forEach((Q,j)=>{const se=C>0?j==x?1:C*j:a[j],_e=se*L;t.currentTime=I+k.delay+_e,k.duration=_e,this._validateStyleAst(Q,t),Q.offset=se,i.styles.push(Q)}),i}visitReference(e,t){return{type:8,animation:io(this,Rm(e.animation),t),options:ah(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ah(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ah(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function dY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cY,"")),n=n.replace(/@\*/g,c_).replace(/@\w+/g,t=>c_+"-"+t.substr(1)).replace(/:animating/g,lD),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,no(t.collectedStyles,t.currentQuerySelector,{});const u=io(this,Rm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:e.selector,options:ah(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function A7(){return new Te(3013,$t)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:h_(e.timings,t.errors,!0);return{type:12,animation:io(this,Rm(e.animation),t),timings:i,options:null}}}class pY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function __(n){return!Array.isArray(n)&&"object"==typeof n}function ah(n){return n?(n=df(n)).params&&(n.params=function fY(n){return n?df(n):null}(n.params)):n={},n}function fD(n,e,t){return{duration:n,delay:e,easing:t}}function pD(n,e,t,i,r,s,a=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:u}}class b_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _Y=new RegExp(":enter","g"),wY=new RegExp(":leave","g");function mD(n,e,t,i,r,s={},a={},u,d,p=[]){return(new CY).buildKeyframes(n,e,t,i,r,s,a,u,d,p)}class CY{buildKeyframes(e,t,i,r,s,a,u,d,p,y=[]){p=p||new b_;const _=new gD(e,t,p,r,s,y,[]);_.options=d,_.currentTimeline.setStyles([a],null,_.errors,d),io(this,i,_);const C=_.timelines.filter(x=>x.containsAnimation());if(Object.keys(u).length){let x;for(let I=C.length-1;I>=0;I--){const k=C[I];if(k.element===t){x=k;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([u],null,_.errors,d)}return C.length?C.map(x=>x.buildKeyframes()):[pD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?sh(i.duration):null,u=null!=i.delay?sh(i.delay):null;return 0!==a&&e.forEach(d=>{const p=t.appendInstructionToTimeline(d,a,u);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=w_);const a=sh(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>io(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?sh(e.options.delay):0;e.steps.forEach(a=>{const u=t.createSubContext(e.options);s&&u.delayNextStep(s),io(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return h_(t.params?d_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,u=t.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(d=>{u.forwardTime((d.offset||0)*s),u.setStyles(d.styles,d.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?sh(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=w_);let a=i;const u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=u.length;let d=null;u.forEach((p,y)=>{t.currentQueryIndex=y;const _=t.createSubContext(e.options,p);s&&_.delayNextStep(s),p===t.element&&(d=_.currentTimeline),io(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),u=a*(t.currentQueryTotal-1);let d=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=u-d;break;case"full":d=i.currentStaggerTime}const y=t.currentTimeline;d&&y.delayNextStep(d);const _=y.currentTime;io(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}}const w_={};class gD{constructor(e,t,i,r,s,a,u,d){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=w_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new C_(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=sh(i.duration)),null!=i.delay&&(r.delay=sh(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!t||!a.hasOwnProperty(u))&&(a[u]=d_(s[u],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new gD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=w_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new EY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,a){let u=[];if(r&&u.push(this.element),e.length>0){e=(e=e.replace(_Y,"."+this._enterClassName)).replace(wY,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),u.push(...p)}return!s&&0==u.length&&a.push(function M7(n){return new Te(3014,$t)}()),u}}class C_{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new C_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Kl,this._currentKeyframe[t]=Kl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},a=function DY(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Kl})):Bu(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(a).forEach(u=>{const d=d_(a[u],s,i);this._pendingStyles[u]=d,this._localTimelineStyles.hasOwnProperty(u)||(this._backFill[u]=this._globalTimelineStyles.hasOwnProperty(u)?this._globalTimelineStyles[u]:Kl),this._updateStyle(u,d)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,d)=>{const p=Bu(u,!0);Object.keys(p).forEach(y=>{const _=p[y];"!"==_?e.add(y):_==Kl&&t.add(y)}),i||(p.offset=d/this.duration),r.push(p)});const s=e.size?f_(e.values()):[],a=t.size?f_(t.values()):[];if(i){const u=r[0],d=df(u);u.offset=0,d.offset=1,r=[u,d]}return pD(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class EY extends C_{constructor(e,t,i,r,s,a,u=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,u=t/a,d=Bu(e[0],!1);d.offset=0,s.push(d);const p=Bu(e[0],!1);p.offset=sN(u),s.push(p);const y=e.length-1;for(let _=1;_<=y;_++){let C=Bu(e[_],!1);C.offset=sN((t+C.offset*i)/a),s.push(C)}i=a,t=0,r="",e=s}return pD(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function sN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class yD{}class xY extends yD{normalizePropertyName(e,t){return hD(e)}normalizeStyleValue(e,t,i,r){let s="";const a=i.toString().trim();if(SY[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function _7(n,e){return new Te(3005,$t)}())}return a+s}}const SY=(()=>function IY(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function oN(n,e,t,i,r,s,a,u,d,p,y,_,C){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:u,queriedElements:d,preStyleProps:p,postStyleProps:y,totalTime:_,errors:C}}const vD={};class aN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function TY(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],a=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):a}build(e,t,i,r,s,a,u,d,p,y){const _=[],C=this.ast.options&&this.ast.options.params||vD,I=this.buildStyles(i,u&&u.params||vD,_),k=d&&d.params||vD,L=this.buildStyles(r,k,_),Q=new Set,j=new Map,se=new Map,_e="void"===r,Ue={params:Object.assign(Object.assign({},C),k)},dt=y?[]:mD(e,t,this.ast.animation,s,a,I,L,Ue,p,_);let Rt=0;if(dt.forEach(ks=>{Rt=Math.max(ks.duration+ks.delay,Rt)}),_.length)return oN(t,this._triggerName,i,r,_e,I,L,[],[],j,se,Rt,_);dt.forEach(ks=>{const Rs=ks.element,qh=no(j,Rs,{});ks.preStyleProps.forEach(Mo=>qh[Mo]=!0);const Za=no(se,Rs,{});ks.postStyleProps.forEach(Mo=>Za[Mo]=!0),Rs!==t&&Q.add(Rs)});const ji=f_(Q.values());return oN(t,this._triggerName,i,r,_e,I,L,dt,ji,j,se,Rt)}}class AY{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=df(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(u=>{let d=a[u];d.length>1&&(d=d_(d,r,t));const p=this.normalizer.normalizePropertyName(u,t);d=this.normalizer.normalizeStyleValue(u,p,d,t),i[p]=d})}}),i}}class kY{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new AY(r.style,r.options&&r.options.params||{},i)}),lN(this.states,"true","1"),lN(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new aN(e,r,this.states))}),this.fallbackTransition=function RY(n,e,t){return new aN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function lN(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const PY=new b_;class OY{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=dD(this._driver,t,i,[]);if(i.length)throw function L7(n){return new Te(3503,$t)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=jO(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let a;const u=new Map;if(s?(a=mD(this._driver,t,s,aD,l_,{},{},i,PY,r),a.forEach(y=>{const _=no(u,y.element,{});y.postStyleProps.forEach(C=>_[C]=null)})):(r.push(function V7(){return new Te(3300,$t)}()),a=[]),r.length)throw function B7(n){return new Te(3504,$t)}();u.forEach((y,_)=>{Object.keys(y).forEach(C=>{y[C]=this._driver.computeStyle(_,C,Kl)})});const p=Vu(a.map(y=>{const _=u.get(y.element);return this._buildPlayer(y,{},_)}));return this._playersById[e]=p,p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function j7(n){return new Te(3301,$t)}();return t}listen(e,t,i,r){const s=iD(t,"","","");return tD(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const uN="ng-animate-queued",_D="ng-animate-disabled",BY=[],cN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xo="__ng_removed";class bD{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function GY(n){return null!=n?n:null}(i?e.value:e),i){const s=df(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Pm="void",wD=new bD(Pm);class UY{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,So(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function U7(n,e){return new Te(3302,$t)}();if(null==i||0==i.length)throw function H7(n){return new Te(3303,$t)}();if(!function zY(n){return"start"==n||"done"==n}(i))throw function q7(n,e){return new Te(3400,$t)}();const s=no(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};s.push(a);const u=no(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(So(e,u_),So(e,u_+"-"+t),u[t]=wD),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(a);d>=0&&s.splice(d,1),this._triggers[t]||delete u[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function G7(n){return new Te(3401,$t)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),a=new CD(this.id,t,e);let u=this._engine.statesByElement.get(e);u||(So(e,u_),So(e,u_+"-"+t),this._engine.statesByElement.set(e,u={}));let d=u[t];const p=new bD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&p.absorbOptions(d.options),u[t]=p,d||(d=wD),p.value!==Pm&&d.value===p.value){if(!function KY(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(d.params,p.params)){const k=[],L=s.matchStyles(d.value,d.params,k),Q=s.matchStyles(p.value,p.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{oh(e,L),qa(e,Q)})}return}const C=no(this._engine.playersByElement,e,[]);C.forEach(k=>{k.namespaceId==this.id&&k.triggerName==t&&k.queued&&k.destroy()});let x=s.matchTransition(d.value,p.value,e,p.params),I=!1;if(!x){if(!r)return;x=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:d,toState:p,player:a,isFallbackTransition:I}),I||(So(e,uN),a.onStart(()=>{ff(e,uN)})),a.onDone(()=>{let k=this.players.indexOf(a);k>=0&&this.players.splice(k,1);const L=this._engine.playersByElement.get(e);if(L){let Q=L.indexOf(a);Q>=0&&L.splice(Q,1)}}),this.players.push(a),C.push(a),a}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,c_,!0);i.forEach(r=>{if(r[xo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const u=[];if(Object.keys(s).forEach(d=>{if(a.set(d,s[d].value),this._triggers[d]){const p=this.trigger(e,d,Pm,r);p&&u.push(p)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&Vu(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const d=this._triggers[a].fallbackTransition,p=i[a]||wD,y=new bD(Pm),_=new CD(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:p,toState:y,player:_,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[xo];(!s||s===cN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){So(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==i.triggerName){const d=iD(s,i.triggerName,i.fromState.value,i.toState.value);d._data=e,tD(i.player,u.phase,d,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class HY{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new UY(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let u=this.driver.getParentElement(t);for(;u;){const d=r.get(u);if(d){const p=i.indexOf(d);i.splice(p+1,0,e),a=!0;break}u=this.driver.getParentElement(u)}}else for(let u=s;u>=0;u--)if(this.driver.containsElement(i[u].hostElement,t)){i.splice(u+1,0,e),a=!0;break}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const u=this._fetchNamespace(a);u&&t.add(u)}}}return t}trigger(e,t,i,r){if(E_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!E_(t))return;const s=t[xo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),So(e,_D)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ff(e,_D))}removeNode(e,t,i,r){if(E_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[xo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return E_(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,c_,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lD,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[xo];if(i&&i.setForRemoval){if(e[xo]=cN,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(_D))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)So(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Vu(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function z7(n){return new Te(3402,$t)}()}_flushAnimations(e,t){const i=new b_,r=[],s=new Map,a=[],u=new Map,d=new Map,p=new Map,y=new Set;this.disabledNodes.forEach(Ne=>{y.add(Ne);const Qe=this.driver.query(Ne,".ng-animate-queued",!0);for(let ot=0;ot<Qe.length;ot++)y.add(Qe[ot])});const _=this.bodyNode,C=Array.from(this.statesByElement.keys()),x=fN(C,this.collectedEnterElements),I=new Map;let k=0;x.forEach((Ne,Qe)=>{const ot=aD+k++;I.set(Qe,ot),Ne.forEach(nn=>So(nn,ot))});const L=[],Q=new Set,j=new Set;for(let Ne=0;Ne<this.collectedLeaveElements.length;Ne++){const Qe=this.collectedLeaveElements[Ne],ot=Qe[xo];ot&&ot.setForRemoval&&(L.push(Qe),Q.add(Qe),ot.hasAnimation?this.driver.query(Qe,".ng-star-inserted",!0).forEach(nn=>Q.add(nn)):j.add(Qe))}const se=new Map,_e=fN(C,Array.from(Q));_e.forEach((Ne,Qe)=>{const ot=l_+k++;se.set(Qe,ot),Ne.forEach(nn=>So(nn,ot))}),e.push(()=>{x.forEach((Ne,Qe)=>{const ot=I.get(Qe);Ne.forEach(nn=>ff(nn,ot))}),_e.forEach((Ne,Qe)=>{const ot=se.get(Qe);Ne.forEach(nn=>ff(nn,ot))}),L.forEach(Ne=>{this.processLeaveNode(Ne)})});const Ue=[],dt=[];for(let Ne=this._namespaceList.length-1;Ne>=0;Ne--)this._namespaceList[Ne].drainQueuedTransitions(t).forEach(ot=>{const nn=ot.player,Xi=ot.element;if(Ue.push(nn),this.collectedEnterElements.length){const hs=Xi[xo];if(hs&&hs.setForMove){if(hs.previousTriggersValues&&hs.previousTriggersValues.has(ot.triggerName)){const $h=hs.previousTriggersValues.get(ot.triggerName),cc=this.statesByElement.get(ot.element);cc&&cc[ot.triggerName]&&(cc[ot.triggerName].value=$h)}return void nn.destroy()}}const aa=!_||!this.driver.containsElement(_,Xi),Ps=se.get(Xi),eu=I.get(Xi),ti=this._buildInstruction(ot,i,eu,Ps,aa);if(ti.errors&&ti.errors.length)return void dt.push(ti);if(aa)return nn.onStart(()=>oh(Xi,ti.fromStyles)),nn.onDestroy(()=>qa(Xi,ti.toStyles)),void r.push(nn);if(ot.isFallbackTransition)return nn.onStart(()=>oh(Xi,ti.fromStyles)),nn.onDestroy(()=>qa(Xi,ti.toStyles)),void r.push(nn);const xU=[];ti.timelines.forEach(hs=>{hs.stretchStartingKeyframe=!0,this.disabledNodes.has(hs.element)||xU.push(hs)}),ti.timelines=xU,i.append(Xi,ti.timelines),a.push({instruction:ti,player:nn,element:Xi}),ti.queriedElements.forEach(hs=>no(u,hs,[]).push(nn)),ti.preStyleProps.forEach((hs,$h)=>{const cc=Object.keys(hs);if(cc.length){let Wh=d.get($h);Wh||d.set($h,Wh=new Set),cc.forEach(AT=>Wh.add(AT))}}),ti.postStyleProps.forEach((hs,$h)=>{const cc=Object.keys(hs);let Wh=p.get($h);Wh||p.set($h,Wh=new Set),cc.forEach(AT=>Wh.add(AT))})});if(dt.length){const Ne=[];dt.forEach(Qe=>{Ne.push(function $7(n,e){return new Te(3505,$t)}())}),Ue.forEach(Qe=>Qe.destroy()),this.reportError(Ne)}const Rt=new Map,ji=new Map;a.forEach(Ne=>{const Qe=Ne.element;i.has(Qe)&&(ji.set(Qe,Qe),this._beforeAnimationBuild(Ne.player.namespaceId,Ne.instruction,Rt))}),r.forEach(Ne=>{const Qe=Ne.element;this._getPreviousPlayers(Qe,!1,Ne.namespaceId,Ne.triggerName,null).forEach(nn=>{no(Rt,Qe,[]).push(nn),nn.destroy()})});const ks=L.filter(Ne=>mN(Ne,d,p)),Rs=new Map;dN(Rs,this.driver,j,p,Kl).forEach(Ne=>{mN(Ne,d,p)&&ks.push(Ne)});const Za=new Map;x.forEach((Ne,Qe)=>{dN(Za,this.driver,new Set(Ne),d,"!")}),ks.forEach(Ne=>{const Qe=Rs.get(Ne),ot=Za.get(Ne);Rs.set(Ne,Object.assign(Object.assign({},Qe),ot))});const Mo=[],Gh=[],zh={};a.forEach(Ne=>{const{element:Qe,player:ot,instruction:nn}=Ne;if(i.has(Qe)){if(y.has(Qe))return ot.onDestroy(()=>qa(Qe,nn.toStyles)),ot.disabled=!0,ot.overrideTotalTime(nn.totalTime),void r.push(ot);let Xi=zh;if(ji.size>1){let Ps=Qe;const eu=[];for(;Ps=Ps.parentNode;){const ti=ji.get(Ps);if(ti){Xi=ti;break}eu.push(Ps)}eu.forEach(ti=>ji.set(ti,Xi))}const aa=this._buildAnimation(ot.namespaceId,nn,Rt,s,Za,Rs);if(ot.setRealPlayer(aa),Xi===zh)Mo.push(ot);else{const Ps=this.playersByElement.get(Xi);Ps&&Ps.length&&(ot.parentPlayer=Vu(Ps)),r.push(ot)}}else oh(Qe,nn.fromStyles),ot.onDestroy(()=>qa(Qe,nn.toStyles)),Gh.push(ot),y.has(Qe)&&r.push(ot)}),Gh.forEach(Ne=>{const Qe=s.get(Ne.element);if(Qe&&Qe.length){const ot=Vu(Qe);Ne.setRealPlayer(ot)}}),r.forEach(Ne=>{Ne.parentPlayer?Ne.syncPlayerEvents(Ne.parentPlayer):Ne.destroy()});for(let Ne=0;Ne<L.length;Ne++){const Qe=L[Ne],ot=Qe[xo];if(ff(Qe,l_),ot&&ot.hasAnimation)continue;let nn=[];if(u.size){let aa=u.get(Qe);aa&&aa.length&&nn.push(...aa);let Ps=this.driver.query(Qe,lD,!0);for(let eu=0;eu<Ps.length;eu++){let ti=u.get(Ps[eu]);ti&&ti.length&&nn.push(...ti)}}const Xi=nn.filter(aa=>!aa.destroyed);Xi.length?$Y(this,Qe,Xi):this.processLeaveNode(Qe)}return L.length=0,Mo.forEach(Ne=>{this.players.push(Ne),Ne.onDone(()=>{Ne.destroy();const Qe=this.players.indexOf(Ne);this.players.splice(Qe,1)}),Ne.play()}),Mo}elementContainsData(e,t){let i=!1;const r=t[xo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let a=[];if(t){const u=this.playersByQueriedElement.get(e);u&&(a=u)}else{const u=this.playersByElement.get(e);if(u){const d=!s||s==Pm;u.forEach(p=>{p.queued||!d&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(e,t,i){const s=t.element,a=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName;for(const d of t.timelines){const p=d.element,y=p!==s,_=no(i,p,[]);this._getPreviousPlayers(p,y,a,u,t.toState).forEach(x=>{const I=x.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),x.destroy(),_.push(x)})}oh(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,a){const u=t.triggerName,d=t.element,p=[],y=new Set,_=new Set,C=t.timelines.map(I=>{const k=I.element;y.add(k);const L=k[xo];if(L&&L.removedBeforeQueried)return new km(I.duration,I.delay);const Q=k!==d,j=function WY(n){const e=[];return pN(n,e),e}((i.get(k)||BY).map(Rt=>Rt.getRealPlayer())).filter(Rt=>!!Rt.element&&Rt.element===k),se=s.get(k),_e=a.get(k),Ue=jO(0,this._normalizer,0,I.keyframes,se,_e),dt=this._buildPlayer(I,Ue,j);if(I.subTimeline&&r&&_.add(k),Q){const Rt=new CD(e,u,k);Rt.setRealPlayer(dt),p.push(Rt)}return dt});p.forEach(I=>{no(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function qY(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,I.element,I))}),y.forEach(I=>So(I,XO));const x=Vu(C);return x.onDestroy(()=>{y.forEach(I=>ff(I,XO)),qa(d,t.toStyles)}),_.forEach(I=>{no(r,I,[]).push(x)}),x}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new km(e.duration,e.delay)}}class CD{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new km,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>tD(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){no(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function E_(n){return n&&1===n.nodeType}function hN(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function dN(n,e,t,i,r){const s=[];t.forEach(d=>s.push(hN(d)));const a=[];i.forEach((d,p)=>{const y={};d.forEach(_=>{const C=y[_]=e.computeStyle(p,_,r);(!C||0==C.length)&&(p[xo]=jY,a.push(p))}),n.set(p,y)});let u=0;return t.forEach(d=>hN(d,s[u++])),a}function fN(n,e){const t=new Map;if(n.forEach(u=>t.set(u,[])),0==e.length)return t;const r=new Set(e),s=new Map;function a(u){if(!u)return 1;let d=s.get(u);if(d)return d;const p=u.parentNode;return d=t.has(p)?p:r.has(p)?1:a(p),s.set(u,d),d}return e.forEach(u=>{const d=a(u);1!==d&&t.get(d).push(u)}),t}function So(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function ff(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function $Y(n,e,t){Vu(t).onDone(()=>n.processLeaveNode(e))}function pN(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof VO?pN(i.players,e):e.push(i)}}function mN(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class D_{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new HY(e,t,i),this._timelineEngine=new OY(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const a=e+"-"+r;let u=this._triggerCache[a];if(!u){const d=[],y=dD(this._driver,s,d,[]);if(d.length)throw function N7(n,e){return new Te(3404,$t)}();u=function MY(n,e,t){return new kY(n,e,t)}(r,y,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(t,r,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,a]=UO(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[a,u]=UO(i);return this._timelineEngine.listen(a,t,u,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let XY=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qa(this._element,this._initialStyles),this._endStyles&&(qa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(oh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oh(this._element,this._endStyles),this._endStyles=null),qa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ED(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];QY(r)&&(e=e||{},e[r]=n[r])}return e}function QY(n){return"display"===n||"position"===n}class gN{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:tN(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ZY{validateStyleProperty(e){return zO(e)}matchesElement(e,t){return!1}containsElement(e,t){return $O(e,t)}getParentElement(e){return sD(e)}query(e,t,i){return WO(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,a=[]){const d={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const p={},y=a.filter(C=>C instanceof gN);(function nY(n,e){return 0===n||0===e})(i,r)&&y.forEach(C=>{let x=C.currentSnapshot;Object.keys(x).forEach(I=>p[I]=x[I])}),t=function iY(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],a=[];if(i.forEach(u=>{s.hasOwnProperty(u)||a.push(u),s[u]=t[u]}),a.length)for(var r=1;r<e.length;r++){let u=e[r];a.forEach(function(d){u[d]=tN(n,d)})}}return e}(e,t=t.map(C=>Bu(C,!1)),p);const _=function YY(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ED(e[0]),e.length>1&&(i=ED(e[e.length-1]))):e&&(t=ED(e)),t||i?new XY(n,t,i):null}(e,t);return new gN(e,t,d,_)}}let JY=(()=>{class n extends RO{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Tr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?OO(t):t;return yN(this._renderer,null,i,"register",[r]),new eX(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)($(Jp),$(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class eX extends class f7{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tX(this._id,e,t||{},this._renderer)}}class tX{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function yN(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const vN="@.disabled";let nX=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const u=null==a?void 0:a.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let y=this._rendererCache.get(s);return y||(y=new _N("",s,this.engine),this._rendererCache.set(s,y)),y}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const d=y=>{Array.isArray(y)?y.forEach(d):this.engine.registerTrigger(a,u,t,y.name,y)};return i.data.animation.forEach(d),new iX(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)($(Jp),$(D_),$(Gt))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class _N{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==vN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iX extends _N{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vN?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function rX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function sX(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(e,t,i)}}let oX=(()=>{class n extends D_{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)($(At),$(oD),$(yD))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const pf=new ge("AnimationModuleType"),bN=[{provide:RO,useClass:JY},{provide:yD,useFactory:function aX(){return new xY}},{provide:D_,useClass:oX},{provide:Jp,useFactory:function lX(n,e,t){return new nX(n,e,t)},deps:[Nv,D_,Gt]}],wN=[{provide:oD,useFactory:()=>new ZY},{provide:pf,useValue:"BrowserAnimations"},...bN],uX=[{provide:oD,useClass:KO},{provide:pf,useValue:"NoopAnimations"},...bN];let cX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?uX:wN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:wN,imports:[LR]}),n})();const dX=new ge("mat-sanity-checks",{providedIn:"root",factory:function hX(){return!0}});let Wi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!UE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)($(d7),$(dX,8),$(At))},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Im],Im]}),n})();function EN(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Wl(e)}}}function fX(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Om(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Wl(e)}}}let DN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Be({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Nm(n,e,t){n.nativeElement.classList.toggle(e,t)}let S_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Wi],Wi]}),n})();class mX{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SN={enterDuration:225,exitDuration:150},DD=th({passive:!0}),IN=["mousedown","touchstart"],TN=["mouseup","mouseleave","touchend","touchcancel"];class yX{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$i(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},SN),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const a=i.radius||function _X(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),u=e-r.left,d=t-r.top,p=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=u-a+"px",y.style.top=d-a+"px",y.style.height=2*a+"px",y.style.width=2*a+"px",null!=i.color&&(y.style.backgroundColor=i.color),y.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(y),function vX(n){window.getComputedStyle(n).getPropertyValue("opacity")}(y),y.style.transform="scale(1)";const _=new mX(this,y,i);return _.state=0,this._activeRipples.add(_),i.persistent||(this._mostRecentTransientRipple=_),this._runTimeoutOutsideZone(()=>{const C=_===this._mostRecentTransientRipple;_.state=1,!i.persistent&&(!C||!this._isPointerDown)&&_.fadeOut()},p),_}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},SN),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$i(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(IN))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(TN),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=KE(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!YE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,DD)})})}_removeTriggerEvents(){this._triggerElement&&(IN.forEach(e=>{this._triggerElement.removeEventListener(e,this,DD)}),this._pointerUpEventsRegistered&&TN.forEach(e=>{this._triggerElement.removeEventListener(e,this,DD)}))}}const bX=new ge("mat-ripple-global-options");let I_=(()=>{class n{constructor(t,i,r,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new yX(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(Y($n),Y(Gt),Y(Ua),Y(bX,8),Y(pf,8))},n.\u0275dir=Be({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&bo("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),xD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Wi],Wi]}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Wi]]}),n})();function CX(n,e){}class SD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const EX={dialogContainer:ZE("dialogContainer",[o_("void, exit",na({opacity:0,transform:"scale(0.7)"})),o_("enter",na({transform:"none"})),Mm("* => enter",PO([Am("150ms cubic-bezier(0, 0, 0.2, 1)",na({transform:"none",opacity:1})),FO("@*",NO(),{optional:!0})])),Mm("* => void, * => exit",PO([Am("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",na({opacity:0})),FO("@*",NO(),{optional:!0})]))])};let DX=(()=>{class n extends zE{constructor(t,i,r,s,a,u,d,p){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=a,this._interactivityChecker=u,this._ngZone=d,this._focusMonitor=p,this._animationStateChanged=new Yt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=y=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(y)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=jE())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=jE(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=jE();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(Y($n),Y(o7),Y(Ul),Y(At,8),Y(SD),Y(SO),Y(Gt),Y(XE))},n.\u0275dir=Be({type:n,viewQuery:function(t,i){if(1&t&&dv(lO,7),2&t){let r;Or(r=Nr())&&(i._portalOutlet=r.first)}},features:[Vt]}),n})(),xX=(()=>{class n extends DX{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=function pi(n){return Bs(()=>{const e=n.prototype.constructor,t=e[vs]||Rc(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[vs]||Rc(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(n)))(i||n)}}(),n.\u0275cmp=En({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&K0("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(eC("id",i._id),Is("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),tC("@dialogContainer",i._state))},features:[Vt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&zp(0,CX,0,0,"ng-template",0)},directives:[lO],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[EX.dialogContainer]}}),n})(),SX=0;class IX{constructor(e,t,i="mat-dialog-"+SX++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ce,this._afterClosed=new ce,this._beforeClosed=new ce,this._state=0,t._id=i,t._animationStateChanged.pipe(As(r=>"opened"===r.state),Zi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(As(r=>"closed"===r.state),Zi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(As(r=>27===r.keyCode&&!this.disableClose&&!function r_(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),MN(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():MN(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(As(t=>"closing"===t.state),Zi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function MN(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const TX=new ge("MatDialogData"),AX=new ge("mat-dialog-default-options"),kN=new ge("mat-dialog-scroll-strategy"),kX={provide:kN,deps:[Tm],useFactory:function MX(n){return()=>n.scrollStrategies.block()}};let RX=(()=>{class n{constructor(t,i,r,s,a,u,d,p,y,_){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._dialogRefConstructor=d,this._dialogContainerType=p,this._dialogDataToken=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ce,this._afterOpenedAtThisLevel=new ce,this._ariaHiddenElements=new Map,this.afterAllClosed=hE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tf(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function PX(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new SD),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),a=this._attachDialogContent(t,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),s._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new fO({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=Mi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:SD,useValue:i}]}),a=new GE(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(a).instance}_attachDialogContent(t,i,r,s){const a=new this._dialogRefConstructor(r,i,s.id);if(t instanceof La)i.attachTemplatePortal(new aO(t,null,{$implicit:s.data,dialogRef:a}));else{const u=this._createInjector(s,a,i),d=i.attachComponentPortal(new GE(t,s.viewContainerRef,u,s.componentFactoryResolver));a.componentInstance=d.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(n_,null,Ge.Optional))&&a.push({provide:n_,useValue:{value:t.direction,change:it()}}),Mi.create({parent:s||this._injector,providers:a})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){nv()},n.\u0275dir=Be({type:n}),n})(),RN=(()=>{class n extends RX{constructor(t,i,r,s,a,u,d,p){super(t,i,s,u,d,a,IX,xX,TX,p)}}return n.\u0275fac=function(t){return new(t||n)($(Tm),$(Mi),$(am,8),$(AX,8),$(kN),$(n,12),$(WE),$(pf,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),OX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:[RN,kX],imports:[[_O,uO,Wi],Wi]}),n})();function T_(n){return"function"==typeof n}let ID=!1;const ia={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ID&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ID=n},get useDeprecatedSynchronousErrorHandling(){return ID}};function mf(n){setTimeout(()=>{throw n},0)}const A_={closed:!0,next(n){},error(n){if(ia.useDeprecatedSynchronousErrorHandling)throw n;mf(n)},complete(){}},PN=Array.isArray||(n=>n&&"number"==typeof n.length);function ON(n){return null!==n&&"object"==typeof n}const M_=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class rs{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof rs)t.remove(this);else if(null!==t)for(let a=0;a<t.length;++a)t[a].remove(this);if(T_(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(a){e=a instanceof M_?NN(a.errors):[a]}}if(PN(s)){let a=-1,u=s.length;for(;++a<u;){const d=s[a];if(ON(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof M_?e=e.concat(NN(p.errors)):e.push(p)}}}if(e)throw new M_(e)}add(e){let t=e;if(!e)return rs.EMPTY;switch(typeof e){case"function":t=new rs(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof rs)){const s=t;t=new rs,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof rs){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function NN(n){return n.reduce((e,t)=>e.concat(t instanceof M_?t.errors:t),[])}rs.EMPTY=((n=new rs).closed=!0,n);const TD="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ro extends rs{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=A_;break;case 1:if(!e){this.destination=A_;break}if("object"==typeof e){e instanceof ro?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new FN(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new FN(this,e,t,i)}}[TD](){return this}static create(e,t,i){const r=new ro(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class FN extends ro{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,a=this;T_(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==A_&&(a=Object.create(t),T_(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;ia.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=ia;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):mf(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;mf(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);ia.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),ia.useDeprecatedSynchronousErrorHandling)throw i;mf(i)}}__tryOrSetError(e,t,i){if(!ia.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return ia.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(mf(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Fm="function"==typeof Symbol&&Symbol.observable||"@@observable";function LX(n){return n}let so=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,a=function FX(n,e,t){if(n){if(n instanceof ro)return n;if(n[TD])return n[TD]()}return n||e||t?new ro(n,e,t):new ro(A_)}(t,i,r);if(a.add(s?s.call(a,this.source):this.source||ia.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),ia.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(i){ia.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function NX(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof ro?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=VN(i))((r,s)=>{let a;a=this.subscribe(u=>{try{t(u)}catch(d){s(d),a&&a.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[Fm](){return this}pipe(...t){return 0===t.length?this:function LN(n){return 0===n.length?LX:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=VN(t))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=e=>new n(e),n})();function VN(n){if(n||(n=ia.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const BN=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},k_=function BX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),jN=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function UN(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}function AD(n,e){return new so(t=>{const i=new rs;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function R_(n,e){return e?function KX(n,e){if(null!=n){if(function $X(n){return n&&"function"==typeof n[Fm]}(n))return function qX(n,e){return new so(t=>{const i=new rs;return i.add(e.schedule(()=>{const r=n[Fm]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(UN(n))return function GX(n,e){return new so(t=>{const i=new rs;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(jN(n))return AD(n,e);if(function WX(n){return n&&"function"==typeof n[k_]}(n)||"string"==typeof n)return function zX(n,e){if(!n)throw new Error("Iterable cannot be null");return new so(t=>{const i=new rs;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[k_](),i.add(e.schedule(function(){if(t.closed)return;let s,a;try{const u=r.next();s=u.value,a=u.done}catch(u){return void t.error(u)}a?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof so?n:new so((n=>{if(n&&"function"==typeof n[Fm])return(n=>e=>{const t=n[Fm]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(jN(n))return BN(n);if(UN(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mf),e))(n);if(n&&"function"==typeof n[k_])return(n=>e=>{const t=n[k_]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${ON(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}})(n))}function MD(...n){let e=n[n.length-1];return function YX(n){return n&&"function"==typeof n.schedule}(e)?(n.pop(),AD(n,e)):function XX(n,e){return e?AD(n,e):new so(BN(n))}(n)}class QX extends rs{constructor(e,t){super()}schedule(e,t=0){return this}}class kD extends QX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let HN=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,r){return new this.SchedulerAction(this,t).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Ga extends HN{constructor(e,t=HN.now){super(e,()=>Ga.delegate&&Ga.delegate!==this?Ga.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Ga.delegate&&Ga.delegate!==this?Ga.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const qN=new Ga(kD);function za(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new ZX(n,e))}}class ZX{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new JX(e,this.project,this.thisArg))}}class JX extends ro{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function GN(n,e){return function eQ(n,e=qN){return new so(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot(t)}):i=n.onSnapshot(t),function(){null!=i&&i()}})}(n,e)}function P_(n,e){return GN(n,e).pipe(za(t=>({payload:t,type:"query"})))}const nQ=new so(n=>n.complete());function oQ({error:n,subscriber:e}){e.error(n)}class Io{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return MD(this.value);case"E":return function sQ(n,e){return new so(e?t=>e.schedule(oQ,0,{error:n,subscriber:t}):t=>t.error(n))}(this.error);case"C":return function iQ(n){return n?function rQ(n){return new so(e=>n.schedule(()=>e.complete()))}(n):nQ}()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Io("N",e):Io.undefinedValueNotification}static createError(e){return new Io("E",void 0,e)}static createComplete(){return Io.completeNotification}}function O_(n,e=0){return function(i){return i.lift(new aQ(n,e))}}Io.completeNotification=new Io("C"),Io.undefinedValueNotification=new Io("N",void 0);class aQ{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new RD(e,this.scheduler,this.delay))}}class RD extends ro{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(RD.dispatch,this.delay,new lQ(e,this.destination)))}_next(e){this.scheduleMessage(Io.createNext(e))}_error(e){this.scheduleMessage(Io.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Io.createComplete()),this.unsubscribe()}}class lQ{constructor(e,t){this.notification=e,this.destination=t}}function zN(n,e){return function(i){return i.lift(new uQ(n,e))}}class uQ{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new cQ(e,this.predicate,this.thisArg))}}class cQ extends ro{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function PD(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new hQ(n,e,t))}}class hQ{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new dQ(e,this.accumulator,this.seed,this.hasSeed))}}class dQ extends ro{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function N_(n,e){return P_(n,e).pipe(za(t=>t.payload.docChanges().map(i=>({type:i.type,payload:i}))))}function $N(n,e,t){return P_(n,t).pipe(za(i=>i.payload.docChanges()),PD((i,r)=>function fQ(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function pQ(n,e){switch(e.type){case"added":n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)||n.splice(e.newIndex,0,e);break;case"modified":(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e)):n.splice(e.newIndex,1,e));break;case"removed":n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&n.splice(e.oldIndex,1)}return n}(n,i))}),n}(i,r,e),[]),za(i=>i.map(r=>({type:r.type,payload:r}))))}function WN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class KN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){return e&&0!==e.length?N_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,za(t=>t.filter(i=>e.indexOf(i.type)>-1)),zN(t=>t.length>0)):N_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(PD((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=WN(e);return $N(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return P_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,za(t=>t.payload.docs.map(i=>e.idField?Object.assign({},i.data(),{[e.idField]:i.id}):i.data())))}get(e){return R_(this.query.get(e)).pipe(O_(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new YN(this.ref.doc(e),this.afs)}}class YN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=sF(i,t);return new KN(r,s,this.afs)}snapshotChanges(){return function tQ(n,e){return GN(n,e).pipe(za(t=>({payload:t,type:"value"})))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(za(e=>e.payload.data()))}get(e){return R_(this.ref.get(e)).pipe(O_(this.afs.schedulers.insideAngular))}}class mQ{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?N_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,za(t=>t.filter(i=>e.indexOf(i.type)>-1)),zN(t=>t.length>0)):N_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(PD((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=WN(e);return $N(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return P_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,za(t=>t.payload.docs.map(i=>i.data())))}get(e){return R_(this.query.get(e)).pipe(O_(this.afs.schedulers.insideAngular))}}const vQ=new class yQ extends Ga{}(class gQ extends kD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});function ju(){}class bQ{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new wQ(e,this.nextOrObserver,this.error,this.complete))}}class wQ extends ro{constructor(e,t,i,r){super(e),this._tapNext=ju,this._tapError=ju,this._tapComplete=ju,this._tapError=i||ju,this._tapComplete=r||ju,T_(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ju,this._tapError=t.error||ju,this._tapComplete=t.complete||ju)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}let CQ=1;const EQ=Promise.resolve(),F_={};function XN(n){return n in F_&&(delete F_[n],!0)}const QN={setImmediate(n){const e=CQ++;return F_[e]=!0,EQ.then(()=>XN(e)&&n()),e},clearImmediate(n){XN(n)}},OD=new class xQ extends Ga{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class DQ extends kD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=QN.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(QN.clearImmediate(t),e.scheduled=void 0)}});class L_ extends so{constructor(e,t=0,i=OD){super(),this.source=e,this.delayTime=t,this.scheduler=i,(!function SQ(n){return!PN(n)&&n-parseFloat(n)+1>=0}(t)||t<0)&&(this.delayTime=0),(!i||"function"!=typeof i.schedule)&&(this.scheduler=OD)}static create(e,t=0,i=OD){return new L_(e,t,i)}static dispatch(e){const{source:t,subscriber:i}=e;return this.add(t.subscribe(i))}_subscribe(e){return this.scheduler.schedule(L_.dispatch,this.delayTime,{source:this.source,subscriber:e})}}class TQ{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new L_(t,this.delay,this.scheduler).subscribe(e)}}function ND(){}class ZN{constructor(e,t=vQ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(a){r.runGuarded(()=>{e.apply(this,[a])})},t,i)}}class AQ{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ND,{},ND,ND)),t.pipe(function _Q(n,e,t){return function(r){return r.lift(new bQ(n,e,t))}}(i,i,i)).subscribe(e).add(i)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class MQ{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new ZN(Zone.current)),this.insideAngular=e.run(()=>new ZN(Zone.current,qN))}}var FD,OQ=wt(691),lh=wt.n(OQ);const V_=new ge("angularfire2.app.options"),B_=new ge("angularfire2.app.nameOrConfig"),UQ=new Pu("5.4.2");function JN(n,e,t){const r="object"==typeof t&&t||{};return r.name=r.name||"string"==typeof t&&t||"[DEFAULT]",lh().apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>lh().initializeApp(n,r))}const HQ={provide:class jQ{},useFactory:JN,deps:[V_,Gt,[new rr,B_]]};let Uu=FD=class{constructor(e){lh().registerVersion&&(lh().registerVersion("angularfire",UQ.full,e.toString()),lh().registerVersion("angular",J1.full))}static initializeApp(e,t){return{ngModule:FD,providers:[{provide:V_,useValue:e},{provide:B_,useValue:t}]}}};var e;Uu.\u0275fac=function(e){return new(e||Uu)($(Ou))},Uu.\u0275mod=nt({type:Uu}),Uu.\u0275inj=ct({providers:[HQ]}),Uu=FD=function(n,e,t,i){var a,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(a=n[u])&&(s=(r<3?a(s):r>3?a(e,t,s):a(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}([(e=Ys(Ou),function(t,i){e(t,i,0)}),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],Uu);var GQ=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},$a=function(n,e){return function(t,i){e(t,i,n)}};const eF=new ge("angularfire2.enableFirestorePersistence"),tF=new ge("angularfire2.firestore.persistenceSettings"),nF=eF,iF=tF,rF=new ge("angularfire2.firestore.settings"),LD=parseInt(lh().SDK_VERSION.split(".")[0]),$Q=parseInt(lh().SDK_VERSION.split(".")[1]),WQ=LD<5||5==LD&&$Q<8?{timestampsInSnapshots:!0}:{};function sF(n,e=(t=>t)){return{query:e(n),ref:n}}let VD=(()=>{let n=class{constructor(t,i,r,s,a,u,d){this.schedulers=new MQ(u),this.keepUnstableUntilFirst=function kQ(n,e){return function(i){return xR(e)&&(i=i.lift(new AQ(n.ngZone))),i.pipe(function IQ(n,e=0){return function(i){return i.lift(new TQ(n,e))}}(n.outsideAngular),O_(n.insideAngular))}}(this.schedulers,a),this.firestore=u.runOutsideAngular(()=>{const y=JN(t,u,i).firestore();return y.settings(s||WQ),y}),this.persistenceEnabled$=r&&!xR(a)?u.runOutsideAngular(()=>{try{return R_(this.firestore.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(y){return MD(!1)}}):MD(!1)}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=sF(r,i);return new KN(s,a,this)}collectionGroup(t,i){if(LD<6)throw"collection group queries require Firebase JS SDK >= 6.0";const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new mQ(r(a),this)}doc(t){let i;return i="string"==typeof t?this.firestore.doc(t):t,new YN(i,this)}createId(){return this.firestore.collection("_").doc().id}};return n.\u0275fac=function(t){return new(t||n)($(V_),$(B_,8),$(nF,8),$(rF,8),$(Ou),$(Gt),$(iF,8))},n.\u0275prov=ke({token:n,factory:function(e){return n.\u0275fac(e)}}),n=function(n,e,t,i){var a,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(a=n[u])&&(s=(r<3?a(s):r>3?a(e,t,s):a(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}([$a(0,Ys(V_)),$a(1,rr()),$a(1,Ys(B_)),$a(2,rr()),$a(2,Ys(nF)),$a(3,rr()),$a(3,Ys(rF)),$a(4,Ys(Ou)),$a(6,rr()),$a(6,Ys(iF)),GQ("design:paramtypes",[Object,Object,Object,Object,Object,Gt,Object])],n),n})(),BD=(()=>{class n{constructor(t,i){this.document=t,this.platformId=i,this.documentIsAccessible=DR(this.platformId)}static getCookieRegExp(t){const i=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch(i){return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const r=n.getCookieRegExp(t).exec(this.document.cookie);return r[1]?n.safeDecodeURIComponent(r[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},i=this.document;return i.cookie&&""!==i.cookie&&i.cookie.split(";").forEach(r=>{const[s,a]=r.split("=");t[n.safeDecodeURIComponent(s.replace(/^ /,""))]=n.safeDecodeURIComponent(a)}),t}set(t,i,r,s,a,u,d){if(!this.documentIsAccessible)return;if("number"==typeof r||r instanceof Date||s||a||u||d)return void this.set(t,i,{expires:r,path:s,domain:a,secure:u,sameSite:d||"Lax"});let p=encodeURIComponent(t)+"="+encodeURIComponent(i)+";";const y=r||{};y.expires&&(p+="number"==typeof y.expires?"expires="+new Date((new Date).getTime()+1e3*y.expires*60*60*24).toUTCString()+";":"expires="+y.expires.toUTCString()+";"),y.path&&(p+="path="+y.path+";"),y.domain&&(p+="domain="+y.domain+";"),!1===y.secure&&"None"===y.sameSite&&(y.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),y.secure&&(p+="secure;"),y.sameSite||(y.sameSite="Lax"),p+="sameSite="+y.sameSite+";",this.document.cookie=p}delete(t,i,r,s,a="Lax"){if(!this.documentIsAccessible)return;const u=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:u,path:i,domain:r,secure:s,sameSite:a})}deleteAll(t,i,r,s="Lax"){if(!this.documentIsAccessible)return;const a=this.getAll();for(const u in a)a.hasOwnProperty(u)&&this.delete(u,t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)($(At),$(Ou))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KQ=["mat-button",""],YQ=["*"],QQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ZQ=fX(EN(Om(class{constructor(n){this._elementRef=n}})));let oF=(()=>{class n extends ZQ{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of QQ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(Y($n),Y(XE),Y(pf,8))},n.\u0275cmp=En({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&dv(I_,5),2&t){let r;Or(r=Nr())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Is("disabled",i.disabled||null),bo("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Vt],attrs:KQ,ngContentSelectors:YQ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(Wd(),ai(0,"span",0),Ll(1),ki(),Yo(2,"span",1)(3,"span",2)),2&t&&(ka(2),bo("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Oa("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[I_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),JQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[xD,Wi],Wi]}),n})(),J9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Wi],Wi]}),n})();const pL=["*"],eZ=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],tZ=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],oZ=EN(Om(class{})),aZ=Om(class{}),gL=new ge("MatList"),lZ=new ge("MatNavList");let uZ=(()=>{class n extends oZ{constructor(t){super(),this._elementRef=t,this._stateChanges=new ce,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(Y($n))},n.\u0275cmp=En({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Tn([{provide:gL,useExisting:n}]),Vt,qi],ngContentSelectors:pL,decls:1,vars:0,template:function(t,i){1&t&&(Wd(),Ll(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),yL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Be({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),vL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Be({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),cZ=(()=>{class n extends aZ{constructor(t,i,r,s){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new ce,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Ha(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Wl(t)}ngAfterContentInit(){!function xN(n,e,t="mat"){n.changes.pipe(tf(n)).subscribe(({length:i})=>{Nm(e,`${t}-2-line`,!1),Nm(e,`${t}-3-line`,!1),Nm(e,`${t}-multi-line`,!1),2===i||3===i?Nm(e,`${t}-${i}-line`,!0):i>3&&Nm(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(Y($n),Y(Ul),Y(lZ,8),Y(gL,8))},n.\u0275cmp=En({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(eo(r,yL,5),eo(r,vL,5),eo(r,DN,5)),2&t){let s;Or(s=Nr())&&(i._avatar=s.first),Or(s=Nr())&&(i._icon=s.first),Or(s=Nr())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&bo("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Vt],ngContentSelectors:tZ,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(Wd(eZ),ai(0,"span",0),Yo(1,"span",1),Ll(2),ai(3,"span",2),Ll(4,1),ki(),Ll(5,2),ki()),2&t&&(ka(1),Oa("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[I_],encapsulation:2,changeDetection:0}),n})(),gZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[S_,xD,Wi,AN,Mv],S_,Wi,AN,J9]}),n})();function ux(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,(null==t?void 0:t.has(i))?"important":""):n.removeProperty(i)}return n}function yf(n,e){const t=e?"":"none";ux(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function bL(n,e,t){ux(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Y_(n,e){return e&&"none"!=e?n+" "+e:n}function wL(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function cx(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function hx(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function dx(n,e,t){const{top:i,bottom:r,left:s,right:a}=n;return t>=i&&t<=r&&e>=s&&e<=a}function Um(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function CL(n,e,t,i){const{top:r,right:s,bottom:a,left:u,width:d,height:p}=n,y=d*e,_=p*e;return i>r-_&&i<a+_&&t>u-y&&t<s+y}class EL{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:hx(t)})})}handleScroll(e){const t=ta(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let s,a;if(t===this._document){const p=this.getViewportScrollPosition();s=p.top,a=p.left}else s=t.scrollTop,a=t.scrollLeft;const u=r.top-s,d=r.left-a;return this.positions.forEach((p,y)=>{p.clientRect&&t!==y&&t.contains(y)&&Um(p.clientRect,u,d)}),r.top=s,r.left=a,{top:u,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function DL(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?IL(n,e):("input"===i||"select"===i||"textarea"===i)&&SL(n,e),xL("canvas",n,e,IL),xL("input, textarea, select",n,e,SL),e}function xL(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const s=t.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],s[a])}}let _Z=0;function SL(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${_Z++}`)}function IL(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}const TL=th({passive:!0}),X_=th({passive:!1}),fx=new Set(["position"]);class wZ{constructor(e,t,i,r,s,a){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ce,this._pointerMoveSubscription=ie.EMPTY,this._pointerUpSubscription=ie.EMPTY,this._scrollSubscription=ie.EMPTY,this._resizeSubscription=ie.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ce,this.started=new ce,this.released=new ce,this.ended=new ce,this.entered=new ce,this.exited=new ce,this.dropped=new ce,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(u);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const d=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const x=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),I=this._dropContainer;if(!x)return void this._endDragSequence(u);(!I||!I.isDragging()&&!I.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const p=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(p),this._dropContainer)this._updateActiveDropContainer(p,d);else{const y=this._activeTransform;y.x=p.x-this._pickupPositionOnPage.x+this._passiveTransform.x,y.y=p.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(y.x,y.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:p,event:u,distance:this._getDragDistance(p),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const d=this._getTargetHandle(u);d&&!this._disabledHandles.has(d)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new EL(i),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Wl(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>yf(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>$i(i)),this._handles.forEach(i=>yf(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=$i(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,X_),t.addEventListener("touchstart",this._pointerDown,TL),t.addEventListener("dragstart",this._nativeDragStart,X_)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?$i(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),yf(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),yf(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Hm(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();r.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),bL(i,!1,fx),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,u).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=Hm(t),s=!r&&0!==t.button,a=this._rootElement,u=ta(t),d=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),p=r?YE(t):KE(t);if(u&&u.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||d||p)return;if(this._handles.length){const C=a.style;this._rootElementTapHighlight=C.webkitTapHighlightColor||"",C.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(C=>this._updateOnScroll(C)),this._boundaryElement&&(this._boundaryRect=hx(this._boundaryElement));const y=this._previewTemplate;this._pickupPositionInElement=y&&y.template&&!y.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const _=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:_.x,y:_.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){bL(this._rootElement,!0,fx),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),a=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:r}),t.drop(this,i,this._initialIndex,this._initialContainer,a,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const s=e.matchSize?this._rootElement.getBoundingClientRect():null,a=e.viewContainer.createEmbeddedView(i,e.context);a.detectChanges(),r=ML(a,this._document),this._previewRef=a,e.matchSize?kL(r,s):r.style.transform=Q_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;r=DL(s),kL(r,s.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return ux(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},fx),yf(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function vZ(n){const e=getComputedStyle(n),t=cx(e,"transition-property"),i=t.find(u=>"transform"===u||"all"===u);if(!i)return 0;const r=t.indexOf(i),s=cx(e,"transition-duration"),a=cx(e,"transition-delay");return wL(s[r])+wL(a[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=a=>{var u;(!a||ta(a)===this._preview&&"transform"===a.propertyName)&&(null===(u=this._preview)||void 0===u||u.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=ML(this._placeholderRef,this._document)):i=DL(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():i,a=Hm(t)?t.targetTouches[0]:t,u=this._getViewportScrollPosition();return{x:s.left-i.left+(a.pageX-s.left-u.left),y:s.top-i.top+(a.pageY-s.top-u.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=Hm(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const u=this._ownerSVGElement.createSVGPoint();return u.x=r,u.y=s,u.matrixTransform(a.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,u=this._boundaryRect,{width:d,height:p}=this._getPreviewRect(),y=u.top+a,_=u.bottom-(p-a);i=AL(i,u.left+s,u.right-(d-s)),r=AL(r,y,_)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),u=Math.abs(i-s.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),u>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,yf(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,X_),e.removeEventListener("touchstart",this._pointerDown,TL),e.removeEventListener("dragstart",this._nativeDragStart,X_)}_applyRootElementTransform(e,t){const i=Q_(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Y_(i,this._initialTransform)}_applyPreviewTransform(e,t){var i;const r=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,s=Q_(e,t);this._preview.style.transform=Y_(s,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,a=r.right-i.right,u=i.top-r.top,d=r.bottom-i.bottom;i.width>r.width?(s>0&&(e+=s),a>0&&(e-=a)):e=0,i.height>r.height?(u>0&&(t+=u),d>0&&(t-=d)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Hm(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=ta(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Um(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=BE(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return $i(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Q_(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function AL(n,e,t){return Math.max(e,Math.min(t,n))}function Hm(n){return"t"===n.type[0]}function ML(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function kL(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Q_(e.left,e.top)}function qm(n,e){return Math.max(0,Math.min(e,n))}class EZ{constructor(e,t,i,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ce,this.entered=new ce,this.exited=new ce,this.dropped=new ce,this.sorted=new ce,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ie.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ce,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function yZ(n=0,e=e_){return n<0&&(n=0),iO(n,n,e)}(0,tO).pipe(Ha(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-u):2===this._verticalScrollDirection&&a.scrollBy(0,u),1===this._horizontalScrollDirection?a.scrollBy(-u,0):2===this._horizontalScrollDirection&&a.scrollBy(u,0)})},this.element=$i(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new EL(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){let s;this._draggingStarted(),null==r?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,i))):s=r;const a=this._activeDraggables,u=a.indexOf(e),d=e.getPlaceholderElement();let p=a[s];if(p===e&&(p=a[s+1]),!p&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(p=a[0]),u>-1&&a.splice(u,1),p&&!this._dragDropRegistry.isDragging(p)){const y=p.getRootElement();y.parentElement.insertBefore(d,y),a.splice(s,0,e)}else $i(this.element).appendChild(d),a.push(e);d.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,s,a,u){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:a,dropPoint:u})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=$i(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!CL(this._clientRect,.05,t,i))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===a&&s.length>0)return;const u="horizontal"===this._orientation,d=s.findIndex(L=>L.drag===e),p=s[a],_=p.clientRect,C=d>a?1:-1,x=this._getItemOffsetPx(s[d].clientRect,_,C),I=this._getSiblingOffsetPx(d,s,C),k=s.slice();(function CZ(n,e,t){const i=qm(e,n.length-1),r=qm(t,n.length-1);if(i===r)return;const s=n[i],a=r<i?-1:1;for(let u=i;u!==r;u+=a)n[u]=n[u+a];n[r]=s})(s,d,a),this.sorted.next({previousIndex:d,currentIndex:a,container:this,item:e}),s.forEach((L,Q)=>{if(k[Q]===L)return;const j=L.drag===e,se=j?x:I,_e=j?e.getPlaceholderElement():L.drag.getRootElement();L.offset+=se,u?(_e.style.transform=Y_(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),Um(L.clientRect,0,se)):(_e.style.transform=Y_(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),Um(L.clientRect,se,0))}),this._previousSwap.overlaps=dx(_,t,i),this._previousSwap.drag=p.drag,this._previousSwap.delta=u?r.x:r.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((a,u)=>{u===this._document||!a.clientRect||i||CL(a.clientRect,.05,e,t)&&([r,s]=function DZ(n,e,t,i){const r=OL(e,i),s=NL(e,t);let a=0,u=0;if(r){const d=n.scrollTop;1===r?d>0&&(a=1):n.scrollHeight-d>n.clientHeight&&(a=2)}if(s){const d=n.scrollLeft;1===s?d>0&&(u=1):n.scrollWidth-d>n.clientWidth&&(u=2)}return[a,u]}(u,a.clientRect,e,t),(r||s)&&(i=u))}),!r&&!s){const{width:a,height:u}=this._viewportRuler.getViewportSize(),d={width:a,height:u,top:0,right:a,bottom:u,left:0};r=OL(d,t),s=NL(d,e),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=$i(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=$i(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:hx(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=$i(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var i;const r=t.getRootElement();if(r){const s=null===(i=this._itemPositions.find(a=>a.drag===t))||void 0===i?void 0:i.initialTransform;r.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this._orientation,s=t[e].clientRect,a=t[e+-1*i];let u=s[r?"width":"height"]*i;if(a){const d=r?"left":"top",p=r?"right":"bottom";-1===i?u-=a.clientRect[d]-s[p]:u+=s[d]-a.clientRect[p]}return u}_getItemOffsetPx(e,t,i){const r="horizontal"===this._orientation;let s=r?t.left-e.left:t.top-e.top;return-1===i&&(s+=r?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return r?e>=a.right:t>=a.bottom}{const a=i[0].clientRect;return r?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,i,r){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:u,clientRect:d})=>{if(u===e)return!1;if(r){const p=s?r.x:r.y;if(u===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return s?t>=Math.floor(d.left)&&t<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom)});return-1!==a&&this.sortPredicate(a,e,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&dx(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!dx(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const s=$i(this.element);return r===s||s.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:i})=>{Um(i,t.top,t.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=BE($i(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function OL(n,e){const{top:t,bottom:i,height:r}=n,s=.05*r;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}function NL(n,e){const{left:t,right:i,width:r}=n,s=.05*r;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}const Z_=th({passive:!1,capture:!0});let xZ=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new ce,this.pointerUp=new ce,this.scroll=new ce,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Z_)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Z_)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Z_}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Z_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Ve(r=>this._ngZone.runOutsideAngular(()=>{const a=u=>{this._activeDragInstances.length&&r.next(u)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),nl(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)($(Gt),$(At))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SZ={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let FL=(()=>{class n{constructor(t,i,r,s){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,i=SZ){return new wZ(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new EZ(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)($(At),$(Gt),$(HE),$(xZ))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LL=new ge("CDK_DRAG_PARENT"),IZ=new ge("CDK_DRAG_CONFIG"),TZ=new ge("CdkDropList"),VL=new ge("CdkDragHandle"),AZ=new ge("CdkDragPlaceholder"),MZ=new ge("CdkDragPreview");let RZ=(()=>{class n{constructor(t,i,r,s,a,u,d,p,y,_,C){this.element=t,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=a,this._dir=d,this._changeDetectorRef=y,this._selfHandle=_,this._parentDrag=C,this._destroyed=new ce,this.started=new Yt,this.released=new Yt,this.ended=new Yt,this.entered=new Yt,this.exited=new Yt,this.dropped=new Yt,this.moved=new Ve(x=>{const I=this._dragRef.moved.pipe(qe(k=>({source:this,pointerPosition:k.pointerPosition,event:k.event,delta:k.delta,distance:k.distance}))).subscribe(x);return()=>{I.unsubscribe()}}),this._dragRef=p.createDrag(t,{dragStartThreshold:u&&null!=u.dragStartThreshold?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&null!=u.pointerDirectionChangeThreshold?u.pointerDirectionChangeThreshold:5,zIndex:null==u?void 0:u.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),u&&this._assignDefaults(u),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Wl(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zi(1),Ha(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):null===(t=i.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):$i(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:function A8(n,e=0){return function M8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Zi(1)).subscribe(()=>{var i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent((null===(i=n._dragInstances.find(s=>s.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:a,boundaryElement:u,draggingDisabled:d,rootElementSelector:p,previewContainer:y}=t;this.disabled=null!=d&&d,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),u&&(this.boundaryElement=u),p&&(this.rootElementSelector=p),y&&(this.previewContainer=y)}_setupHandlesListener(){this._handles.changes.pipe(tf(this._handles),sr(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Fu(t=>nl(...t.map(i=>i._stateChanges.pipe(tf(i))))),Ha(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(Y($n),Y(TZ,12),Y(At),Y(Gt),Y(Js),Y(IZ,8),Y(n_,8),Y(FL),Y(Ul),Y(VL,10),Y(LL,12))},n.\u0275dir=Be({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(eo(r,MZ,5),eo(r,AZ,5),eo(r,VL,5)),2&t){let s;Or(s=Nr())&&(i._previewTemplate=s.first),Or(s=Nr())&&(i._placeholderTemplate=s.first),Or(s=Nr())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&bo("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Tn([{provide:LL,useExisting:n}]),qi]}),n})(),PZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:[FL],imports:[i_]}),n})();const px_firebase={apiKey:"AIzaSyCjzfxojkGSkohbvLjFJQF1W8z3GQeH20c",authDomain:"wmc-todo-datenbank.firebaseapp.com",databaseURL:"https://wmc-todo-datenbank-default-rtdb.europe-west1.firebasedatabase.app",projectId:"wmc-todo-datenbank",storageBucket:"wmc-todo-datenbank.appspot.com",messagingSenderId:"534210636306",appId:"1:534210636306:web:6ff31fbe7e462aa50d46cb",measurementId:"G-B86H0SDT85"},BL=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},jL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,u=a?n[r+1]:0,d=r+2<n.length,p=d?n[r+2]:0;let C=(15&u)<<2|p>>6,x=63&p;d||(x=64,a||(C=64)),i.push(t[s>>2],t[(3&s)<<4|u>>4],t[C],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const d=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(1023&d))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const p=r<n.length?t[n.charAt(r)]:64;++r;const _=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==u||null==p||null==_)throw Error();i.push(s<<2|u>>4),64!==p&&(i.push(u<<4&240|p>>2),64!==_&&i.push(p<<6&192|_))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},J_=function(n){return function(n){const e=BL(n);return jL.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class BZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}class tb extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,tb.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qL.prototype.create)}}class qL{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?function GZ(n,e){return n.replace(zZ,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new tb(r,`${this.serviceName}: ${a} (${r}).`,i)}}const zZ=/\{\$([^}]+)}/g;function gx(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(zL(s)&&zL(a)){if(!gx(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function zL(n){return null!==n&&"object"==typeof n}class Gm{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const hh="[DEFAULT]";class JZ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new BZ;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tJ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hh})}catch(t){}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=hh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return or(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=hh){return this.instances.has(e)}getOptions(e=hh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&a.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eJ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=hh){return this.component?this.component.multipleInstances?e:hh:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function eJ(n){return n===hh?void 0:n}class nJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _x=[];var _n=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(_n||(_n={})),_n))();const $L={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},iJ=_n.INFO,rJ={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},sJ=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=rJ[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class WL{constructor(e){this.name=e,this._logLevel=iJ,this._logHandler=sJ,this._userLogHandler=null,_x.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _n))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...e),this._logHandler(this,_n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...e),this._logHandler(this,_n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...e),this._logHandler(this,_n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...e),this._logHandler(this,_n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...e),this._logHandler(this,_n.ERROR,...e)}}let KL,YL;const XL=new WeakMap,bx=new WeakMap,QL=new WeakMap,wx=new WeakMap,Cx=new WeakMap;let Ex={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return bx.get(n);if("objectStoreNames"===e)return n.objectStoreNames||QL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zu(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fJ(n){return"function"==typeof n?function dJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lJ(){return YL||(YL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Dx(this),e),zu(XL.get(this))}:function(...e){return zu(n.apply(Dx(this),e))}:function(e,...t){const i=n.call(Dx(this),e,...t);return QL.set(i,e.sort?e.sort():[e]),zu(i)}}(n):(n instanceof IDBTransaction&&function cJ(n){if(bx.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});bx.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function aJ(){return KL||(KL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ex):n)}function zu(n){if(n instanceof IDBRequest)return function uJ(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(zu(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&XL.set(t,n)}).catch(()=>{}),Cx.set(e,n),e}(n);if(wx.has(n))return wx.get(n);const e=fJ(n);return e!==n&&(wx.set(n,e),Cx.set(e,n)),e}const Dx=n=>Cx.get(n),mJ=["get","getKey","getAll","getAllKeys","count"],gJ=["put","add","delete","clear"],xx=new Map;function ZL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(xx.get(e))return xx.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=gJ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!mJ.includes(t))return;const s=function(){var a=or(function*(u,...d){const p=this.transaction(u,r?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(yield Promise.all([y[t](...d),r&&p.done]))[0]});return function(d){return a.apply(this,arguments)}}();return xx.set(e,s),s}!function hJ(n){Ex=n(Ex)}(n=>AU(TU({},n),{get:(e,t,i)=>ZL(e,t)||n.get(e,t,i),has:(e,t)=>!!ZL(e,t)||n.has(e,t)}));class yJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function vJ(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Sx="@firebase/app",Ix=new WL("@firebase/app"),Tx="[DEFAULT]",GJ={[Sx]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dh=new Map,ib=new Map;function zJ(n,e){try{n.container.addComponent(e)}catch(t){Ix.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rb(n){const e=n.name;if(ib.has(e))return Ix.debug(`There were multiple attempts to register component ${e}.`),!1;ib.set(e,n);for(const t of dh.values())zJ(t,n);return!0}const $u=new qL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class WJ{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $u.create("app-deleted",{appName:this._name})}}function vf(n,e,t){var i;let r=null!==(i=GJ[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];return s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ix.warn(u.join(" "))}rb(new Gm(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zm="firebase-heartbeat-store";let Mx=null;function tV(){return Mx||(Mx=function pJ(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),u=zu(a);return i&&a.addEventListener("upgradeneeded",d=>{i(zu(a.result),d.oldVersion,d.newVersion,zu(a.transaction))}),t&&a.addEventListener("blocked",()=>t()),u.then(d=>{s&&d.addEventListener("close",()=>s()),r&&d.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(zm)}}).catch(n=>{throw $u.create("storage-open",{originalErrorMessage:n.message})})),Mx}function kx(){return kx=or(function*(n){try{return(yield tV()).transaction(zm).objectStore(zm).get(iV(n))}catch(e){throw $u.create("storage-get",{originalErrorMessage:e.message})}}),kx.apply(this,arguments)}function nV(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=or(function*(n,e){try{const i=(yield tV()).transaction(zm,"readwrite");return yield i.objectStore(zm).put(e,iV(n)),i.done}catch(t){throw $u.create("storage-set",{originalErrorMessage:t.message})}}),Rx.apply(this,arguments)}function iV(n){return`${n.name}!${n.options.appId}`}class nee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ree(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return or(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(s=>s.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return or(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=rV(),{heartbeatsToSend:i,unsentEntries:r}=function iee(n,e=1024){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),sV(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),sV(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),s=J_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function rV(){return(new Date).toISOString().substring(0,10)}class ree{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return or(function*(){return!!function UZ(){return"object"==typeof indexedDB}()&&function HZ(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return or(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function JJ(n){return kx.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return or(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return nV(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return or(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return nV(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function sV(n){return J_(JSON.stringify({version:2,heartbeats:n})).length}!function see(n){rb(new Gm("platform-logger",e=>new yJ(e),"PRIVATE")),rb(new Gm("heartbeat",e=>new nee(e),"PRIVATE")),vf(Sx,"0.7.25",n),vf(Sx,"0.7.25","esm2017"),vf("fire-js","")}(""),vf("firebase","9.8.2","app");var Fe,lee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yl={},Px=Px||{},vt=lee||self;function sb(){}function Ox(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $m(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nx="closure_uid_"+(1e9*Math.random()>>>0),cee=0;function hee(n,e,t){return n.call.apply(n.bind,arguments)}function dee(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function _r(n,e,t){return(_r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hee:dee).apply(null,arguments)}function ob(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function br(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[r].apply(i,a)}}function Wu(){this.s=this.s,this.o=this.o}var pee={};Wu.prototype.s=!1,Wu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function uee(n){return Object.prototype.hasOwnProperty.call(n,Nx)&&n[Nx]||(n[Nx]=++cee)}(this);delete pee[n]}},Wu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},aV=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function lV(n){return Array.prototype.concat.apply([],arguments)}function Fx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ab(n){return/^[\s\xa0]*$/.test(n)}var as,uV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function os(n,e){return-1!=n.indexOf(e)}function Lx(n,e){return n<e?-1:n>e?1:0}e:{var cV=vt.navigator;if(cV){var hV=cV.userAgent;if(hV){as=hV;break e}}as=""}function Vx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function dV(n){const e={};for(const t in n)e[t]=n[t];return e}var fV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<fV.length;s++)t=fV[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Bx(n){return Bx[" "](n),n}Bx[" "]=sb;var lb,yee=os(as,"Opera"),_f=os(as,"Trident")||os(as,"MSIE"),mV=os(as,"Edge"),jx=mV||_f,gV=os(as,"Gecko")&&!(os(as.toLowerCase(),"webkit")&&!os(as,"Edge"))&&!(os(as,"Trident")||os(as,"MSIE"))&&!os(as,"Edge"),vee=os(as.toLowerCase(),"webkit")&&!os(as,"Edge");function yV(){var n=vt.document;return n?n.documentMode:void 0}e:{var Ux="",Hx=function(){var n=as;return gV?/rv:([^\);]+)(\)|;)/.exec(n):mV?/Edge\/([\d\.]+)/.exec(n):_f?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vee?/WebKit\/(\S+)/.exec(n):yee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Hx&&(Ux=Hx?Hx[1]:""),_f){var qx=yV();if(null!=qx&&qx>parseFloat(Ux)){lb=String(qx);break e}}lb=Ux}var _ee={};var wee=vt.document&&_f&&(yV()||parseInt(lb,10))||void 0,Cee=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",sb,e),vt.removeEventListener("test",sb,e)}catch(t){}return n}();function Lr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Wm(n,e){if(Lr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gV){e:{try{Bx(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Eee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wm.Z.h.call(this)}}Lr.prototype.h=function(){this.defaultPrevented=!0},br(Wm,Lr);var Eee={2:"touch",3:"pen",4:"mouse"};Wm.prototype.h=function(){Wm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Km="closure_listenable_"+(1e6*Math.random()|0),Dee=0;function xee(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Dee,this.ca=this.fa=!1}function ub(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function cb(n){this.src=n,this.g={},this.h=0}function zx(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=oV(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ub(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $x(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}cb.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=$x(n,e,i,r);return-1<a?(e=n[a],t||(e.fa=!1)):((e=new xee(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var Wx="closure_lm_"+(1e6*Math.random()|0),Kx={};function _V(n,e,t,i,r){if(i&&i.once)return wV(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_V(n,e[s],t,i,r);return null}return t=Zx(t),n&&n[Km]?n.N(e,t,$m(i)?!!i.capture:!!i,r):bV(n,e,t,!1,i,r)}function bV(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var a=$m(r)?!!r.capture:!!r,u=Xx(n);if(u||(n[Wx]=u=new cb(n)),(t=u.add(e,t,i,a,s)).proxy)return t;if(i=function See(){var e=Iee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Cee||(r=a),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(EV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function wV(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wV(n,e[s],t,i,r);return null}return t=Zx(t),n&&n[Km]?n.O(e,t,$m(i)?!!i.capture:!!i,r):bV(n,e,t,!0,i,r)}function CV(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)CV(n,e[s],t,i,r);else i=$m(i)?!!i.capture:!!i,t=Zx(t),n&&n[Km]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$x(s=n.g[e],t,i,r))&&(ub(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Xx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$x(e,t,i,r)),(t=-1<n?e[n]:null)&&Yx(t))}function Yx(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Km])zx(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(EV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Xx(e))?(zx(t,n),0==t.h&&(t.src=null,e[Wx]=null)):ub(n)}}}function EV(n){return n in Kx?Kx[n]:Kx[n]="on"+n}function Iee(n,e){if(n.ca)n=!0;else{e=new Wm(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Yx(n),n=t.call(i,e)}return n}function Xx(n){return(n=n[Wx])instanceof cb?n:null}var Qx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zx(n){return"function"==typeof n?n:(n[Qx]||(n[Qx]=function(e){return n.handleEvent(e)}),n[Qx])}function ar(){Wu.call(this),this.i=new cb(this),this.P=this,this.I=null}function wr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Lr(e,n);else if(e instanceof Lr)e.target=e.target||n;else{var r=e;pV(e=new Lr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];r=hb(a,i,!0,e)&&r}if(r=hb(a=e.g=n,i,!0,e)&&r,r=hb(a,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=hb(a=e.g=t[s],i,!1,e)&&r}function hb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ca&&a.capture==t){var u=a.listener,d=a.ia||a.src;a.fa&&zx(n.i,a),r=!1!==u.call(d,i)&&r}}return r&&!i.defaultPrevented}br(ar,Wu),ar.prototype[Km]=!0,ar.prototype.removeEventListener=function(n,e,t,i){CV(this,n,e,t,i)},ar.prototype.M=function(){if(ar.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ub(t[i]);delete n.g[e],n.h--}}this.I=null},ar.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ar.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jx=vt.JSON.stringify;function Tee(){var n=xV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tS,DV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Mee,n=>n.reset());class Mee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kee(n){vt.setTimeout(()=>{throw n},0)}function eS(n,e){tS||function Ree(){var n=vt.Promise.resolve(void 0);tS=function(){n.then(Pee)}}(),nS||(tS(),nS=!0),xV.add(n,e)}var nS=!1,xV=new class Aee{constructor(){this.h=this.g=null}add(e,t){const i=DV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Pee(){for(var n;n=Tee();){try{n.h.call(n.g)}catch(t){kee(t)}var e=DV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nS=!1}function db(n,e){ar.call(this),this.h=n||1,this.g=e||vt,this.j=_r(this.kb,this),this.l=Date.now()}function iS(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function rS(n,e,t){if("function"==typeof n)t&&(n=_r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_r(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function SV(n){n.g=rS(()=>{n.g=null,n.i&&(n.i=!1,SV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}br(db,ar),(Fe=db.prototype).da=!1,Fe.S=null,Fe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wr(this,"tick"),this.da&&(iS(this),this.start()))}},Fe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.M=function(){db.Z.M.call(this),iS(this),delete this.g};class Oee extends Wu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SV(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ym(n){Wu.call(this),this.h=n,this.g={}}br(Ym,Wu);var IV=[];function TV(n,e,t,i){Array.isArray(t)||(t&&(IV[0]=t.toString()),t=IV);for(var r=0;r<t.length;r++){var s=_V(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function AV(n){Vx(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yx(e)},n),n.g={}}function fb(){this.g=!0}function bf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Jx(t)}catch(u){return e}}(n,t)+(i?" "+i:"")})}Ym.prototype.M=function(){Ym.Z.M.call(this),AV(this)},Ym.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fb.prototype.Aa=function(){this.g=!1},fb.prototype.info=function(){};var fh={},MV=null;function pb(){return MV=MV||new ar}function kV(n){Lr.call(this,fh.Ma,n)}function Xm(n){const e=pb();wr(e,new kV(e,n))}function RV(n,e){Lr.call(this,fh.STAT_EVENT,n),this.stat=e}function ls(n){const e=pb();wr(e,new RV(e,n))}function PV(n,e){Lr.call(this,fh.Na,n),this.size=e}function Qm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}fh.Ma="serverreachability",br(kV,Lr),fh.STAT_EVENT="statevent",br(RV,Lr),fh.Na="timingevent",br(PV,Lr);var mb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},OV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sS(){}function FV(){}sS.prototype.h=null;var lS,Zm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oS(){Lr.call(this,"d")}function aS(){Lr.call(this,"c")}function gb(){}function Jm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Ym(this),this.P=Bee,this.W=new db(n=jx?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new LV}function LV(){this.i=null,this.g="",this.h=!1}br(oS,Lr),br(aS,Lr),br(gb,sS),gb.prototype.g=function(){return new XMLHttpRequest},gb.prototype.i=function(){return{}},lS=new gb;var Bee=45e3,uS={},yb={};function cS(n,e,t){n.K=1,n.v=Cb(Xl(e)),n.s=t,n.U=!0,VV(n,null)}function VV(n,e){n.F=Date.now(),eg(n),n.A=Xl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),WV(t.h,"t",i),n.C=0,t=n.l.H,n.h=new LV,n.g=gB(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Oee(_r(n.Ia,n,n.g),n.O)),TV(n.V,n.g,"readystatechange",n.gb),e=n.H?dV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xm(1),function Nee(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",u=s.split("&"),d=0;d<u.length;d++){var p=u[d].split("=");if(1<p.length){var y=p[0];p=p[1];var _=y.split("_");a=2<=_.length&&"type"==_[1]?a+(y+"=")+p+"&":a+(y+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.X,n.s)}function BV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jV(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=jee(n,t),r==yb){4==e&&(n.o=4,ls(14),i=!1),bf(n.j,n.m,null,"[Incomplete Response]");break}if(r==uS){n.o=4,ls(15),bf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}bf(n.j,n.m,r,null),hS(n,r)}BV(n)&&r!=yb&&r!=uS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ls(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),CS(e),e.L=!0,ls(11))):(bf(n.j,n.m,t,"[Invalid Chunked Response]"),ph(n),tg(n))}function jee(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?yb:(t=Number(e.substring(t,i)),isNaN(t)?uS:(i+=1)+t>e.length?yb:(e=e.substr(i,t),n.C=i+t,e))}function eg(n){n.Y=Date.now()+n.P,UV(n,n.P)}function UV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qm(_r(n.eb,n),e)}function vb(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function tg(n){0==n.l.G||n.I||dB(n.l,n)}function ph(n){vb(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,iS(n.W),AV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function hS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pS(t.i,n)))if(t.I=n.N,!n.J&&pS(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(p){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Qm(_r(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Tb(t),Sb(t)}wS(t),ls(18)}if(1>=XV(t.i)&&t.ka){try{t.ka()}catch(p){}t.ka=void 0}}else yh(t,11)}else if((n.J||t.g==n)&&Tb(t),!ab(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let p=r[e];if(t.U=p[0],p=p[1],2==t.G)if("c"==p[0]){t.J=p[1],t.la=p[2];const y=p[3];null!=y&&(t.ma=y,t.h.info("VER="+t.ma));const _=p[4];null!=_&&(t.za=_,t.h.info("SVER="+t.za));const C=p[5];null!=C&&"number"==typeof C&&0<C&&(t.K=i=1.5*C,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const x=n.g;if(x){const I=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=i.i;!s.g&&(os(I,"spdy")||os(I,"quic")||os(I,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(mS(s,s.h),s.h=null))}if(i.D){const k=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(i.sa=k,Wn(i.F,i.D,k))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var a=n;if((i=t).oa=mB(i,i.H?i.la:null,i.W),a.J){QV(i.i,a);var u=a,d=i.K;d&&u.setTimeout(d),u.B&&(vb(u),eg(u)),i.g=a}else cB(i);0<t.l.length&&Ib(t)}else"stop"!=p[0]&&"close"!=p[0]||yh(t,7);else 3==t.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?yh(t,7):_S(t):"noop"!=p[0]&&t.j&&t.j.wa(p),t.A=0)}Xm(4)}catch(p){}}function dS(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ox(n)||"string"==typeof n)aV(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ox(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Uee(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ox(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function wf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof wf)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function fS(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];mh(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)mh(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function mh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Fe=Jm.prototype).setTimeout=function(n){this.P=n},Fe.gb=function(n){n=n.target;const e=this.L;e&&3==Ql(n)?e.l():this.Ia(n)},Fe.Ia=function(n){try{if(n==this.g)e:{const y=Ql(this.g);var e=this.g.Da();const _=this.g.ba();if(!(3>y)&&(3!=y||jx||this.g&&(this.h.h||this.g.ga()||sB(this.g)))){this.I||4!=y||7==e||Xm(8==e||0>=_?3:2),vb(this);var t=this.g.ba();this.N=t;t:if(BV(this)){var i=sB(this.g);n="";var r=i.length,s=4==Ql(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ph(this),tg(this);var a="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==t,function Fee(n,e,t,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.X,y,t),this.i){if(this.$&&!this.J){t:{if(this.g){var u,d=this.g;if((u=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ab(u)){var p=u;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,ls(12),ph(this),tg(this);break e}bf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hS(this,t)}this.U?(jV(this,y,a),jx&&this.i&&3==y&&(TV(this.V,this.W,"tick",this.fb),this.W.start())):(bf(this.j,this.m,a,null),hS(this,a)),4==y&&ph(this),this.i&&!this.I&&(4==y?dB(this.l,this):(this.i=!1,eg(this)))}else 400==t&&0<a.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),ph(this),tg(this)}}}catch(y){}},Fe.fb=function(){if(this.g){var n=Ql(this.g),e=this.g.ga();this.C<e.length&&(vb(this),jV(this,n,e),this.i&&4!=n&&eg(this))}},Fe.cancel=function(){this.I=!0,ph(this)},Fe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Lee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xm(3),ls(17)),ph(this),this.o=2,tg(this)):UV(this,this.Y-n)},(Fe=wf.prototype).R=function(){fS(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Fe.T=function(){return fS(this),this.g.concat()},Fe.get=function(n,e){return mh(this.h,n)?this.h[n]:e},Fe.set=function(n,e){mh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Fe.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var HV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof gh){this.g=void 0!==e?e:n.g,_b(this,n.j),this.s=n.s,bb(this,n.i),wb(this,n.m),this.l=n.l,e=n.h;var t=new rg;t.i=e.i,e.g&&(t.g=new wf(e.g),t.h=e.h),qV(this,t),this.o=n.o}else n&&(t=String(n).match(HV))?(this.g=!!e,_b(this,t[1]||"",!0),this.s=ng(t[2]||""),bb(this,t[3]||"",!0),wb(this,t[4]),this.l=ng(t[5]||"",!0),qV(this,t[6]||"",!0),this.o=ng(t[7]||"")):(this.g=!!e,this.h=new rg(null,this.g))}function Xl(n){return new gh(n)}function _b(n,e,t){n.j=t?ng(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bb(n,e,t){n.i=t?ng(e,!0):e}function wb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function qV(n,e,t){e instanceof rg?(n.h=e,function Xee(n,e){e&&!n.j&&(Ku(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(zV(this,i),WV(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ig(e,Kee)),n.h=new rg(e,n.g))}function Wn(n,e,t){n.h.set(e,t)}function Cb(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ng(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ig(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ig(e,GV,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ig(e,GV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ig(t,"/"==t.charAt(0)?Wee:$ee,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ig(t,Yee)),n.join("")};var GV=/[#\/\?@]/g,$ee=/[#\?:]/g,Wee=/[#\?]/g,Kee=/[#\?@]/g,Yee=/#/g;function rg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ku(n){n.g||(n.g=new wf,n.h=0,n.i&&function Hee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zV(n,e){Ku(n),e=Cf(n,e),mh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,mh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&fS(n)))}function $V(n,e){return Ku(n),e=Cf(n,e),mh(n.g.h,e)}function WV(n,e,t){zV(n,e),0<t.length&&(n.i=null,n.g.set(Cf(n,e),Fx(t)),n.h+=t.length)}function Cf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KV(n){this.l=n||Zee,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=rg.prototype).add=function(n,e){Ku(this),this.i=null,n=Cf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Fe.forEach=function(n,e){Ku(this),this.g.forEach(function(t,i){aV(t,function(r){n.call(e,r,i,this)},this)},this)},Fe.T=function(){Ku(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},Fe.R=function(n){Ku(this);var e=[];if("string"==typeof n)$V(this,n)&&(e=lV(e,this.g.get(Cf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=lV(e,n[t])}return e},Fe.set=function(n,e){return Ku(this),this.i=null,$V(this,n=Cf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Fe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),n.push(a)}}return this.i=n.join("&")};var Zee=10;function YV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XV(n){return n.h?1:n.g?n.g.size:0}function pS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mS(n,e){n.g?n.g.add(e):n.h=e}function QV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ZV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fx(n.i)}function gS(){}function Jee(){this.g=new gS}function ete(n,e,t){const i=t||"";try{dS(n,function(r,s){let a=r;$m(r)&&(a=Jx(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Eb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function sg(n){this.l=n.$b||null,this.j=n.ib||!1}function Db(n,e){ar.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}KV.prototype.cancel=function(){if(this.i=ZV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},gS.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},gS.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},br(sg,sS),sg.prototype.g=function(){return new Db(this.l,this.j)},sg.prototype.i=function(n){return function(){return n}}({}),br(Db,ar);var yS=0;function JV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function og(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ag(n)}function ag(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Fe=Db.prototype).open=function(n,e){if(this.readyState!=yS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ag(this)},Fe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,og(this)),this.readyState=yS},Fe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ag(this)),this.g&&(this.readyState=3,ag(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Fe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?og(this):ag(this),3==this.readyState&&JV(this)}},Fe.Ua=function(n){this.g&&(this.response=this.responseText=n,og(this))},Fe.Ta=function(n){this.g&&(this.response=n,og(this))},Fe.ha=function(){this.g&&og(this)},Fe.setRequestHeader=function(n,e){this.v.append(n,e)},Fe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Db.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nte=vt.JSON.parse;function Ni(n){ar.call(this),this.headers=new wf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eB,this.K=this.L=!1}br(Ni,ar);var eB="",ite=/^https?$/i,rte=["POST","PUT"];function ote(n){return"content-type"==n.toLowerCase()}function tB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nB(n),xb(n)}function nB(n){n.D||(n.D=!0,wr(n,"complete"),wr(n,"error"))}function iB(n){if(n.h&&void 0!==Px&&(!n.C[1]||4!=Ql(n)||2!=n.ba()))if(n.v&&4==Ql(n))rS(n.Fa,0,n);else if(wr(n,"readystatechange"),4==Ql(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.H).match(HV)[1]||null;if(!r&&vt.self&&vt.self.location){var s=vt.self.location.protocol;r=s.substr(0,s.length-1)}i=!ite.test(r?r.toLowerCase():"")}t=i}if(t)wr(n,"complete"),wr(n,"success");else{n.m=6;try{var a=2<Ql(n)?n.g.statusText:""}catch(d){a=""}n.j=a+" ["+n.ba()+"]",nB(n)}}finally{xb(n)}}}function xb(n,e){if(n.g){rB(n);const t=n.g,i=n.C[0]?sb:null;n.g=null,n.C=null,e||wr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function rB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function Ql(n){return n.g?n.g.readyState:0}function sB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case eB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vS(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function ate(n){let e="";return Vx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function lg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oB(n){this.za=0,this.l=[],this.h=new fb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lg("baseRetryDelayMs",5e3,n),this.$a=lg("retryDelaySeedMs",1e4,n),this.Ya=lg("forwardChannelMaxRetries",2,n),this.ra=lg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new KV(n&&n.concurrentRequestLimit),this.Ca=new Jee,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function _S(n){if(aB(n),3==n.G){var e=n.V++,t=Xl(n.F);Wn(t,"SID",n.J),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),ug(n,t),(e=new Jm(n,n.h,e,void 0)).K=2,e.v=Cb(Xl(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=gB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),eg(e)}pB(n)}function Sb(n){n.g&&(CS(n),n.g.cancel(),n.g=null)}function aB(n){Sb(n),n.u&&(vt.clearTimeout(n.u),n.u=null),Tb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function bS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Ib(n)}function Ib(n){YV(n.i)||n.m||(n.m=!0,eS(n.Ha,n),n.C=0)}function lB(n,e){var t;t=e?e.m:n.V++;const i=Xl(n.F);Wn(i,"SID",n.J),Wn(i,"RID",t),Wn(i,"AID",n.U),ug(n,i),n.o&&n.s&&vS(i,n.o,n.s),t=new Jm(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=uB(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),mS(n.i,t),cS(t,i,e)}function ug(n,e){n.j&&dS({},function(t,i){Wn(e,i,t)})}function uB(n,e,t){t=Math.min(n.l.length,t);var i=n.j?_r(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let d=0;d<t;d++){let p=r[d].h;const y=r[d].g;if(p-=s,0>p)s=Math.max(0,r[d].h-100),u=!1;else try{ete(y,a,"req"+p+"_")}catch(_){i&&i(y)}}if(u){i=a.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function cB(n){n.g||n.u||(n.Y=1,eS(n.Ga,n),n.A=0)}function wS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Qm(_r(n.Ga,n),fB(n,n.A)),n.A++,0))}function CS(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function hB(n){n.g=new Jm(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xl(n.oa);Wn(e,"RID","rpc"),Wn(e,"SID",n.J),Wn(e,"CI",n.N?"0":"1"),Wn(e,"AID",n.U),ug(n,e),Wn(e,"TYPE","xmlhttp"),n.o&&n.s&&vS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Cb(Xl(e)),t.s=null,t.U=!0,VV(t,n)}function Tb(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function dB(n,e){var t=null;if(n.g==e){Tb(n),CS(n),n.g=null;var i=2}else{if(!pS(n.i,e))return;t=e.D,QV(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;wr(i=pb(),new PV(i,t,e,r)),Ib(n)}else cB(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function lte(n,e){return!(XV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Qm(_r(n.Ha,n,e),fB(n,n.C)),n.C++,0)))}(n,e)||2==i&&wS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:yh(n,5);break;case 4:yh(n,10);break;case 3:yh(n,6);break;default:yh(n,2)}}function fB(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function yh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=_r(n.jb,n);t||(t=new gh("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||_b(t,"https"),Cb(t)),function tte(n,e){const t=new fb;if(vt.Image){const i=new Image;i.onload=ob(Eb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ob(Eb,t,i,"TestLoadImage: error",!1,e),i.onabort=ob(Eb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ob(Eb,t,i,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ls(2);n.G=0,n.j&&n.j.va(e),pB(n),aB(n)}function pB(n){n.G=0,n.I=-1,n.j&&((0!=ZV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Fx(n.l),n.l.length=0),n.j.ua())}function mB(n,e,t){let i=function qee(n){return n instanceof gh?Xl(n):new gh(n,void 0)}(t);if(""!=i.i)e&&bb(i,e+"."+i.i),wb(i,i.m);else{const r=vt.location;i=function Gee(n,e,t,i){var r=new gh(null,void 0);return n&&_b(r,n),e&&bb(r,e),t&&wb(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Vx(n.aa,function(r,s){Wn(i,s,r)}),t=n.sa,(e=n.D)&&t&&Wn(i,e,t),Wn(i,"VER",n.ma),ug(n,i),i}function gB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ni(t&&n.Ba&&!n.qa?new sg({ib:!0}):n.qa)).L=n.H,e}function yB(){}function Ab(){if(_f&&!(10<=Number(wee)))throw Error("Environmental error: no available transport.")}function oo(n,e){ar.call(this),this.g=new oB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ab(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ab(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ef(this)}function vB(n){oS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _B(){aS.call(this),this.status=1}function Ef(n){this.g=n}(Fe=Ni.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lS.g(),this.C=function NV(n){return n.h||(n.h=n.i())}(this.u?this.u:lS),this.g.onreadystatechange=_r(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void tB(this,s)}n=t||"";const r=new wf(this.headers);i&&dS(i,function(s,a){r.set(a,s)}),i=function mee(n){e:{var e=ote;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=vt.FormData&&n instanceof vt.FormData,!(0<=oV(rte,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rB(this),0<this.B&&((this.K=function ste(n){return _f&&function bee(){return function gee(n){var e=_ee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=uV(String(lb)).split("."),t=uV("9").split("."),i=Math.max(e.length,t.length);for(let a=0;0==n&&a<i;a++){var r=e[a]||"",s=t[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Lx(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Lx(0==r[2].length,0==s[2].length)||Lx(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.pa,this)):this.A=rS(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){tB(this,s)}},Fe.pa=function(){void 0!==Px&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wr(this,"timeout"),this.abort(8))},Fe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wr(this,"complete"),wr(this,"abort"),xb(this))},Fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xb(this,!0)),Ni.Z.M.call(this)},Fe.Fa=function(){this.s||(this.F||this.v||this.l?iB(this):this.cb())},Fe.cb=function(){iB(this)},Fe.ba=function(){try{return 2<Ql(this)?this.g.status:-1}catch(n){return-1}},Fe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Fe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nte(e)}},Fe.Da=function(){return this.m},Fe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=oB.prototype).ma=8,Fe.G=1,Fe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Fe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Jm(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=dV(s),pV(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uB(this,r,e),Wn(t=Xl(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),ug(this,t),this.o&&s&&vS(t,this.o,s),mS(this.i,r),this.Ra&&Wn(t,"TYPE","init"),this.ja?(Wn(t,"$req",e),Wn(t,"SID","null"),r.$=!0,cS(r,t,null)):cS(r,t,e),this.G=2}}else 3==this.G&&(n?lB(this,n):0==this.l.length||YV(this.i)||lB(this))},Fe.Ga=function(){if(this.u=null,hB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Qm(_r(this.bb,this),n)}},Fe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ls(10),Sb(this),hB(this))},Fe.ab=function(){null!=this.v&&(this.v=null,Sb(this),wS(this),ls(19))},Fe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ls(2)):(this.h.info("Failed to ping google.com"),ls(1))},(Fe=yB.prototype).xa=function(){},Fe.wa=function(){},Fe.va=function(){},Fe.ua=function(){},Fe.Oa=function(){},Ab.prototype.g=function(n,e){return new oo(n,e)},br(oo,ar),oo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),eS(_r(n.hb,n,e))),ls(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=mB(n,null,n.W),Ib(n)},oo.prototype.close=function(){_S(this.g)},oo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,bS(this.g,e)}else this.v?((e={}).__data__=Jx(n),bS(this.g,e)):bS(this.g,n)},oo.prototype.M=function(){this.g.j=null,delete this.j,_S(this.g),delete this.g,oo.Z.M.call(this)},br(vB,oS),br(_B,aS),br(Ef,yB),Ef.prototype.xa=function(){wr(this.g,"a")},Ef.prototype.wa=function(n){wr(this.g,new vB(n))},Ef.prototype.va=function(n){wr(this.g,new _B(n))},Ef.prototype.ua=function(){wr(this.g,"b")},Ab.prototype.createWebChannel=Ab.prototype.g,oo.prototype.send=oo.prototype.u,oo.prototype.open=oo.prototype.m,oo.prototype.close=oo.prototype.close,mb.NO_ERROR=0,mb.TIMEOUT=8,mb.HTTP_ERROR=6,OV.COMPLETE="complete",FV.EventType=Zm,Zm.OPEN="a",Zm.CLOSE="b",Zm.ERROR="c",Zm.MESSAGE="d",ar.prototype.listen=ar.prototype.N,Ni.prototype.listenOnce=Ni.prototype.O,Ni.prototype.getLastError=Ni.prototype.La,Ni.prototype.getLastErrorCode=Ni.prototype.Da,Ni.prototype.getStatus=Ni.prototype.ba,Ni.prototype.getResponseJson=Ni.prototype.Qa,Ni.prototype.getResponseText=Ni.prototype.ga,Ni.prototype.send=Ni.prototype.ea,Yl.createWebChannelTransport=function(){return new Ab},Yl.getStatEventTarget=function(){return pb()},Yl.ErrorCode=mb,Yl.EventType=OV,Yl.Event=fh,Yl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yl.FetchXmlHttpFactory=sg,Yl.WebChannel=FV,Yl.XhrIo=Ni;const bB="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let cg="9.8.0";const Yu=new WL("@firebase/firestore");function he(n,...e){if(Yu.logLevel<=_n.DEBUG){const t=e.map(xS);Yu.debug(`Firestore (${cg}): ${n}`,...t)}}function Fi(n,...e){if(Yu.logLevel<=_n.ERROR){const t=e.map(xS);Yu.error(`Firestore (${cg}): ${n}`,...t)}}function xS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function je(n="Unexpected state"){const e=`FIRESTORE (${cg}) INTERNAL ASSERTION FAILED: `+n;throw Fi(e),new Error(e)}function ht(n,e){n||je()}const X_CANCELLED="cancelled",X_INVALID_ARGUMENT="invalid-argument",X_FAILED_PRECONDITION="failed-precondition",X_UNAVAILABLE="unavailable";class le extends tb{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ute{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cr.UNAUTHENTICATED))}shutdown(){}}class hte{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=a;e.enqueueRetryable(or(function*(){yield p.promise,yield s(i.currentUser)}))},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new lr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht("string"==typeof i.accessToken),new wB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new Cr(e)}}class dte{constructor(e,t,i){this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class fte{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new dte(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pte{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.p;return this.p=s.token,he("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht("string"==typeof t.token),this.p=t.token,new CB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mte(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function xt(n,e){return n<e?-1:n>e?1:0}class Mb{constructor(e,t,i){void 0===t?t=0:t>e.length&&je(),void 0===i?i=e.length-t:i>e.length-t&&je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Mb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends Mb{construct(e,t,i){return new Jt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(X_INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ki(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function ui(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Ki.EMPTY_BYTE_STRING=new Ki("");class vte{constructor(e,t,i,r,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=d}}class Qu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Jt.fromString(e))}static fromName(e){return new Ce(Jt.fromString(e).popFirst(5))}static empty(){return new Ce(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Jt(e.slice()))}}class _i{constructor(e,t){this.comparator=e,this.root=t||Er.EMPTY}insert(e,t){return new _i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new _i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nb(this.root,e,this.comparator,!0)}}class Nb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Er.RED,this.left=null!=r?r:Er.EMPTY,this.right=null!=s?s:Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Er(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Er.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Er(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new _i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VB(this.data.getIterator())}getIteratorFrom(e){return new VB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class VB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}var Bi,en;(en=Bi||(Bi={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS",new _i(Ce.comparator),new _i(Ce.comparator),new _i(Ce.comparator),new kn(Ce.comparator),new kn(xt);function Ih(n){return"IndexedDbTransactionError"===n.name}class kh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ui(e.integerValue));else if("doubleValue"in e){const i=ui(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),function fg(n){return 0===n&&1/n==-1/0}(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(function _h(n){return"string"==typeof n?Ki.fromBase64String(n):Ki.fromUint8Array(n)}(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?function RB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):je()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),Ce.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}kh.fe=new kh,new Uint8Array(0);class Ms{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jb(){return"undefined"!=typeof document?document:null}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class hI{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class AI{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,u=new AI(e,t,a,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(X_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class ere{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Cr.UNAUTHENTICATED,this.clientId=class EB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=mte(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=or(function*(u){he("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(he("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return or(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(X_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(or(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=function qf(n,e){if(Fi("AsyncQueue",`${e}: ${n}`),Ih(n))return new le(X_UNAVAILABLE,`${e}: ${n}`);throw n}(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}const Vj=new Map;class Hj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new le(X_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(X_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ure(n,e,t,i){if(!0===e&&!0===i)throw new le(X_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dre{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new hI(this,"async_queue_retry"),this.Qa=()=>{const t=Jb();t&&he("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Jb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Jb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new lr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return or(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Ih(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=AI.createAndSchedule(this,e,t,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&je()}verifyOperationInProgress(){}Ja(){var e=this;return or(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}class Kn extends class Ug{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hj({}),this._settingsFrozen=!1,e instanceof Qu?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(X_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(r.options.projectId)}(e))}get app(){if(!this._app)throw new le(X_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(X_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ute;switch(t.type){case"gapi":const i=t.client;return ht(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new fte(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new le(X_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vj.get(e);t&&(he("ComponentProvider","Removing Datastore"),Vj.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new dre,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||function qj(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vte(n._databaseId,s,n._persistenceKey,(u=t).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var s,u;n._firestoreClient=new ere(n._authCredentials,n._appCheckCredentials,n._queue,i)}(this),this._firestoreClient.terminate()}}function Mre(n,e){if(1&n){const t=$p();ai(0,"ul")(1,"li"),Zo(2),ai(3,"button",8),yi("click",function(){const s=Zt(t).$implicit;return X0().removeToDo(s.todo)}),ai(4,"h3"),Zo(5,"remove"),ki()()()()}if(2&n){const t=e.$implicit;ka(2),rv(" ",t.todo," ")}}!function(n,e=!0){cg="9.8.2",rb(new Gm("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Kn(r,new hte(t.getProvider("auth-internal")),new pte(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),vf(bB,"3.4.9",n),vf(bB,"3.4.9","esm2017")}();const kre=function YJ(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:Tx,automaticDataCollectionEnabled:!1},e),i=t.name;if("string"!=typeof i||!i)throw $u.create("bad-app-name",{appName:String(i)});const r=dh.get(i);if(r){if(gx(n,r.options)&&gx(t,r.config))return r;throw $u.create("duplicate-app",{appName:i})}const s=new nJ(i);for(const u of ib.values())s.addComponent(u);const a=new WJ(n,t,s);return dh.set(i,a),a}(px_firebase);!function pre(n=function XJ(n=Tx){const e=dh.get(n);if(!e)throw $u.create("no-app",{appName:n});return e}()){(function eV(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)})(n,"firestore").getImmediate()}(kre);let Rre=(()=>{class n{constructor(t,i){this.afs=t,this.cookie=i,this.ToDos=[],this.name=""}ngOnInit(){this.todos=this.getTodoList()}getTodoList(){return this.afs.collection("User").doc(this.cookie.get("name")).collection("listen").doc(this.name).collection(this.name).valueChanges({idField:"todo"})}addToDo(t){""!=t&&this.afs.collection("User").doc(this.cookie.get("name")).collection("listen").doc(this.name).collection(this.name).doc(t).set({})}removeToDo(t){this.afs.collection("User").doc(this.cookie.get("name")).collection("listen").doc(this.name).collection(this.name).doc(t).delete()}removeToDolist(){this.afs.collection("User").doc(this.cookie.get("name")).collection("listen").doc(this.name).delete()}}return n.\u0275fac=function(t){return new(t||n)(Y(VD),Y(BD))},n.\u0275cmp=En({type:n,selectors:[["app-liste"]],inputs:{ToDos:"ToDos",name:"name"},decls:13,vars:4,consts:[["id","box","width","10px",1,"center"],["mat-icon-button","","id","topright",3,"click"],[1,"button"],["type","text","placeholder","todo"],["todoname",""],["mat-mini-fab","","color","primary","type","submit",3,"click"],["id","todos"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){if(1&t){const r=$p();ai(0,"div",0)(1,"h1"),Zo(2),ki(),ai(3,"button",1),yi("click",function(){return i.removeToDolist()}),Zo(4,"X"),ki(),ai(5,"div",2),Yo(6,"input",3,4),ai(8,"button",5),yi("click",function(){Zt(r);const a=zc(7);return i.addToDo(a.value)})("click",function(){return Zt(r),zc(7).value=""}),Zo(9," + "),ki()(),ai(10,"div",6),zp(11,Mre,6,1,"ul",7),hC(12,"async"),ki()()}2&t&&(ka(2),J0(i.name),ka(9),Oa("ngForOf",dC(12,2,i.todos)))},directives:[oF,XC],pipes:[JC],styles:["#box[_ngcontent-%COMP%]{background-color:#ddd;width:300px;box-shadow:0 2px 5px;border-radius:5px;padding-bottom:20px}h1[_ngcontent-%COMP%]{border:1px;text-decoration:underline;-webkit-text-decoration-color:blue;text-decoration-color:#00f;text-decoration-thickness:5px;text-align:center;padding:0}.button[_ngcontent-%COMP%]{text-align:center;font-size:20px;right:100px}#topright[_ngcontent-%COMP%]{position:absolute;right:-16px;top:20px}.button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:20px;width:200px;margin-right:-15px}ul[_ngcontent-%COMP%]{position:relative;padding-left:44px}#todos[_ngcontent-%COMP%]{max-height:250px;overflow:auto}li[_ngcontent-%COMP%]{position:relative;list-style-type:none;background-color:#fff;width:195px;height:20px;border-left-style:solid;border-left-color:#00f;padding-left:10px}ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{position:absolute;right:0}ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){position:absolute;right:33px}ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;height:20px;padding:0}ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:0}"]}),n})();function Pre(n,e){if(1&n&&(ai(0,"mat-list")(1,"mat-list-item",3),Yo(2,"app-liste",4),ki()()),2&n){const t=e.$implicit;ka(2),Oa("name",t.listenNamen)}}let Ore=(()=>{class n{constructor(t,i,r){this.dialog=t,this.afs=i,this.cookie=r,this.title="todo"}ngOnInit(){this.addNameIfDoesntExits()}getTodoLists(){return this.afs.collection("User").doc(this.cookie.get("name")).collection("listen").valueChanges({idField:"listenNamen"})}addNameIfDoesntExits(){var t=this;return or(function*(){t.cookie.check("name")||(yield t.openLoginDialog(),t.afs.collection("User").doc(t.cookie.get("name")).collection("listen").doc().set({})),t.todoLists=t.getTodoLists()})()}openDialog(){this.dialog.open(T8).componentInstance.add.subscribe(i=>{this.dialog.closeAll(),this.afs.collection("User").doc(this.cookie.get("name")).collection("listen").doc(i).set({})})}openLoginDialog(){var t=this;return or(function*(){let i=t.dialog.open(I8);i.componentInstance.name.subscribe(r=>{t.dialog.closeAll(),t.cookie.set("name",r+t.afs.createId())}),yield i.afterClosed().toPromise()})()}}return n.\u0275fac=function(t){return new(t||n)(Y(RN),Y(VD),Y(BD))},n.\u0275cmp=En({type:n,selectors:[["app-root"]],decls:5,vars:3,consts:[["id","background"],["mat-fab","","color","primary","id","bottomright",3,"click"],[4,"ngFor","ngForOf"],["cdkDrag",""],[3,"name"]],template:function(t,i){1&t&&(ai(0,"div",0)(1,"button",1),yi("click",function(){return i.openDialog()}),Zo(2,"+"),ki(),zp(3,Pre,3,1,"mat-list",2),hC(4,"async"),ki()),2&t&&(ka(3),Oa("ngForOf",dC(4,1,i.todoLists)))},directives:[oF,XC,uZ,cZ,RZ,Rre],pipes:[JC],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;height:auto!important}#bottomright[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:20px;font-size:30px}#changeColorButton[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:90px;font-size:30px}#darkwhitemode[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:160px;font-size:30px}#background[_ngcontent-%COMP%]{width:100%;height:100%}mat-list[_ngcontent-%COMP%]{padding-left:70px;padding-top:10px;width:300px;float:left;padding-right:10px}label[_ngcontent-%COMP%]   ngx-colors[_ngcontent-%COMP%]{position:absolute;top:10px;right:3px}label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative;left:0px}.menuItem[_ngcontent-%COMP%]{width:170px}"]}),n})(),Xre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[Wi],Wi]}),n})(),Jre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({imports:[[S_,Wi],S_,Wi]}),n})();const ise={provide:new ge("mat-menu-scroll-strategy"),deps:[Tm],useFactory:function nse(n){return()=>n.scrollStrategies.reposition()}};let rse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:[ise],imports:[[Mv,Wi,xD,_O],i_,Wi]}),n})();class uc{constructor(e,t,i,r){this.r=e,this.g=t,this.b=i,this.a=r}}class TT{constructor(e,t,i,r){this.h=e,this.s=t,this.v=i,this.a=r}}class Qf{constructor(e,t,i,r){this.h=e,this.s=t,this.l=i,this.a=r}}class fw{constructor(e,t,i,r,s=1){this.c=e,this.m=t,this.y=i,this.k=r,this.a=s}}let wse=(()=>{class n{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const i=t.h,r=t.s,s=t.v,a=t.a;if(0===s)return new Qf(i,0,0,a);if(0===r&&1===s)return new Qf(i,1,1,a);{const u=s*(2-r)/2;return new Qf(i,s*r/(1-Math.abs(2*u-1)),u,a)}}hsla2hsva(t){const i=Math.min(t.h,1),r=Math.min(t.s,1),s=Math.min(t.l,1),a=Math.min(t.a,1);if(0===s)return new TT(i,0,0,a);{const u=s+r*(1-Math.abs(2*s-1))/2;return new TT(i,2*(u-s)/u,u,a)}}hsvaToRgba(t){let i,r,s;const a=t.h,u=t.s,d=t.v,p=t.a,y=Math.floor(6*a),_=6*a-y,C=d*(1-u),x=d*(1-_*u),I=d*(1-(1-_)*u);switch(y%6){case 0:i=d,r=I,s=C;break;case 1:i=x,r=d,s=C;break;case 2:i=C,r=d,s=I;break;case 3:i=C,r=x,s=d;break;case 4:i=I,r=C,s=d;break;case 5:i=d,r=C,s=x;break;default:i=0,r=0,s=0}return new uc(i,r,s,p)}cmykToRgb(t){return new uc((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const i=1-Math.max(t.r,t.g,t.b);return 1===i?new fw(0,0,0,1,t.a):new fw((1-t.r-i)/(1-i),(1-t.g-i)/(1-i),(1-t.b-i)/(1-i),i,t.a)}rgbaToHsva(t){let i,r;const s=Math.min(t.r,1),a=Math.min(t.g,1),u=Math.min(t.b,1),d=Math.min(t.a,1),p=Math.max(s,a,u),y=Math.min(s,a,u),_=p,C=p-y;if(r=0===p?0:C/p,p===y)i=0;else{switch(p){case s:i=(a-u)/C+(a<u?6:0);break;case a:i=(u-s)/C+2;break;case u:i=(s-a)/C+4;break;default:i=0}i/=6}return new TT(i,r,_,d)}rgbaToHex(t,i){let r="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*t.a)).toString(16).substr(1)),r}normalizeCMYK(t){return new fw(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new fw(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new uc(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",i=!1){let r=null;t=(t||"").toLowerCase();const s=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new uc(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Qf(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}}];s.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new uc(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new uc(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),s.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new uc(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(const a in s)if(s.hasOwnProperty(a)){const u=s[a],d=u.re.exec(t),p=d&&u.parse(d);if(p)return p instanceof uc?r=this.rgbaToHsva(p):p instanceof Qf&&(r=this.hsla2hsva(p)),r}return r}outputFormat(t,i,r){switch("auto"===i&&(i=t.a<1?"rgba":"hex"),i){case"hsla":const s=this.hsva2hsla(t),a=new Qf(Math.round(360*s.h),Math.round(100*s.s),Math.round(100*s.l),Math.round(100*s.a)/100);return t.a<1||"always"===r?"hsla("+a.h+","+a.s+"%,"+a.l+"%,"+a.a+")":"hsl("+a.h+","+a.s+"%,"+a.l+"%)";case"rgba":const u=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===r?"rgba("+u.r+","+u.g+","+u.b+","+Math.round(100*u.a)/100+")":"rgb("+u.r+","+u.g+","+u.b+")";default:const d="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),d)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();"undefined"!=typeof window&&window;let Cse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=ct({providers:[wse],imports:[[Mv]]}),n})();var DU;wt(304);let Zf=DU=class{static enablePersistence(e){return{ngModule:DU,providers:[{provide:eF,useValue:!0},{provide:tF,useValue:e}]}}};Zf.\u0275fac=function(e){return new(e||Zf)},Zf.\u0275mod=nt({type:Zf}),Zf.\u0275inj=ct({providers:[VD]});let Ese=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n,bootstrap:[Ore]}),n.\u0275inj=ct({providers:[BD],imports:[[LR,S8,cX,OX,gZ,Xre,JQ,PZ,Uu.initializeApp(px_firebase,"version1"),Zf,Jre,rse,Cse]]}),n})();(function N4(){Kk=!1})(),YW().bootstrapModule(Ese).catch(n=>console.error(n))},783:(ni,de,wt)=>{Object.defineProperty(de,"__esModule",{value:!0});var ie,jt,Ie=wt(15),M=wt(745),yn=wt(562),Pe=wt(123),rn=((ie={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ie["bad-app-name"]="Illegal App name: '{$appName}",ie["duplicate-app"]="Firebase App named '{$appName}' already exists",ie["app-deleted"]="Firebase App named '{$appName}' already deleted",ie["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ie["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ie),Le=new M.ErrorFactory("app","Firebase",rn),wi="@firebase/app",Rn="[DEFAULT]",Qi=((jt={})[wi]="fire-core",jt["@firebase/analytics"]="fire-analytics",jt["@firebase/auth"]="fire-auth",jt["@firebase/database"]="fire-rtdb",jt["@firebase/functions"]="fire-fn",jt["@firebase/installations"]="fire-iid",jt["@firebase/messaging"]="fire-fcm",jt["@firebase/performance"]="fire-perf",jt["@firebase/remote-config"]="fire-rc",jt["@firebase/storage"]="fire-gcs",jt["@firebase/firestore"]="fire-fst",jt["fire-js"]="fire-js",jt["firebase-wrapper"]="fire-js-all",jt),Yn=new Pe.Logger("@firebase/app"),K=function(){function We(xe,ce,vn){var fr,Ct,St=this;this.firebase_=vn,this.isDeleted_=!1,this.name_=ce.name,this.automaticDataCollectionEnabled_=ce.automaticDataCollectionEnabled||!1,this.options_=M.deepCopy(xe),this.container=new yn.ComponentContainer(ce.name),this._addComponent(new yn.Component("app",function(){return St},"PUBLIC"));try{for(var ci=Ie.__values(this.firebase_.INTERNAL.components.values()),qe=ci.next();!qe.done;qe=ci.next())this._addComponent(qe.value)}catch(ds){fr={error:ds}}finally{try{qe&&!qe.done&&(Ct=ci.return)&&Ct.call(ci)}finally{if(fr)throw fr.error}}}return Object.defineProperty(We.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(xe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=xe},enumerable:!1,configurable:!0}),Object.defineProperty(We.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(We.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),We.prototype.delete=function(){var xe=this;return new Promise(function(ce){xe.checkDestroyed_(),ce()}).then(function(){return xe.firebase_.INTERNAL.removeApp(xe.name_),Promise.all(xe.container.getProviders().map(function(ce){return ce.delete()}))}).then(function(){xe.isDeleted_=!0})},We.prototype._getService=function(xe,ce){return void 0===ce&&(ce=Rn),this.checkDestroyed_(),this.container.getProvider(xe).getImmediate({identifier:ce})},We.prototype._removeServiceInstance=function(xe,ce){void 0===ce&&(ce=Rn),this.container.getProvider(xe).clearInstance(ce)},We.prototype._addComponent=function(xe){try{this.container.addComponent(xe)}catch(ce){Yn.debug("Component "+xe.name+" failed to register with FirebaseApp "+this.name,ce)}},We.prototype._addOrOverwriteComponent=function(xe){this.container.addOrOverwriteComponent(xe)},We.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Le.create("app-deleted",{appName:this.name_})},We}();K.prototype.name&&K.prototype.options||K.prototype.delete||console.log("dc");var Me=function te(){var We=function oe(We){var xe={},ce=new Map,vn={__esModule:!0,initializeApp:function St(Mt,un){void 0===un&&(un={}),("object"!=typeof un||null===un)&&(un={name:un});var Xt=un;void 0===Xt.name&&(Xt.name=Rn);var wn=Xt.name;if("string"!=typeof wn||!wn)throw Le.create("bad-app-name",{appName:String(wn)});if(M.contains(xe,wn))throw Le.create("duplicate-app",{appName:wn});var Qt=new We(Mt,Xt,vn);return xe[wn]=Qt,Qt},app:Ct,registerVersion:function Br(Mt,un,Ke){var Xt,wn=null!==(Xt=Qi[Mt])&&void 0!==Xt?Xt:Mt;Ke&&(wn+="-"+Ke);var Qt=wn.match(/\s|\//),ii=un.match(/\s|\//);if(Qt||ii){var jr=['Unable to register library "'+wn+'" with version "'+un+'":'];return Qt&&jr.push('library name "'+wn+'" contains illegal characters (whitespace or "/")'),Qt&&ii&&jr.push("and"),ii&&jr.push('version name "'+un+'" contains illegal characters (whitespace or "/")'),void Yn.warn(jr.join(" "))}qe(new yn.Component(wn+"-version",function(){return{library:wn,version:un}},"VERSION"))},setLogLevel:Pe.setLogLevel,onLog:function ds(Mt,un){if(null!==Mt&&"function"!=typeof Mt)throw Le.create("invalid-log-argument",{appName:name});Pe.setUserLogHandler(Mt,un)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:qe,removeApp:function fr(Mt){delete xe[Mt]},components:ce,useAsService:function pr(Mt,un){return"serverAuth"===un?null:un}}};function Ct(Mt){if(!M.contains(xe,Mt=Mt||Rn))throw Le.create("no-app",{appName:Mt});return xe[Mt]}function qe(Mt){var un,Ke,Xt=Mt.name;if(ce.has(Xt))return Yn.debug("There were multiple attempts to register component "+Xt+"."),"PUBLIC"===Mt.type?vn[Xt]:null;if(ce.set(Xt,Mt),"PUBLIC"===Mt.type){var wn=function(Ci){if(void 0===Ci&&(Ci=Ct()),"function"!=typeof Ci[Xt])throw Le.create("invalid-app-argument",{appName:Xt});return Ci[Xt]()};void 0!==Mt.serviceProps&&M.deepExtend(wn,Mt.serviceProps),vn[Xt]=wn,We.prototype[Xt]=function(){for(var Ci=[],xr=0;xr<arguments.length;xr++)Ci[xr]=arguments[xr];return this._getService.bind(this,Xt).apply(this,Mt.multipleInstances?Ci:[])}}try{for(var Qt=Ie.__values(Object.keys(xe)),ii=Qt.next();!ii.done;ii=Qt.next())xe[ii.value]._addComponent(Mt)}catch(Ci){un={error:Ci}}finally{try{ii&&!ii.done&&(Ke=Qt.return)&&Ke.call(Qt)}finally{if(un)throw un.error}}return"PUBLIC"===Mt.type?vn[Xt]:null}return vn.default=vn,Object.defineProperty(vn,"apps",{get:function ci(){return Object.keys(xe).map(function(Mt){return xe[Mt]})}}),Ct.App=We,vn}(K);return We.INTERNAL=Ie.__assign(Ie.__assign({},We.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function xe(ce){M.deepExtend(We,ce)},createSubscribe:M.createSubscribe,ErrorFactory:M.ErrorFactory,deepExtend:M.deepExtend}),We}(),ne=function(){function We(xe){this.container=xe}return We.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ce){if(function ze(We){var xe=We.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(ce)){var vn=ce.getImmediate();return vn.library+"/"+vn.version}return null}).filter(function(ce){return ce}).join(" ")},We}();if(M.isBrowser()&&void 0!==self.firebase){Yn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&Yn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $e=Me.initializeApp;Me.initializeApp=function(){for(var We=[],xe=0;xe<arguments.length;xe++)We[xe]=arguments[xe];return M.isNode()&&Yn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),$e.apply(void 0,We)};var bn=Me;(function He(We,xe){We.INTERNAL.registerComponent(new yn.Component("platform-logger",function(ce){return new ne(ce)},"PRIVATE")),We.registerVersion(wi,"0.6.11",xe),We.registerVersion("fire-js","")})(bn),de.default=bn,de.firebase=bn},562:(ni,de,wt)=>{Object.defineProperty(de,"__esModule",{value:!0});var Ie=wt(15),M=wt(745),yn=function(){function Je(O,H,we){this.name=O,this.instanceFactory=H,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Je.prototype.setInstantiationMode=function(O){return this.instantiationMode=O,this},Je.prototype.setMultipleInstances=function(O){return this.multipleInstances=O,this},Je.prototype.setServiceProps=function(O){return this.serviceProps=O,this},Je}(),Pe="[DEFAULT]",ie=function(){function Je(O,H){this.name=O,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Je.prototype.get=function(O){void 0===O&&(O=Pe);var H=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(H)){var we=new M.Deferred;this.instancesDeferred.set(H,we);try{var me=this.getOrInitializeService(H);me&&we.resolve(me)}catch(ee){}}return this.instancesDeferred.get(H).promise},Je.prototype.getImmediate=function(O){var H=Ie.__assign({identifier:Pe,optional:!1},O),me=H.optional,ee=this.normalizeInstanceIdentifier(H.identifier);try{var Ze=this.getOrInitializeService(ee);if(!Ze){if(me)return null;throw Error("Service "+this.name+" is not available")}return Ze}catch(dn){if(me)return null;throw dn}},Je.prototype.getComponent=function(){return this.component},Je.prototype.setComponent=function(O){var H,we;if(O.name!==this.name)throw Error("Mismatching Component "+O.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=O,function Le(Je){return"EAGER"===Je.instantiationMode}(O))try{this.getOrInitializeService(Pe)}catch(ae){}try{for(var me=Ie.__values(this.instancesDeferred.entries()),ee=me.next();!ee.done;ee=me.next()){var Ze=Ie.__read(ee.value,2),_t=Ze[1],fe=this.normalizeInstanceIdentifier(Ze[0]);try{var be=this.getOrInitializeService(fe);_t.resolve(be)}catch(ae){}}}catch(ae){H={error:ae}}finally{try{ee&&!ee.done&&(we=me.return)&&we.call(me)}finally{if(H)throw H.error}}},Je.prototype.clearInstance=function(O){void 0===O&&(O=Pe),this.instancesDeferred.delete(O),this.instances.delete(O)},Je.prototype.delete=function(){return Ie.__awaiter(this,void 0,void 0,function(){var O;return Ie.__generator(this,function(H){switch(H.label){case 0:return O=Array.from(this.instances.values()),[4,Promise.all(Ie.__spread(O.filter(function(we){return"INTERNAL"in we}).map(function(we){return we.INTERNAL.delete()}),O.filter(function(we){return"_delete"in we}).map(function(we){return we._delete()})))];case 1:return H.sent(),[2]}})})},Je.prototype.isComponentSet=function(){return null!=this.component},Je.prototype.getOrInitializeService=function(O){var H=this.instances.get(O);return!H&&this.component&&(H=this.component.instanceFactory(this.container,function rn(Je){return Je===Pe?void 0:Je}(O)),this.instances.set(O,H)),H||null},Je.prototype.normalizeInstanceIdentifier=function(O){return this.component?this.component.multipleInstances?O:Pe:O},Je}(),wi=function(){function Je(O){this.name=O,this.providers=new Map}return Je.prototype.addComponent=function(O){var H=this.getProvider(O.name);if(H.isComponentSet())throw new Error("Component "+O.name+" has already been registered with "+this.name);H.setComponent(O)},Je.prototype.addOrOverwriteComponent=function(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)},Je.prototype.getProvider=function(O){if(this.providers.has(O))return this.providers.get(O);var H=new ie(O,this);return this.providers.set(O,H),H},Je.prototype.getProviders=function(){return Array.from(this.providers.values())},Je}();de.Component=yn,de.ComponentContainer=wi,de.Provider=ie},304:(ni,de,wt)=>{var M=wt(15),yn=wt(783),Pe=wt(123),ie=wt(745),rn=wt(715),Le=wt(562),Je=function wi(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}(yn),O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=function(c){function o(l,h){var f=this;return(f=c.call(this,h)||this).code=l,f.message=h,f.name="FirebaseError",f.toString=function(){return f.name+": [code="+f.code+"]: "+f.message},f}return M.__extends(o,c),o}(Error),we=new Pe.Logger("@firebase/firestore");function me(){return we.logLevel}function ee(c){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];if(we.logLevel<=Pe.LogLevel.DEBUG){var h=o.map(_t);we.debug.apply(we,M.__spreadArrays(["Firestore (7.24.0): "+c],h))}}function Ze(c){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];if(we.logLevel<=Pe.LogLevel.ERROR){var h=o.map(_t);we.error.apply(we,M.__spreadArrays(["Firestore (7.24.0): "+c],h))}}function dn(c){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];if(we.logLevel<=Pe.LogLevel.WARN){var h=o.map(_t);we.warn.apply(we,M.__spreadArrays(["Firestore (7.24.0): "+c],h))}}function _t(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(l){return c}}function fe(c){void 0===c&&(c="Unexpected state");var o="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+c;throw Ze(o),new Error(o)}function be(c,o){c||fe()}function ae(c,o){return c}function jt(c){var o=0;for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&o++;return o}function Rn(c,o){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&o(l,c[l])}function Qi(c){for(var o in c)if(Object.prototype.hasOwnProperty.call(c,o))return!1;return!0}var Yn=function(){function c(o,l,h){void 0===l?l=0:l>o.length&&fe(),void 0===h?h=o.length-l:h>o.length-l&&fe(),this.segments=o,this.offset=l,this.t=h}return Object.defineProperty(c.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(o){return 0===c.i(this,o)},c.prototype.child=function(o){var l=this.segments.slice(this.offset,this.limit());return o instanceof c?o.forEach(function(h){l.push(h)}):l.push(o),this.o(l)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.u=function(o){return this.o(this.segments,this.offset+(o=void 0===o?1:o),this.length-o)},c.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},c.prototype.l=function(){return this.segments[this.offset]},c.prototype._=function(){return this.get(this.length-1)},c.prototype.get=function(o){return this.segments[this.offset+o]},c.prototype.m=function(){return 0===this.length},c.prototype.T=function(o){if(o.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==o.get(l))return!1;return!0},c.prototype.I=function(o){if(this.length+1!==o.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==o.get(l))return!1;return!0},c.prototype.forEach=function(o){for(var l=this.offset,h=this.limit();l<h;l++)o(this.segments[l])},c.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},c.i=function(o,l){for(var h=Math.min(o.length,l.length),f=0;f<h;f++){var g=o.get(f),v=l.get(f);if(g<v)return-1;if(g>v)return 1}return o.length<l.length?-1:o.length>l.length?1:0},c}(),K=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.o=function(l,h,f){return new o(l,h,f)},o.prototype.R=function(){return this.A().join("/")},o.prototype.toString=function(){return this.R()},o.g=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];for(var f=[],g=0,v=l;g<v.length;g++){var b=v[g];if(b.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,"Invalid segment ("+b+"). Paths must not contain // in them.");f.push.apply(f,b.split("/").filter(function(E){return E.length>0}))}return new o(f)},o.P=function(){return new o([])},o}(Yn),pe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oe=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.o=function(l,h,f){return new o(l,h,f)},o.V=function(l){return pe.test(l)},o.prototype.R=function(){return this.A().map(function(l){return l=l.replace("\\","\\\\").replace("`","\\`"),o.V(l)||(l="`"+l+"`"),l}).join(".")},o.prototype.toString=function(){return this.R()},o.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},o.v=function(){return new o(["__name__"])},o.S=function(l){for(var h=[],f="",g=0,v=function(){if(0===f.length)throw new H(O.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");h.push(f),f=""},b=!1;g<l.length;){var E=l[g];if("\\"===E){if(g+1===l.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var S=l[g+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);f+=S,g+=2}else"`"===E?(b=!b,g++):"."!==E||b?(f+=E,g++):(v(),g++)}if(v(),b)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new o(h)},o.P=function(){return new o([])},o}(Yn),te=function(){function c(o){this.path=o}return c.D=function(o){return new c(K.g(o))},c.C=function(o){return new c(K.g(o).u(5))},c.prototype.N=function(o){return this.path.length>=2&&this.path.get(this.path.length-2)===o},c.prototype.isEqual=function(o){return null!==o&&0===K.i(this.path,o.path)},c.prototype.toString=function(){return this.path.toString()},c.i=function(o,l){return K.i(o.path,l.path)},c.F=function(o){return o.length%2==0},c.$=function(o){return new c(new K(o.slice()))},c}();function Me(c,o){if(0!==o.length)throw new H(O.INVALID_ARGUMENT,"Function "+c+"() does not support arguments, but was called with "+pr(o.length,"argument")+".")}function ne(c,o,l){if(o.length!==l)throw new H(O.INVALID_ARGUMENT,"Function "+c+"() requires "+pr(l,"argument")+", but was called with "+pr(o.length,"argument")+".")}function ze(c,o,l){if(o.length<l)throw new H(O.INVALID_ARGUMENT,"Function "+c+"() requires at least "+pr(l,"argument")+", but was called with "+pr(o.length,"argument")+".")}function He(c,o,l,h){if(o.length<l||o.length>h)throw new H(O.INVALID_ARGUMENT,"Function "+c+"() requires between "+l+" and "+h+" arguments, but was called with "+pr(o.length,"argument")+".")}function Ve(c,o,l,h){vn(c,o,ds(l)+" argument",h)}function $e(c,o,l,h){void 0!==h&&Ve(c,o,l,h)}function bn(c,o,l,h){vn(c,o,l+" option",h)}function We(c,o,l,h){void 0!==h&&bn(c,o,l,h)}function xe(c,o,l,h,f){void 0!==h&&function(g,v,b,E,S){for(var A=[],R=0,P=S;R<P.length;R++){var V=P[R];if(V===E)return;A.push(Ct(V))}var z=Ct(E);throw new H(O.INVALID_ARGUMENT,"Invalid value "+z+" provided to function "+g+'() for option "'+b+'". Acceptable values: '+A.join(", "))}(c,0,l,h,f)}function ce(c,o,l,h){if(!o.some(function(f){return f===h}))throw new H(O.INVALID_ARGUMENT,"Invalid value "+Ct(h)+" provided to function "+c+"() for its "+ds(l)+" argument. Acceptable values: "+o.join(", "));return h}function vn(c,o,l,h){if(!("object"===o?fr(h):"non-empty string"===o?"string"==typeof h&&""!==h:typeof h===o)){var f=Ct(h);throw new H(O.INVALID_ARGUMENT,"Function "+c+"() requires its "+l+" to be of type "+o+", but it was: "+f)}}function fr(c){return"object"==typeof c&&null!==c&&(Object.getPrototypeOf(c)===Object.prototype||null===Object.getPrototypeOf(c))}function Ct(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var o=function(l){if(l.constructor){var h=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(h&&h.length>1)return h[1]}return null}(c);return o?"a custom "+o+" object":"an object"}return"function"==typeof c?"a function":fe()}function St(c,o,l){if(void 0===l)throw new H(O.INVALID_ARGUMENT,"Function "+c+"() requires a valid "+ds(o)+" argument, but it was undefined.")}function ci(c,o,l){Rn(o,function(h,f){if(l.indexOf(h)<0)throw new H(O.INVALID_ARGUMENT,"Unknown option '"+h+"' passed to function "+c+"(). Available options: "+l.join(", "))})}function qe(c,o,l,h){var f=Ct(h);return new H(O.INVALID_ARGUMENT,"Function "+c+"() requires its "+ds(l)+" argument to be a "+o+", but it was: "+f)}function Br(c,o,l){if(l<=0)throw new H(O.INVALID_ARGUMENT,"Function "+c+"() requires its "+ds(o)+" argument to be a positive number, but it was: "+l+".")}function ds(c){switch(c){case 1:return"first";case 2:return"second";case 3:return"third";default:return c+"th"}}function pr(c,o){return c+" "+o+(1===c?"":"s")}function Mt(c){var o="undefined"!=typeof self&&(self.crypto||self.msCrypto),l=new Uint8Array(c);if(o&&"function"==typeof o.getRandomValues)o.getRandomValues(l);else for(var h=0;h<c;h++)l[h]=Math.floor(256*Math.random());return l}var un=function(){function c(){}return c.k=function(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/o.length)*o.length,h="";h.length<20;)for(var f=Mt(40),g=0;g<f.length;++g)h.length<20&&f[g]<l&&(h+=o.charAt(f[g]%o.length));return h},c}();function Ke(c,o){return c<o?-1:c>o?1:0}function Xt(c,o,l){return c.length===o.length&&c.every(function(h,f){return l(h,o[f])})}function wn(c){return c+"\0"}var Qt=function(){function c(o){this.M=o}return c.fromBase64String=function(o){return new c(atob(o))},c.fromUint8Array=function(o){return new c(function(l){for(var h="",f=0;f<l.length;++f)h+=String.fromCharCode(l[f]);return h}(o))},c.prototype.toBase64=function(){return btoa(this.M)},c.prototype.toUint8Array=function(){return function(o){for(var l=new Uint8Array(o.length),h=0;h<o.length;h++)l[h]=o.charCodeAt(h);return l}(this.M)},c.prototype.O=function(){return 2*this.M.length},c.prototype.L=function(o){return Ke(this.M,o.M)},c.prototype.isEqual=function(o){return this.M===o.M},c}();Qt.B=new Qt("");var ii=function(){function c(o){this.q=o}return c.fromBase64String=function(o){try{return new c(Qt.fromBase64String(o))}catch(l){throw new H(O.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+l)}},c.fromUint8Array=function(o){return new c(Qt.fromUint8Array(o))},c.prototype.toBase64=function(){return this.q.toBase64()},c.prototype.toUint8Array=function(){return this.q.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(o){return this.q.isEqual(o.q)},c}();function jr(){if("undefined"==typeof Uint8Array)throw new H(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ci(){if("undefined"==typeof atob)throw new H(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xr=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.fromBase64String=function(l){ne("Blob.fromBase64String",arguments,1),Ve("Blob.fromBase64String","string",1,l),Ci();try{return new o(Qt.fromBase64String(l))}catch(h){throw new H(O.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+h)}},o.fromUint8Array=function(l){if(ne("Blob.fromUint8Array",arguments,1),jr(),!(l instanceof Uint8Array))throw qe("Blob.fromUint8Array","Uint8Array",1,l);return new o(Qt.fromUint8Array(l))},o.prototype.toBase64=function(){return ne("Blob.toBase64",arguments,0),Ci(),c.prototype.toBase64.call(this)},o.prototype.toUint8Array=function(){return ne("Blob.toUint8Array",arguments,0),jr(),c.prototype.toUint8Array.call(this)},o.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},o}(ii),tu=function(c,o,l,h,f,g){this.U=c,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=f,this.W=g},nu=function(){function c(o,l){this.projectId=o,this.database=l||"(default)"}return Object.defineProperty(c.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(o){return o instanceof c&&o.projectId===this.projectId&&o.database===this.database},c.prototype.L=function(o){return Ke(this.projectId,o.projectId)||Ke(this.database,o.database)},c}(),Sn=function(){function c(o,l){this.K=o,this.G=l,this.H={}}return c.prototype.get=function(o){var l=this.K(o),h=this.H[l];if(void 0!==h)for(var f=0,g=h;f<g.length;f++){var v=g[f],E=v[1];if(this.G(v[0],o))return E}},c.prototype.has=function(o){return void 0!==this.get(o)},c.prototype.set=function(o,l){var h=this.K(o),f=this.H[h];if(void 0!==f){for(var g=0;g<f.length;g++)if(this.G(f[g][0],o))return void(f[g]=[o,l]);f.push([o,l])}else this.H[h]=[[o,l]]},c.prototype.delete=function(o){var l=this.K(o),h=this.H[l];if(void 0===h)return!1;for(var f=0;f<h.length;f++)if(this.G(h[f][0],o))return 1===h.length?delete this.H[l]:h.splice(f,1),!0;return!1},c.prototype.forEach=function(o){Rn(this.H,function(l,h){for(var f=0,g=h;f<g.length;f++){var v=g[f];o(v[0],v[1])}})},c.prototype.m=function(){return Qi(this.H)},c}(),cn=function(){function c(o,l){if(this.seconds=o,this.nanoseconds=l,l<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(o<-62135596800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o);if(o>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(o){return c.fromMillis(o.getTime())},c.fromMillis=function(o){var l=Math.floor(o/1e3);return new c(l,1e6*(o-1e3*l))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype.Y=function(o){return this.seconds===o.seconds?Ke(this.nanoseconds,o.nanoseconds):Ke(this.seconds,o.seconds)},c.prototype.isEqual=function(o){return o.seconds===this.seconds&&o.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),It=function(){function c(o){this.timestamp=o}return c.J=function(o){return new c(o)},c.min=function(){return new c(new cn(0,0))},c.prototype.L=function(o){return this.timestamp.Y(o.timestamp)},c.prototype.isEqual=function(o){return this.timestamp.isEqual(o.timestamp)},c.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.Z=function(){return this.timestamp},c}();function B(c){return null==c}function F(c){return 0===c&&1/c==-1/0}function q(c){return"number"==typeof c&&Number.isInteger(c)&&!F(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var W=function(c,o,l,h,f,g,v){void 0===o&&(o=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===f&&(f=null),void 0===g&&(g=null),void 0===v&&(v=null),this.path=c,this.collectionGroup=o,this.orderBy=l,this.filters=h,this.limit=f,this.startAt=g,this.endAt=v,this.tt=null};function U(c,o,l,h,f,g,v){return void 0===o&&(o=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===f&&(f=null),void 0===g&&(g=null),void 0===v&&(v=null),new W(c,o,l,h,f,g,v)}function Re(c){var o=ae(c);if(null===o.tt){var l=o.path.R();null!==o.collectionGroup&&(l+="|cg:"+o.collectionGroup),l+="|f:",l+=o.filters.map(function(h){return(f=h).field.R()+f.op.toString()+Zi(f.value);var f}).join(","),l+="|ob:",l+=o.orderBy.map(function(h){return(f=h).field.R()+f.dir;var f}).join(","),B(o.limit)||(l+="|l:",l+=o.limit),o.startAt&&(l+="|lb:",l+=Vo(o.startAt)),o.endAt&&(l+="|ub:",l+=Vo(o.endAt)),o.tt=l}return o.tt}function gt(c,o){if(c.limit!==o.limit||c.orderBy.length!==o.orderBy.length)return!1;for(var l=0;l<c.orderBy.length;l++)if(!An(c.orderBy[l],o.orderBy[l]))return!1;if(c.filters.length!==o.filters.length)return!1;for(var h=0;h<c.filters.length;h++)if((f=c.filters[h]).op!==(g=o.filters[h]).op||!f.field.isEqual(g.field)||!ps(f.value,g.value))return!1;var f,g;return c.collectionGroup===o.collectionGroup&&!!c.path.isEqual(o.path)&&!!Ii(c.startAt,o.startAt)&&Ii(c.endAt,o.endAt)}function sn(c){return te.F(c.path)&&null===c.collectionGroup&&0===c.filters.length}var ut,Oe,jn=function(){function c(o,l,h,f,g,v,b){void 0===g&&(g=It.min()),void 0===v&&(v=It.min()),void 0===b&&(b=Qt.B),this.target=o,this.targetId=l,this.et=h,this.sequenceNumber=f,this.nt=g,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=b}return c.prototype.st=function(o){return new c(this.target,this.targetId,this.et,o,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.it=function(o,l){return new c(this.target,this.targetId,this.et,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,o)},c.prototype.rt=function(o){return new c(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,o,this.resumeToken)},c}(),hi=function(c){this.count=c};function Pn(c){switch(c){case O.OK:return fe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return fe()}}function Os(c){if(void 0===c)return Ze("GRPC error has no .code"),O.UNKNOWN;switch(c){case ut.OK:return O.OK;case ut.CANCELLED:return O.CANCELLED;case ut.UNKNOWN:return O.UNKNOWN;case ut.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ut.INTERNAL:return O.INTERNAL;case ut.UNAVAILABLE:return O.UNAVAILABLE;case ut.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ut.NOT_FOUND:return O.NOT_FOUND;case ut.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ut.ABORTED:return O.ABORTED;case ut.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ut.DATA_LOSS:return O.DATA_LOSS;default:return fe()}}(Oe=ut||(ut={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var Un=function(){function c(o,l){this.i=o,this.root=l||fs.EMPTY}return c.prototype.ot=function(o,l){return new c(this.i,this.root.ot(o,l,this.i).copy(null,null,fs.at,null,null))},c.prototype.remove=function(o){return new c(this.i,this.root.remove(o,this.i).copy(null,null,fs.at,null,null))},c.prototype.get=function(o){for(var l=this.root;!l.m();){var h=this.i(o,l.key);if(0===h)return l.value;h<0?l=l.left:h>0&&(l=l.right)}return null},c.prototype.indexOf=function(o){for(var l=0,h=this.root;!h.m();){var f=this.i(o,h.key);if(0===f)return l+h.left.size;f<0?h=h.left:(l+=h.left.size+1,h=h.right)}return-1},c.prototype.m=function(){return this.root.m()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.ct=function(){return this.root.ct()},c.prototype.ut=function(){return this.root.ut()},c.prototype.ht=function(o){return this.root.ht(o)},c.prototype.forEach=function(o){this.ht(function(l,h){return o(l,h),!1})},c.prototype.toString=function(){var o=[];return this.ht(function(l,h){return o.push(l+":"+h),!1}),"{"+o.join(", ")+"}"},c.prototype.lt=function(o){return this.root.lt(o)},c.prototype._t=function(){return new la(this.root,null,this.i,!1)},c.prototype.ft=function(o){return new la(this.root,o,this.i,!1)},c.prototype.dt=function(){return new la(this.root,null,this.i,!0)},c.prototype.wt=function(o){return new la(this.root,o,this.i,!0)},c}(),la=function(){function c(o,l,h,f){this.Tt=f,this.Et=[];for(var g=1;!o.m();)if(g=l?h(o.key,l):1,f&&(g*=-1),g<0)o=this.Tt?o.left:o.right;else{if(0===g){this.Et.push(o);break}this.Et.push(o),o=this.Tt?o.right:o.left}}return c.prototype.It=function(){var o=this.Et.pop(),l={key:o.key,value:o.value};if(this.Tt)for(o=o.left;!o.m();)this.Et.push(o),o=o.right;else for(o=o.right;!o.m();)this.Et.push(o),o=o.left;return l},c.prototype.At=function(){return this.Et.length>0},c.prototype.Rt=function(){if(0===this.Et.length)return null;var o=this.Et[this.Et.length-1];return{key:o.key,value:o.value}},c}(),fs=function(){function c(o,l,h,f,g){this.key=o,this.value=l,this.color=null!=h?h:c.RED,this.left=null!=f?f:c.EMPTY,this.right=null!=g?g:c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(o,l,h,f,g){return new c(null!=o?o:this.key,null!=l?l:this.value,null!=h?h:this.color,null!=f?f:this.left,null!=g?g:this.right)},c.prototype.m=function(){return!1},c.prototype.ht=function(o){return this.left.ht(o)||o(this.key,this.value)||this.right.ht(o)},c.prototype.lt=function(o){return this.right.lt(o)||o(this.key,this.value)||this.left.lt(o)},c.prototype.min=function(){return this.left.m()?this:this.left.min()},c.prototype.ct=function(){return this.min().key},c.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},c.prototype.ot=function(o,l,h){var f=this,g=h(o,f.key);return(f=g<0?f.copy(null,null,null,f.left.ot(o,l,h),null):0===g?f.copy(null,l,null,null,null):f.copy(null,null,null,null,f.right.ot(o,l,h))).gt()},c.prototype.Pt=function(){if(this.left.m())return c.EMPTY;var o=this;return o.left.yt()||o.left.left.yt()||(o=o.Vt()),(o=o.copy(null,null,null,o.left.Pt(),null)).gt()},c.prototype.remove=function(o,l){var h,f=this;if(l(o,f.key)<0)f.left.m()||f.left.yt()||f.left.left.yt()||(f=f.Vt()),f=f.copy(null,null,null,f.left.remove(o,l),null);else{if(f.left.yt()&&(f=f.bt()),f.right.m()||f.right.yt()||f.right.left.yt()||(f=f.vt()),0===l(o,f.key)){if(f.right.m())return c.EMPTY;h=f.right.min(),f=f.copy(h.key,h.value,null,null,f.right.Pt())}f=f.copy(null,null,null,null,f.right.remove(o,l))}return f.gt()},c.prototype.yt=function(){return this.color},c.prototype.gt=function(){var o=this;return o.right.yt()&&!o.left.yt()&&(o=o.St()),o.left.yt()&&o.left.left.yt()&&(o=o.bt()),o.left.yt()&&o.right.yt()&&(o=o.Dt()),o},c.prototype.Vt=function(){var o=this.Dt();return o.right.left.yt()&&(o=(o=(o=o.copy(null,null,null,null,o.right.bt())).St()).Dt()),o},c.prototype.vt=function(){var o=this.Dt();return o.left.left.yt()&&(o=(o=o.bt()).Dt()),o},c.prototype.St=function(){var o=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)},c.prototype.bt=function(){var o=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)},c.prototype.Dt=function(){var o=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,l)},c.prototype.Ct=function(){var o=this.Nt();return Math.pow(2,o)<=this.size+1},c.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw fe();var o=this.left.Nt();if(o!==this.right.Nt())throw fe();return o+(this.yt()?0:1)},c}();fs.EMPTY=null,fs.RED=!0,fs.at=!1,fs.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw fe()},enumerable:!1,configurable:!0}),c.prototype.copy=function(o,l,h,f,g){return this},c.prototype.ot=function(o,l,h){return new fs(o,l)},c.prototype.remove=function(o,l){return this},c.prototype.m=function(){return!0},c.prototype.ht=function(o){return!1},c.prototype.lt=function(o){return!1},c.prototype.ct=function(){return null},c.prototype.ut=function(){return null},c.prototype.yt=function(){return!1},c.prototype.Ct=function(){return!0},c.prototype.Nt=function(){return 0},c}());var Hn=function(){function c(o){this.i=o,this.data=new Un(this.i)}return c.prototype.has=function(o){return null!==this.data.get(o)},c.prototype.first=function(){return this.data.ct()},c.prototype.last=function(){return this.data.ut()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(o){return this.data.indexOf(o)},c.prototype.forEach=function(o){this.data.ht(function(l,h){return o(l),!1})},c.prototype.Ft=function(o,l){for(var h=this.data.ft(o[0]);h.At();){var f=h.It();if(this.i(f.key,o[1])>=0)return;l(f.key)}},c.prototype.xt=function(o,l){var h;for(h=void 0!==l?this.data.ft(l):this.data._t();h.At();)if(!o(h.It().key))return},c.prototype.$t=function(o){var l=this.data.ft(o);return l.At()?l.It().key:null},c.prototype._t=function(){return new Ja(this.data._t())},c.prototype.ft=function(o){return new Ja(this.data.ft(o))},c.prototype.add=function(o){return this.copy(this.data.remove(o).ot(o,!0))},c.prototype.delete=function(o){return this.has(o)?this.copy(this.data.remove(o)):this},c.prototype.m=function(){return this.data.m()},c.prototype.kt=function(o){var l=this;return l.size<o.size&&(l=o,o=this),o.forEach(function(h){l=l.add(h)}),l},c.prototype.isEqual=function(o){if(!(o instanceof c)||this.size!==o.size)return!1;for(var l=this.data._t(),h=o.data._t();l.At();){var f=l.It().key,g=h.It().key;if(0!==this.i(f,g))return!1}return!0},c.prototype.A=function(){var o=[];return this.forEach(function(l){o.push(l)}),o},c.prototype.toString=function(){var o=[];return this.forEach(function(l){return o.push(l)}),"SortedSet("+o.toString()+")"},c.prototype.copy=function(o){var l=new c(this.i);return l.data=o,l},c}(),Ja=function(){function c(o){this.Mt=o}return c.prototype.It=function(){return this.Mt.It().key},c.prototype.At=function(){return this.Mt.At()},c}(),Ui=new Un(te.i);function Ns(){return Ui}function Ei(){return Ns()}var iu=new Un(te.i);function ko(){return iu}var hc=new Un(te.i),Kh=new Hn(te.i);function fn(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];for(var l=Kh,h=0,f=c;h<f.length;h++){var g=f[h];l=l.add(g)}return l}var Ur=new Hn(Ke);function ru(){return Ur}var On=function(){function c(o){this.i=o?function(l,h){return o(l,h)||te.i(l.key,h.key)}:function(l,h){return te.i(l.key,h.key)},this.Ot=ko(),this.Lt=new Un(this.i)}return c.Bt=function(o){return new c(o.i)},c.prototype.has=function(o){return null!=this.Ot.get(o)},c.prototype.get=function(o){return this.Ot.get(o)},c.prototype.first=function(){return this.Lt.ct()},c.prototype.last=function(){return this.Lt.ut()},c.prototype.m=function(){return this.Lt.m()},c.prototype.indexOf=function(o){var l=this.Ot.get(o);return l?this.Lt.indexOf(l):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(o){this.Lt.ht(function(l,h){return o(l),!1})},c.prototype.add=function(o){var l=this.delete(o.key);return l.copy(l.Ot.ot(o.key,o),l.Lt.ot(o,null))},c.prototype.delete=function(o){var l=this.get(o);return l?this.copy(this.Ot.remove(o),this.Lt.remove(l)):this},c.prototype.isEqual=function(o){if(!(o instanceof c)||this.size!==o.size)return!1;for(var l=this.Lt._t(),h=o.Lt._t();l.At();){var f=l.It().key,g=h.It().key;if(!f.isEqual(g))return!1}return!0},c.prototype.toString=function(){var o=[];return this.forEach(function(l){o.push(l.toString())}),0===o.length?"DocumentSet ()":"DocumentSet (\n  "+o.join("  \n")+"\n)"},c.prototype.copy=function(o,l){var h=new c;return h.i=this.i,h.Ot=o,h.Lt=l,h},c}(),lo=function(){function c(){this.qt=new Un(te.i)}return c.prototype.track=function(o){var l=o.doc.key,h=this.qt.get(l);h?0!==o.type&&3===h.type?this.qt=this.qt.ot(l,o):3===o.type&&1!==h.type?this.qt=this.qt.ot(l,{type:h.type,doc:o.doc}):2===o.type&&2===h.type?this.qt=this.qt.ot(l,{type:2,doc:o.doc}):2===o.type&&0===h.type?this.qt=this.qt.ot(l,{type:0,doc:o.doc}):1===o.type&&0===h.type?this.qt=this.qt.remove(l):1===o.type&&2===h.type?this.qt=this.qt.ot(l,{type:1,doc:h.doc}):0===o.type&&1===h.type?this.qt=this.qt.ot(l,{type:2,doc:o.doc}):fe():this.qt=this.qt.ot(l,o)},c.prototype.Ut=function(){var o=[];return this.qt.ht(function(l,h){o.push(h)}),o},c}(),Sr=function(){function c(o,l,h,f,g,v,b,E){this.query=o,this.docs=l,this.Qt=h,this.docChanges=f,this.Wt=g,this.fromCache=v,this.jt=b,this.Kt=E}return c.Gt=function(o,l,h,f){var g=[];return l.forEach(function(v){g.push({type:0,doc:v})}),new c(o,l,On.Bt(l),g,h,f,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(o){if(!(this.fromCache===o.fromCache&&this.jt===o.jt&&this.Wt.isEqual(o.Wt)&&Lo(this.query,o.query)&&this.docs.isEqual(o.docs)&&this.Qt.isEqual(o.Qt)))return!1;var l=this.docChanges,h=o.docChanges;if(l.length!==h.length)return!1;for(var f=0;f<l.length;f++)if(l[f].type!==h[f].type||!l[f].doc.isEqual(h[f].doc))return!1;return!0},c}(),su=function(){function c(o,l,h,f,g){this.nt=o,this.zt=l,this.Ht=h,this.Yt=f,this.Jt=g}return c.Xt=function(o,l){var h=new Map;return h.set(o,ou.Zt(o,l)),new c(It.min(),h,ru(),Ns(),fn())},c}(),ou=function(){function c(o,l,h,f,g){this.resumeToken=o,this.te=l,this.ee=h,this.ne=f,this.se=g}return c.Zt=function(o,l){return new c(Qt.B,l,fn(),fn(),fn())},c}(),el=function(c,o,l,h){this.ie=c,this.removedTargetIds=o,this.key=l,this.re=h},Ro=function(c,o){this.targetId=c,this.oe=o},tl=function(c,o,l,h){void 0===l&&(l=Qt.B),void 0===h&&(h=null),this.state=c,this.targetIds=o,this.resumeToken=l,this.cause=h},uo=function(){function c(){this.ae=0,this.ce=Po(),this.ue=Qt.B,this.he=!1,this.le=!0}return Object.defineProperty(c.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),c.prototype.de=function(o){o.O()>0&&(this.le=!0,this.ue=o)},c.prototype.we=function(){var o=fn(),l=fn(),h=fn();return this.ce.forEach(function(f,g){switch(g){case 0:o=o.add(f);break;case 2:l=l.add(f);break;case 1:h=h.add(f);break;default:fe()}}),new ou(this.ue,this.he,o,l,h)},c.prototype.me=function(){this.le=!1,this.ce=Po()},c.prototype.Te=function(o,l){this.le=!0,this.ce=this.ce.ot(o,l)},c.prototype.Ee=function(o){this.le=!0,this.ce=this.ce.remove(o)},c.prototype.Ie=function(){this.ae+=1},c.prototype.Ae=function(){this.ae-=1},c.prototype.Re=function(){this.le=!0,this.he=!0},c}(),Yh=function(){function c(o){this.ge=o,this.Pe=new Map,this.ye=Ns(),this.Ve=dc(),this.pe=new Hn(Ke)}return c.prototype.be=function(o){for(var l=0,h=o.ie;l<h.length;l++){var f=h[l];o.re instanceof Ht?this.ve(f,o.re):o.re instanceof nt&&this.Se(f,o.key,o.re)}for(var g=0,v=o.removedTargetIds;g<v.length;g++)this.Se(v[g],o.key,o.re)},c.prototype.De=function(o){var l=this;this.Ce(o,function(h){var f=l.Ne(h);switch(o.state){case 0:l.Fe(h)&&f.de(o.resumeToken);break;case 1:f.Ae(),f._e||f.me(),f.de(o.resumeToken);break;case 2:f.Ae(),f._e||l.removeTarget(h);break;case 3:l.Fe(h)&&(f.Re(),f.de(o.resumeToken));break;case 4:l.Fe(h)&&(l.xe(h),f.de(o.resumeToken));break;default:fe()}})},c.prototype.Ce=function(o,l){var h=this;o.targetIds.length>0?o.targetIds.forEach(l):this.Pe.forEach(function(f,g){h.Fe(g)&&l(g)})},c.prototype.$e=function(o){var l=o.targetId,h=o.oe.count,f=this.ke(l);if(f){var g=f.target;if(sn(g))if(0===h){var v=new te(g.path);this.Se(l,v,new nt(v,It.min()))}else be(1===h);else this.Me(l)!==h&&(this.xe(l),this.pe=this.pe.add(l))}},c.prototype.Oe=function(o){var l=this,h=new Map;this.Pe.forEach(function(v,b){var E=l.ke(b);if(E){if(v.te&&sn(E.target)){var S=new te(E.target.path);null!==l.ye.get(S)||l.Le(b,S)||l.Se(b,S,new nt(S,o))}v.fe&&(h.set(b,v.we()),v.me())}});var f=fn();this.Ve.forEach(function(v,b){var E=!0;b.xt(function(S){var A=l.ke(S);return!A||2===A.et||(E=!1,!1)}),E&&(f=f.add(v))});var g=new su(o,h,this.pe,this.ye,f);return this.ye=Ns(),this.Ve=dc(),this.pe=new Hn(Ke),g},c.prototype.ve=function(o,l){if(this.Fe(o)){var h=this.Le(o,l.key)?2:0;this.Ne(o).Te(l.key,h),this.ye=this.ye.ot(l.key,l),this.Ve=this.Ve.ot(l.key,this.Be(l.key).add(o))}},c.prototype.Se=function(o,l,h){if(this.Fe(o)){var f=this.Ne(o);this.Le(o,l)?f.Te(l,1):f.Ee(l),this.Ve=this.Ve.ot(l,this.Be(l).delete(o)),h&&(this.ye=this.ye.ot(l,h))}},c.prototype.removeTarget=function(o){this.Pe.delete(o)},c.prototype.Me=function(o){var l=this.Ne(o).we();return this.ge.qe(o).size+l.ee.size-l.se.size},c.prototype.Ie=function(o){this.Ne(o).Ie()},c.prototype.Ne=function(o){var l=this.Pe.get(o);return l||(l=new uo,this.Pe.set(o,l)),l},c.prototype.Be=function(o){var l=this.Ve.get(o);return l||(l=new Hn(Ke),this.Ve=this.Ve.ot(o,l)),l},c.prototype.Fe=function(o){var l=null!==this.ke(o);return l||ee("WatchChangeAggregator","Detected inactive target",o),l},c.prototype.ke=function(o){var l=this.Pe.get(o);return l&&l._e?null:this.ge.Ue(o)},c.prototype.xe=function(o){var l=this;this.Pe.set(o,new uo),this.ge.qe(o).forEach(function(h){l.Se(o,h,null)})},c.prototype.Le=function(o,l){return this.ge.qe(o).has(l)},c}();function dc(){return new Un(te.i)}function Po(){return new Un(te.i)}function au(c){var o,l;return"server_timestamp"===(null===(l=((null===(o=null==c?void 0:c.mapValue)||void 0===o?void 0:o.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function fc(c){var o=c.mapValue.fields.__previous_value__;return au(o)?fc(o):o}function ua(c){var o=Hr(c.mapValue.fields.__local_write_time__.timestampValue);return new cn(o.seconds,o.nanos)}var pc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?au(c)?4:10:fe()}function ps(c,o){var f,l=Fs(c);if(l!==Fs(o))return!1;switch(l){case 0:return!0;case 1:return c.booleanValue===o.booleanValue;case 4:return ua(c).isEqual(ua(o));case 3:return function(h,f){if("string"==typeof h.timestampValue&&"string"==typeof f.timestampValue&&h.timestampValue.length===f.timestampValue.length)return h.timestampValue===f.timestampValue;var g=Hr(h.timestampValue),v=Hr(f.timestampValue);return g.seconds===v.seconds&&g.nanos===v.nanos}(c,o);case 5:return c.stringValue===o.stringValue;case 6:return f=o,Ls(c.bytesValue).isEqual(Ls(f.bytesValue));case 7:return c.referenceValue===o.referenceValue;case 8:return function(h,f){return Xe(h.geoPointValue.latitude)===Xe(f.geoPointValue.latitude)&&Xe(h.geoPointValue.longitude)===Xe(f.geoPointValue.longitude)}(c,o);case 2:return function(h,f){if("integerValue"in h&&"integerValue"in f)return Xe(h.integerValue)===Xe(f.integerValue);if("doubleValue"in h&&"doubleValue"in f){var g=Xe(h.doubleValue),v=Xe(f.doubleValue);return g===v?F(g)===F(v):isNaN(g)&&isNaN(v)}return!1}(c,o);case 9:return Xt(c.arrayValue.values||[],o.arrayValue.values||[],ps);case 10:return function(h,f){var g=h.mapValue.fields||{},v=f.mapValue.fields||{};if(jt(g)!==jt(v))return!1;for(var b in g)if(g.hasOwnProperty(b)&&(void 0===v[b]||!ps(g[b],v[b])))return!1;return!0}(c,o);default:return fe()}}function ms(c,o){return void 0!==(c.values||[]).find(function(l){return ps(l,o)})}function In(c,o){var f,g,v,b,l=Fs(c),h=Fs(o);if(l!==h)return Ke(l,h);switch(l){case 0:return 0;case 1:return Ke(c.booleanValue,o.booleanValue);case 2:return g=o,(v=Xe((f=c).integerValue||f.doubleValue))<(b=Xe(g.integerValue||g.doubleValue))?-1:v>b?1:v===b?0:isNaN(v)?isNaN(b)?0:-1:1;case 3:return nl(c.timestampValue,o.timestampValue);case 4:return nl(ua(c),ua(o));case 5:return Ke(c.stringValue,o.stringValue);case 6:return function(f,g){var v=Ls(f),b=Ls(g);return v.L(b)}(c.bytesValue,o.bytesValue);case 7:return function(f,g){for(var v=f.split("/"),b=g.split("/"),E=0;E<v.length&&E<b.length;E++){var S=Ke(v[E],b[E]);if(0!==S)return S}return Ke(v.length,b.length)}(c.referenceValue,o.referenceValue);case 8:return function(f,g){var v=Ke(Xe(f.latitude),Xe(g.latitude));return 0!==v?v:Ke(Xe(f.longitude),Xe(g.longitude))}(c.geoPointValue,o.geoPointValue);case 9:return function(f,g){for(var v=f.values||[],b=g.values||[],E=0;E<v.length&&E<b.length;++E){var S=In(v[E],b[E]);if(S)return S}return Ke(v.length,b.length)}(c.arrayValue,o.arrayValue);case 10:return function(f,g){var v=f.fields||{},b=Object.keys(v),E=g.fields||{},S=Object.keys(E);b.sort(),S.sort();for(var A=0;A<b.length&&A<S.length;++A){var R=Ke(b[A],S[A]);if(0!==R)return R;var P=In(v[b[A]],E[S[A]]);if(0!==P)return P}return Ke(b.length,S.length)}(c.mapValue,o.mapValue);default:throw fe()}}function nl(c,o){if("string"==typeof c&&"string"==typeof o&&c.length===o.length)return Ke(c,o);var l=Hr(c),h=Hr(o),f=Ke(l.seconds,h.seconds);return 0!==f?f:Ke(l.nanos,h.nanos)}function Zi(c){return ca(c)}function ca(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(f=Hr(c.timestampValue)).seconds+","+f.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?Ls(c.bytesValue).toBase64():"referenceValue"in c?te.C(c.referenceValue).toString():"geoPointValue"in c?"geo("+(o=c.geoPointValue).latitude+","+o.longitude+")":"arrayValue"in c?function(h){for(var f="[",g=!0,v=0,b=h.values||[];v<b.length;v++)g?g=!1:f+=",",f+=ca(b[v]);return f+"]"}(c.arrayValue):"mapValue"in c?function(h){for(var f="{",g=!0,v=0,b=Object.keys(h.fields||{}).sort();v<b.length;v++){var E=b[v];g?g=!1:f+=",",f+=E+":"+ca(h.fields[E])}return f+"}"}(c.mapValue):fe();var f,o}function Hr(c){if(be(!!c),"string"==typeof c){var o=0,l=pc.exec(c);if(be(!!l),l[1]){var h=l[1];h=(h+"000000000").substr(0,9),o=Number(h)}var f=new Date(c);return{seconds:Math.floor(f.getTime()/1e3),nanos:o}}return{seconds:Xe(c.seconds),nanos:Xe(c.nanos)}}function Xe(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Ls(c){return"string"==typeof c?Qt.fromBase64String(c):Qt.fromUint8Array(c)}function at(c,o){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+o.path.R()}}function ha(c){return!!c&&"integerValue"in c}function Oo(c){return!!c&&"arrayValue"in c}function Ft(c){return!!c&&"nullValue"in c}function lt(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function il(c){return!!c&&"mapValue"in c}var Jf={asc:"ASCENDING",desc:"DESCENDING"},Te={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},No=function(c,o){this.U=c,this.Qe=o};function et(c){return{integerValue:""+c}}function qn(c,o){if(c.Qe){if(isNaN(o))return{doubleValue:"NaN"};if(o===1/0)return{doubleValue:"Infinity"};if(o===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(o)?"-0":o}}function mc(c,o){return q(o)?et(o):qn(c,o)}function lu(c,o){return c.Qe?new Date(1e3*o.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+o.nanoseconds).slice(-9)+"Z":{seconds:""+o.seconds,nanos:o.nanoseconds}}function rl(c,o){return c.Qe?o.toBase64():o.toUint8Array()}function uu(c,o){return lu(c,o.Z())}function Cn(c){return be(!!c),It.J((l=Hr(c),new cn(l.seconds,l.nanos)));var l}function cu(c,o){return(l=c,new K(["projects",l.projectId,"databases",l.database])).child("documents").child(o).R();var l}function hu(c){var o=K.g(c);return be(pn(o)),o}function da(c,o){return cu(c.U,o.path)}function Xn(c,o){var l=hu(o);return be(l.get(1)===c.U.projectId),be(!l.get(3)&&!c.U.database||l.get(3)===c.U.database),new te(du(l))}function Xh(c,o){return cu(c.U,o)}function sl(c){var o=hu(c);return 4===o.length?K.P():du(o)}function ol(c){return new K(["projects",c.U.projectId,"databases",c.U.database]).R()}function du(c){return be(c.length>4&&"documents"===c.get(4)),c.u(5)}function al(c,o,l){return{name:da(c,o),fields:l.proto.mapValue.fields}}function co(c,o){var l,f;if(o instanceof Lt)l={update:al(c,o.key,o.value)};else if(o instanceof js)l={delete:da(c,o.key)};else if(o instanceof mr)l={update:al(c,o.key,o.data),updateMask:Zh(o.We)};else if(o instanceof ys)l={transform:{document:da(c,o.key),fieldTransforms:o.fieldTransforms.map(function(h){return function(f,g){var v=g.transform;if(v instanceof Ge)return{fieldPath:g.field.R(),setToServerValue:"REQUEST_TIME"};if(v instanceof Vs)return{fieldPath:g.field.R(),appendMissingElements:{values:v.elements}};if(v instanceof Ji)return{fieldPath:g.field.R(),removeAllFromArray:{values:v.elements}};if(v instanceof ul)return{fieldPath:g.field.R(),increment:v.je};throw fe()}(0,h)})}};else{if(!(o instanceof bc))return fe();l={verify:da(c,o.key)}}return o.Ge.Ke||(l.currentDocument=void 0!==(f=o.Ge).updateTime?{updateTime:uu(c,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:fe()),l}function fu(c,o){var A,l=o.currentDocument?void 0!==(A=o.currentDocument).updateTime?di.updateTime(Cn(A.updateTime)):void 0!==A.exists?di.exists(A.exists):di.ze():di.ze();if(o.update){var h=Xn(c,o.update.name),f=new En({mapValue:{fields:o.update.fields}});if(o.updateMask){var g=function(A){return new Ir((A.fieldPaths||[]).map(function(P){return oe.S(P)}))}(o.updateMask);return new mr(h,f,g,l)}return new Lt(h,f,l)}if(o.delete){var v=Xn(c,o.delete);return new js(v,l)}if(o.transform){var b=Xn(c,o.transform.document),E=o.transform.fieldTransforms.map(function(A){return function(R,P){var V=null;"setToServerValue"in P?(be("REQUEST_TIME"===P.setToServerValue),V=new Ge):"appendMissingElements"in P?V=new Vs(P.appendMissingElements.values||[]):"removeAllFromArray"in P?V=new Ji(P.removeAllFromArray.values||[]):"increment"in P?V=new ul(R,P.increment):fe();var Ae=oe.S(P.fieldPath);return new cl(Ae,V)}(c,A)});return be(!0===l.exists),new ys(b,E)}if(o.verify){var S=Xn(c,o.verify);return new bc(S,l)}return fe()}function ep(c,o){return{documents:[Xh(c,o.path)]}}function Di(c,o){var l={structuredQuery:{}},h=o.path;null!==o.collectionGroup?(l.parent=Xh(c,h),l.structuredQuery.from=[{collectionId:o.collectionGroup,allDescendants:!0}]):(l.parent=Xh(c,h.h()),l.structuredQuery.from=[{collectionId:h._()}]);var f=function(b){if(0!==b.length){var E=b.map(function(S){return function(A){if("=="===A.op){if(lt(A.value))return{unaryFilter:{field:ct(A.field),op:"IS_NAN"}};if(Ft(A.value))return{unaryFilter:{field:ct(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(lt(A.value))return{unaryFilter:{field:ct(A.field),op:"IS_NOT_NAN"}};if(Ft(A.value))return{unaryFilter:{field:ct(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ct(A.field),op:fa(A.op),value:A.value}}}(S)});return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}}(o.filters);f&&(l.structuredQuery.where=f);var g=function(b){if(0!==b.length)return b.map(function(E){return{field:ct((S=E).field),direction:ke(S.dir)};var S})}(o.orderBy);g&&(l.structuredQuery.orderBy=g);var E,v=(E=o.limit,c.Qe||B(E)?E:{value:E});return null!==v&&(l.structuredQuery.limit=v),o.startAt&&(l.structuredQuery.startAt=Fo(o.startAt)),o.endAt&&(l.structuredQuery.endAt=Fo(o.endAt)),l}function Ut(c){var o=sl(c.parent),l=c.structuredQuery,h=l.from?l.from.length:0,f=null;if(h>0){be(1===h);var g=l.from[0];g.allDescendants?f=g.collectionId:o=o.child(g.collectionId)}var v=[];l.where&&(v=gc(l.where));var b=[];l.orderBy&&(b=l.orderBy.map(function(R){return new zr(qr((P=R).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));var R,P,E=null;l.limit&&(E=B(P="object"==typeof(R=l.limit)?R.value:R)?null:P);var S=null;l.startAt&&(S=Qh(l.startAt));var A=null;return l.endAt&&(A=Qh(l.endAt)),ri(Be(o,f,b,v,E,"F",S,A))}function gc(c){return c?void 0!==c.unaryFilter?[pu(c)]:void 0!==c.fieldFilter?[ll(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(o){return gc(o)}).reduce(function(o,l){return o.concat(l)}):fe():[]}function Fo(c){return{before:c.before,values:c.position}}function Qh(c){return new Si(c.values||[],!!c.before)}function ke(c){return Jf[c]}function fa(c){return Te[c]}function ct(c){return{fieldPath:c.R()}}function qr(c){return oe.S(c.fieldPath)}function ll(c){return on.create(qr(c.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(c.fieldFilter.op),c.fieldFilter.value)}function pu(c){switch(c.unaryFilter.op){case"IS_NAN":var o=qr(c.unaryFilter.field);return on.create(o,"==",{doubleValue:NaN});case"IS_NULL":var l=qr(c.unaryFilter.field);return on.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var h=qr(c.unaryFilter.field);return on.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var f=qr(c.unaryFilter.field);return on.create(f,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}function Zh(c){var o=[];return c.fields.forEach(function(l){return o.push(l.R())}),{fieldPaths:o}}function pn(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}var gs=function(){this.He=void 0};function yc(c,o,l){return c instanceof Ge?(g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(h=l).seconds,nanos:h.nanoseconds}}}},(f=o)&&(g.fields.__previous_value__=f),{mapValue:g}):c instanceof Vs?vc(c,o):c instanceof Ji?_c(c,o):function(h,f){var g=pa(h,f),v=Bs(g)+Bs(h.je);return ha(g)&&ha(h.je)?et(v):qn(h.serializer,v)}(c,o);var h,f,g}function Jh(c,o,l){return c instanceof Vs?vc(c,o):c instanceof Ji?_c(c,o):l}function pa(c,o){return c instanceof ul?ha(l=o)||(h=l)&&"doubleValue"in h?o:{integerValue:0}:null;var h,l}var Ge=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o}(gs),Vs=function(c){function o(l){var h=this;return(h=c.call(this)||this).elements=l,h}return M.__extends(o,c),o}(gs);function vc(c,o){for(var l=xi(o),h=function(v){l.some(function(b){return ps(b,v)})||l.push(v)},f=0,g=c.elements;f<g.length;f++)h(g[f]);return{arrayValue:{values:l}}}var Ji=function(c){function o(l){var h=this;return(h=c.call(this)||this).elements=l,h}return M.__extends(o,c),o}(gs);function _c(c,o){for(var l=xi(o),h=function(v){l=l.filter(function(b){return!ps(b,v)})},f=0,g=c.elements;f<g.length;f++)h(g[f]);return{arrayValue:{values:l}}}var ul=function(c){function o(l,h){var f=this;return(f=c.call(this)||this).serializer=l,f.je=h,f}return M.__extends(o,c),o}(gs);function Bs(c){return Xe(c.integerValue||c.doubleValue)}function xi(c){return Oo(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var Ir=function(){function c(o){this.fields=o,o.sort(oe.i)}return c.prototype.Ye=function(o){for(var l=0,h=this.fields;l<h.length;l++)if(h[l].T(o))return!0;return!1},c.prototype.isEqual=function(o){return Xt(this.fields,o.fields,function(l,h){return l.isEqual(h)})},c}(),cl=function(c,o){this.field=c,this.transform=o},Tr=function(c,o){this.version=c,this.transformResults=o},di=function(){function c(o,l){this.updateTime=o,this.exists=l}return c.ze=function(){return new c},c.exists=function(o){return new c(void 0,o)},c.updateTime=function(o){return new c(o)},Object.defineProperty(c.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(o){return this.exists===o.exists&&(this.updateTime?!!o.updateTime&&this.updateTime.isEqual(o.updateTime):!o.updateTime)},c}();function Gr(c,o){return void 0!==c.updateTime?o instanceof Ht&&o.version.isEqual(c.updateTime):void 0===c.exists||c.exists===o instanceof Ht}var hl=function(){};function Wg(c,o,l){return c instanceof Lt?new Ht((h=c).key,l.version,h.value,{hasCommittedMutations:!0}):c instanceof mr?function(h,f,g){if(!Gr(h.Ge,f))return new gu(h.key,g.version);var v=dl(h,f);return new Ht(h.key,g.version,v,{hasCommittedMutations:!0})}(c,o,l):c instanceof ys?function(h,f,g){if(be(null!=g.transformResults),!Gr(h.Ge,f))return new gu(h.key,g.version);var v=fl(0,f),b=function(A,R,P){var V=[];be(A.length===P.length);for(var z=0;z<P.length;z++){var J=A[z],Ae=J.transform,De=null;R instanceof Ht&&(De=R.field(J.field)),V.push(Jh(Ae,De,P[z]))}return V}(h.fieldTransforms,f,g.transformResults),E=g.version,S=vs(h,v.data(),b);return new Ht(h.key,E,S,{hasCommittedMutations:!0})}(c,o,l):function(h,f,g){return new nt(h.key,g.version,{hasCommittedMutations:!0})}(c,0,l);var h}function Wt(c,o,l,h){return c instanceof Lt?function(f,g){if(!Gr(f.Ge,g))return g;var v=ho(g);return new Ht(f.key,v,f.value,{Je:!0})}(c,o):c instanceof mr?function(f,g){if(!Gr(f.Ge,g))return g;var v=ho(g),b=dl(f,g);return new Ht(f.key,v,b,{Je:!0})}(c,o):c instanceof ys?function(f,g,v,b){if(!Gr(f.Ge,g))return g;var E=fl(0,g),S=function(R,P,V,z){for(var J=[],Ae=0,De=R;Ae<De.length;Ae++){var Ye=De[Ae],yt=Ye.transform,Ot=null;V instanceof Ht&&(Ot=V.field(Ye.field)),null===Ot&&z instanceof Ht&&(Ot=z.field(Ye.field)),J.push(yc(yt,Ot,P))}return J}(f.fieldTransforms,v,g,b),A=vs(f,E.data(),S);return new Ht(f.key,E.version,A,{Je:!0})}(c,o,h,l):Gr((f=c).Ge,g=o)?new nt(f.key,It.min()):g;var f,g}function Kg(c,o){return c instanceof ys?function(l,h){for(var f=null,g=0,v=l.fieldTransforms;g<v.length;g++){var b=v[g],E=h instanceof Ht?h.field(b.field):void 0,S=pa(b.transform,E||null);null!=S&&(f=null==f?(new pl).set(b.field,S):f.set(b.field,S))}return f?f.Xe():null}(c,o):null}function ed(c,o){return c.type===o.type&&!!c.key.isEqual(o.key)&&!!c.Ge.isEqual(o.Ge)&&(0===c.type?c.value.isEqual(o.value):1===c.type?c.data.isEqual(o.data)&&c.We.isEqual(o.We):2!==c.type||Xt(c.fieldTransforms,c.fieldTransforms,function(l,h){return(f=l).field.isEqual((g=h).field)&&(b=g.transform,(v=f.transform)instanceof Vs&&b instanceof Vs||v instanceof Ji&&b instanceof Ji?Xt(v.elements,b.elements,ps):v instanceof ul&&b instanceof ul?ps(v.je,b.je):v instanceof Ge&&b instanceof Ge);var f,g,v,b}))}function ho(c){return c instanceof Ht?c.version:It.min()}var Lt=function(c){function o(l,h,f){var g=this;return(g=c.call(this)||this).key=l,g.value=h,g.Ge=f,g.type=0,g}return M.__extends(o,c),o}(hl),mr=function(c){function o(l,h,f,g){var v=this;return(v=c.call(this)||this).key=l,v.data=h,v.We=f,v.Ge=g,v.type=1,v}return M.__extends(o,c),o}(hl);function dl(c,o){return l=c,h=o instanceof Ht?o.data():En.empty(),f=new pl(h),l.We.fields.forEach(function(g){if(!g.m()){var v=l.data.field(g);null!==v?f.set(g,v):f.delete(g)}}),f.Xe();var l,h,f}var ys=function(c){function o(l,h){var f=this;return(f=c.call(this)||this).key=l,f.fieldTransforms=h,f.type=2,f.Ge=di.exists(!0),f}return M.__extends(o,c),o}(hl);function fl(c,o){return o}function vs(c,o,l){for(var h=new pl(o),f=0;f<c.fieldTransforms.length;f++)h.set(c.fieldTransforms[f].field,l[f]);return h.Xe()}var js=function(c){function o(l,h){var f=this;return(f=c.call(this)||this).key=l,f.Ge=h,f.type=3,f}return M.__extends(o,c),o}(hl),bc=function(c){function o(l,h){var f=this;return(f=c.call(this)||this).key=l,f.Ge=h,f.type=4,f}return M.__extends(o,c),o}(hl),En=function(){function c(o){this.proto=o}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(o){if(o.m())return this.proto;for(var l=this.proto,h=0;h<o.length-1;++h)if(!l.mapValue.fields||!il(l=l.mapValue.fields[o.get(h)]))return null;return(l=(l.mapValue.fields||{})[o._()])||null},c.prototype.isEqual=function(o){return ps(this.proto,o.proto)},c}(),pl=function(){function c(o){void 0===o&&(o=En.empty()),this.Ze=o,this.tn=new Map}return c.prototype.set=function(o,l){return this.en(o,l),this},c.prototype.delete=function(o){return this.en(o,null),this},c.prototype.en=function(o,l){for(var h=this.tn,f=0;f<o.length-1;++f){var g=o.get(f),v=h.get(g);v instanceof Map?h=v:v&&10===Fs(v)?(v=new Map(Object.entries(v.mapValue.fields||{})),h.set(g,v),h=v):(h.set(g,v=new Map),h=v)}h.set(o._(),l)},c.prototype.Xe=function(){var o=this.nn(oe.P(),this.tn);return null!=o?new En(o):this.Ze},c.prototype.nn=function(o,l){var h=this,f=!1,g=this.Ze.field(o),v=il(g)?Object.assign({},g.mapValue.fields):{};return l.forEach(function(b,E){if(b instanceof Map){var S=h.nn(o.child(E),b);null!=S&&(v[E]=S,f=!0)}else null!==b?(v[E]=b,f=!0):v.hasOwnProperty(E)&&(delete v[E],f=!0)}),f?{mapValue:{fields:v}}:null},c}();function Nn(c){var o=[];return Rn(c.fields||{},function(l,h){var f=new oe([l]);if(il(h)){var g=Nn(h.mapValue).fields;if(0===g.length)o.push(f);else for(var v=0,b=g;v<b.length;v++)o.push(f.child(b[v]))}else o.push(f)}),new Ir(o)}var mu=function(c,o){this.key=c,this.version=o},Ht=function(c){function o(l,h,f,g){var v=this;return(v=c.call(this,l,h)||this).sn=f,v.Je=!!g.Je,v.hasCommittedMutations=!!g.hasCommittedMutations,v}return M.__extends(o,c),o.prototype.field=function(l){return this.sn.field(l)},o.prototype.data=function(){return this.sn},o.prototype.rn=function(){return this.sn.proto},o.prototype.isEqual=function(l){return l instanceof o&&this.key.isEqual(l.key)&&this.version.isEqual(l.version)&&this.Je===l.Je&&this.hasCommittedMutations===l.hasCommittedMutations&&this.sn.isEqual(l.sn)},o.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),o}(mu),nt=function(c){function o(l,h,f){var g=this;return(g=c.call(this,l,h)||this).hasCommittedMutations=!(!f||!f.hasCommittedMutations),g}return M.__extends(o,c),o.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(l){return l instanceof o&&l.hasCommittedMutations===this.hasCommittedMutations&&l.version.isEqual(this.version)&&l.key.isEqual(this.key)},o}(mu),gu=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(l){return l instanceof o&&l.version.isEqual(this.version)&&l.key.isEqual(this.key)},o}(mu),_s=function(c,o,l,h,f,g,v,b){void 0===o&&(o=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===f&&(f=null),void 0===g&&(g="F"),void 0===v&&(v=null),void 0===b&&(b=null),this.path=c,this.collectionGroup=o,this.on=l,this.filters=h,this.limit=f,this.an=g,this.startAt=v,this.endAt=b,this.cn=null,this.un=null};function Be(c,o,l,h,f,g,v,b){return new _s(c,o,l,h,f,g,v,b)}function Qn(c){return new _s(c)}function Gn(c){return!B(c.limit)&&"F"===c.an}function er(c){return!B(c.limit)&&"L"===c.an}function bs(c){return c.on.length>0?c.on[0].field:null}function Fn(c){for(var o=0,l=c.filters;o<l.length;o++){var h=l[o];if(h.hn())return h.field}return null}function ma(c){return null!==c.collectionGroup}function ws(c){var o=ae(c);if(null===o.cn){o.cn=[];var l=Fn(o),h=bs(o);if(null!==l&&null===h)l.p()||o.cn.push(new zr(l)),o.cn.push(new zr(oe.v(),"asc"));else{for(var f=!1,g=0,v=o.on;g<v.length;g++){var b=v[g];o.cn.push(b),b.field.p()&&(f=!0)}if(!f){var E=o.on.length>0?o.on[o.on.length-1].dir:"asc";o.cn.push(new zr(oe.v(),E))}}}return o.cn}function ri(c){var o=ae(c);if(!o.un)if("F"===o.an)o.un=U(o.path,o.collectionGroup,ws(o),o.filters,o.limit,o.startAt,o.endAt);else{for(var l=[],h=0,f=ws(o);h<f.length;h++){var g=f[h];l.push(new zr(g.field,"desc"===g.dir?"asc":"desc"))}var b=o.endAt?new Si(o.endAt.position,!o.endAt.before):null,E=o.startAt?new Si(o.startAt.position,!o.startAt.before):null;o.un=U(o.path,o.collectionGroup,l,o.filters,o.limit,b,E)}return o.un}function ga(c,o,l){return new _s(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),o,l,c.startAt,c.endAt)}function Cs(c,o){return new _s(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,o,c.endAt)}function zn(c,o){return new _s(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,c.startAt,o)}function Lo(c,o){return gt(ri(c),ri(o))&&c.an===o.an}function Hi(c){return Re(ri(c))+"|lt:"+c.an}function ve(c){return"Query(target="+(l=(o=ri(c)).path.R(),null!==o.collectionGroup&&(l+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(l+=", filters: ["+o.filters.map(function(h){return(f=h).field.R()+" "+f.op+" "+Zi(f.value);var f}).join(", ")+"]"),B(o.limit)||(l+=", limit: "+o.limit),o.orderBy.length>0&&(l+=", orderBy: ["+o.orderBy.map(function(h){return(f=h).field.R()+" ("+f.dir+")";var f}).join(", ")+"]"),o.startAt&&(l+=", startAt: "+Vo(o.startAt)),o.endAt&&(l+=", endAt: "+Vo(o.endAt)),"Target("+l+"); limitType=")+c.an+")";var o,l}function ft(c,o){return f=(h=o).key.path,(null!==(l=c).collectionGroup?h.key.N(l.collectionGroup)&&l.path.T(f):te.F(l.path)?l.path.isEqual(f):l.path.I(f))&&function(l,h){for(var f=0,g=l.on;f<g.length;f++){var v=g[f];if(!v.field.p()&&null===h.field(v.field))return!1}return!0}(c,o)&&function(l,h){for(var f=0,g=l.filters;f<g.length;f++)if(!g[f].matches(h))return!1;return!0}(c,o)&&function(l,h){return!(l.startAt&&!po(l.startAt,ws(l),h)||l.endAt&&po(l.endAt,ws(l),h))}(c,o);var l,h,f}function mn(c){return function(o,l){for(var h=!1,f=0,g=ws(c);f<g.length;f++){var v=g[f],b=qs(v,o,l);if(0!==b)return b;h=h||v.field.p()}return 0}}var on=function(c){function o(l,h,f){var g=this;return(g=c.call(this)||this).field=l,g.op=h,g.value=f,g}return M.__extends(o,c),o.create=function(l,h,f){if(l.p())return"in"===h||"not-in"===h?this.ln(l,h,f):new fo(l,h,f);if(Ft(f)){if("=="!==h&&"!="!==h)throw new H(O.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new o(l,h,f)}if(lt(f)){if("=="!==h&&"!="!==h)throw new H(O.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new o(l,h,f)}return"array-contains"===h?new ya(l,f):"in"===h?new Hs(l,f):"not-in"===h?new pt(l,f):"array-contains-any"===h?new ml(l,f):new o(l,h,f)},o.ln=function(l,h,f){return"in"===h?new Zn(l,f):new Us(l,f)},o.prototype.matches=function(l){var h=l.field(this.field);return"!="===this.op?null!==h&&this._n(In(h,this.value)):null!==h&&Fs(this.value)===Fs(h)&&this._n(In(h,this.value))},o.prototype._n=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return fe()}},o.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},o}(function(){}),fo=function(c){function o(l,h,f){var g=this;return(g=c.call(this,l,h,f)||this).key=te.C(f.referenceValue),g}return M.__extends(o,c),o.prototype.matches=function(l){var h=te.i(l.key,this.key);return this._n(h)},o}(on),Zn=function(c){function o(l,h){var f=this;return(f=c.call(this,l,"in",h)||this).keys=Dn(0,h),f}return M.__extends(o,c),o.prototype.matches=function(l){return this.keys.some(function(h){return h.isEqual(l.key)})},o}(on),Us=function(c){function o(l,h){var f=this;return(f=c.call(this,l,"not-in",h)||this).keys=Dn(0,h),f}return M.__extends(o,c),o.prototype.matches=function(l){return!this.keys.some(function(h){return h.isEqual(l.key)})},o}(on);function Dn(c,o){var l;return((null===(l=o.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(h){return te.C(h.referenceValue)})}var ya=function(c){function o(l,h){return c.call(this,l,"array-contains",h)||this}return M.__extends(o,c),o.prototype.matches=function(l){var h=l.field(this.field);return Oo(h)&&ms(h.arrayValue,this.value)},o}(on),Hs=function(c){function o(l,h){return c.call(this,l,"in",h)||this}return M.__extends(o,c),o.prototype.matches=function(l){var h=l.field(this.field);return null!==h&&ms(this.value.arrayValue,h)},o}(on),pt=function(c){function o(l,h){return c.call(this,l,"not-in",h)||this}return M.__extends(o,c),o.prototype.matches=function(l){if(ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var h=l.field(this.field);return null!==h&&!ms(this.value.arrayValue,h)},o}(on),ml=function(c){function o(l,h){return c.call(this,l,"array-contains-any",h)||this}return M.__extends(o,c),o.prototype.matches=function(l){var h=this,f=l.field(this.field);return!(!Oo(f)||!f.arrayValue.values)&&f.arrayValue.values.some(function(g){return ms(h.value.arrayValue,g)})},o}(on),Si=function(c,o){this.position=c,this.before=o};function Vo(c){return(c.before?"b":"a")+":"+c.position.map(function(o){return Zi(o)}).join(",")}function po(c,o,l){for(var h=0,f=0;f<c.position.length;f++){var g=o[f],v=c.position[f];if(h=g.field.p()?te.i(te.C(v.referenceValue),l.key):In(v,l.field(g.field)),"desc"===g.dir&&(h*=-1),0!==h)break}return c.before?h<=0:h<0}function Ii(c,o){if(null===c)return null===o;if(null===o||c.before!==o.before||c.position.length!==o.position.length)return!1;for(var l=0;l<c.position.length;l++)if(!ps(c.position[l],o.position[l]))return!1;return!0}var zr=function(c,o){void 0===o&&(o="asc"),this.field=c,this.dir=o};function qs(c,o,l){var f,v,b,E,h=c.field.p()?te.i(o.key,l.key):(v=l,b=o.field(f=c.field),E=v.field(f),null!==b&&null!==E?In(b,E):fe());switch(c.dir){case"asc":return h;case"desc":return-1*h;default:return fe()}}function An(c,o){return c.dir===o.dir&&c.field.isEqual(o.field)}var Et=function(){var c=this;this.promise=new Promise(function(o,l){c.resolve=o,c.reject=l})},yu=function(){function c(o,l,h,f,g){void 0===h&&(h=1e3),void 0===f&&(f=1.5),void 0===g&&(g=6e4),this.fn=o,this.dn=l,this.wn=h,this.mn=f,this.Tn=g,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return c.prototype.reset=function(){this.En=0},c.prototype.Rn=function(){this.En=this.Tn},c.prototype.gn=function(o){var l=this;this.cancel();var h=Math.floor(this.En+this.Pn()),f=Math.max(0,Date.now()-this.An),g=Math.max(0,h-f);g>0&&ee("ExponentialBackoff","Backing off for "+g+" ms (base delay: "+this.En+" ms, delay with jitter: "+h+" ms, last attempt: "+f+" ms ago)"),this.In=this.fn.yn(this.dn,g,function(){return l.An=Date.now(),o()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},c.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},c.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},c.prototype.Pn=function(){return(Math.random()-.5)*this.En},c}(),ue=function(){function c(o){var l=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,o(function(h){l.Sn=!0,l.result=h,l.bn&&l.bn(h)},function(h){l.Sn=!0,l.error=h,l.vn&&l.vn(h)})}return c.prototype.catch=function(o){return this.next(void 0,o)},c.prototype.next=function(o,l){var h=this;return this.Dn&&fe(),this.Dn=!0,this.Sn?this.error?this.Cn(l,this.error):this.Nn(o,this.result):new c(function(f,g){h.bn=function(v){h.Nn(o,v).next(f,g)},h.vn=function(v){h.Cn(l,v).next(f,g)}})},c.prototype.Fn=function(){var o=this;return new Promise(function(l,h){o.next(l,h)})},c.prototype.xn=function(o){try{var l=o();return l instanceof c?l:c.resolve(l)}catch(h){return c.reject(h)}},c.prototype.Nn=function(o,l){return o?this.xn(function(){return o(l)}):c.resolve(l)},c.prototype.Cn=function(o,l){return o?this.xn(function(){return o(l)}):c.reject(l)},c.resolve=function(o){return new c(function(l,h){l(o)})},c.reject=function(o){return new c(function(l,h){h(o)})},c.$n=function(o){return new c(function(l,h){var f=0,g=0,v=!1;o.forEach(function(b){++f,b.next(function(){++g,v&&g===f&&l()},function(E){return h(E)})}),v=!0,g===f&&l()})},c.kn=function(o){for(var l=c.resolve(!1),h=function(v){l=l.next(function(b){return b?c.resolve(b):v()})},f=0,g=o;f<g.length;f++)h(g[f]);return l},c.forEach=function(o,l){var h=this,f=[];return o.forEach(function(g,v){f.push(l.call(h,g,v))}),this.$n(f)},c}(),Ti=function(){function c(o,l,h){this.name=o,this.version=l,this.Mn=h,12.2===c.On(ie.getUA())&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(o){return ee("SimpleDb","Removing database:",o),Bo(window.indexedDB.deleteDatabase(o)).Fn()},c.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(c.Bn())return!0;var o=ie.getUA(),l=c.On(o),h=0<l&&l<10,f=c.qn(o),g=0<f&&f<4.5;return!(o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0||o.indexOf("Edge/")>0||h||g)},c.Bn=function(){var o;return"undefined"!=typeof process&&"YES"===(null===(o=process.env)||void 0===o?void 0:o.Un)},c.Qn=function(o,l){return o.store(l)},c.On=function(o){var l=o.match(/i(?:phone|pad|pod) os ([\d_]+)/i),h=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(h)},c.qn=function(o){var l=o.match(/Android ([\d.]+)/i),h=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(h)},c.prototype.Wn=function(o){return M.__awaiter(this,void 0,void 0,function(){var l,h=this;return M.__generator(this,function(f){switch(f.label){case 0:return this.db?[3,2]:(ee("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(g,v){var b=indexedDB.open(h.name,h.version);b.onsuccess=function(E){g(E.target.result)},b.onblocked=function(){v(new mo(o,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=function(E){var S=E.target.error;v("VersionError"===S.name?new H(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mo(o,S))},b.onupgradeneeded=function(E){ee("SimpleDb",'Database "'+h.name+'" requires upgrade from version:',E.oldVersion),h.Mn.createOrUpgrade(E.target.result,b.transaction,E.oldVersion,h.version).next(function(){ee("SimpleDb","Database upgrade to version "+h.version+" complete")})}})]);case 1:l.db=f.sent(),f.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(g){return h.jn(g)}),this.db)]}})})},c.prototype.Kn=function(o){this.jn=o,this.db&&(this.db.onversionchange=function(l){return o(l)})},c.prototype.runTransaction=function(o,l,h,f){return M.__awaiter(this,void 0,void 0,function(){var g,v,b,E,S;return M.__generator(this,function(A){switch(A.label){case 0:g="readonly"===l,v=0,b=function(){var R,P,V,z,J;return M.__generator(this,function(Ae){switch(Ae.label){case 0:++v,Ae.label=1;case 1:return Ae.trys.push([1,4,,5]),[4,E.Wn(o)];case 2:return E.db=Ae.sent(),R=va.open(E.db,o,g?"readonly":"readwrite",h),P=f(R).catch(function(De){return R.abort(De),ue.reject(De)}).Fn(),V={},P.catch(function(){}),[4,R.Gn];case 3:return[2,(V.value=(Ae.sent(),P),V)];case 4:return ee("SimpleDb","Transaction failed with error:",(z=Ae.sent()).message,"Retrying:",J="FirebaseError"!==z.name&&v<3),E.close(),J?[3,5]:[2,{value:Promise.reject(z)}];case 5:return[2]}})},E=this,A.label=1;case 1:return[5,b()];case 2:if("object"==typeof(S=A.sent()))return[2,S.value];A.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),Ar=function(){function c(o){this.zn=o,this.Hn=!1,this.Yn=null}return Object.defineProperty(c.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(o){this.zn=o},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Hn=!0},c.prototype.Xn=function(o){this.Yn=o},c.prototype.delete=function(){return Bo(this.zn.delete())},c}(),mo=function(c){function o(l,h){var f=this;return(f=c.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+h)||this).name="IndexedDbTransactionError",f}return M.__extends(o,c),o}(H);function $r(c){return"IndexedDbTransactionError"===c.name}var va=function(){function c(o,l){var h=this;this.action=o,this.transaction=l,this.aborted=!1,this.Zn=new Et,this.transaction.oncomplete=function(){h.Zn.resolve()},this.transaction.onabort=function(){l.error?h.Zn.reject(new mo(o,l.error)):h.Zn.resolve()},this.transaction.onerror=function(f){var g=w(f.target.error);h.Zn.reject(new mo(o,g))}}return c.open=function(o,l,h,f){try{return new c(l,o.transaction(f,h))}catch(g){throw new mo(l,g)}},Object.defineProperty(c.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(o){o&&this.Zn.reject(o),this.aborted||(ee("SimpleDb","Aborting transaction:",o?o.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(o){var l=this.transaction.objectStore(o);return new Wr(l)},c}(),Wr=function(){function c(o){this.store=o}return c.prototype.put=function(o,l){var h;return void 0!==l?(ee("SimpleDb","PUT",this.store.name,o,l),h=this.store.put(l,o)):(ee("SimpleDb","PUT",this.store.name,"<auto-key>",o),h=this.store.put(o)),Bo(h)},c.prototype.add=function(o){return ee("SimpleDb","ADD",this.store.name,o,o),Bo(this.store.add(o))},c.prototype.get=function(o){var l=this;return Bo(this.store.get(o)).next(function(h){return void 0===h&&(h=null),ee("SimpleDb","GET",l.store.name,o,h),h})},c.prototype.delete=function(o){return ee("SimpleDb","DELETE",this.store.name,o),Bo(this.store.delete(o))},c.prototype.count=function(){return ee("SimpleDb","COUNT",this.store.name),Bo(this.store.count())},c.prototype.ts=function(o,l){var h=this.cursor(this.options(o,l)),f=[];return this.es(h,function(g,v){f.push(v)}).next(function(){return f})},c.prototype.ns=function(o,l){ee("SimpleDb","DELETE ALL",this.store.name);var h=this.options(o,l);h.ss=!1;var f=this.cursor(h);return this.es(f,function(g,v,b){return b.delete()})},c.prototype.rs=function(o,l){var h;l?h=o:(h={},l=o);var f=this.cursor(h);return this.es(f,l)},c.prototype.os=function(o){var l=this.cursor({});return new ue(function(h,f){l.onerror=function(g){var v=w(g.target.error);f(v)},l.onsuccess=function(g){var v=g.target.result;v?o(v.primaryKey,v.value).next(function(b){b?v.continue():h()}):h()}})},c.prototype.es=function(o,l){var h=[];return new ue(function(f,g){o.onerror=function(v){g(v.target.error)},o.onsuccess=function(v){var b=v.target.result;if(b){var E=new Ar(b),S=l(b.primaryKey,b.value,E);if(S instanceof ue){var A=S.catch(function(R){return E.done(),ue.reject(R)});h.push(A)}E.Sn?f():null===E.Jn?b.continue():b.continue(E.Jn)}else f()}}).next(function(){return ue.$n(h)})},c.prototype.options=function(o,l){var h=void 0;return void 0!==o&&("string"==typeof o?h=o:l=o),{index:h,range:l}},c.prototype.cursor=function(o){var l="next";if(o.reverse&&(l="prev"),o.index){var h=this.store.index(o.index);return o.ss?h.openKeyCursor(o.range,l):h.openCursor(o.range,l)}return this.store.openCursor(o.range,l)},c}();function Bo(c){return new ue(function(o,l){c.onsuccess=function(h){o(h.target.result)},c.onerror=function(h){var f=w(h.target.error);l(f)}})}var m=!1;function w(c){var o=Ti.On(ie.getUA());if(o>=12.2&&o<13){var l="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(l)>=0){var h=new H("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return m||(m=!0,setTimeout(function(){throw h},0)),h}}return c}function D(){return"undefined"!=typeof window?window:null}function T(){return"undefined"!=typeof document?document:null}var N=function(){function c(o,l,h,f,g){this.cs=o,this.dn=l,this.us=h,this.op=f,this.hs=g,this.ls=new Et,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(v){})}return c._s=function(o,l,h,f,g){var v=new c(o,l,Date.now()+h,f,g);return v.start(h),v},c.prototype.start=function(o){var l=this;this.fs=setTimeout(function(){return l.ds()},o)},c.prototype.pn=function(){return this.ds()},c.prototype.cancel=function(o){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new H(O.CANCELLED,"Operation cancelled"+(o?": "+o:""))))},c.prototype.ds=function(){var o=this;this.cs.ws(function(){return null!==o.fs?(o.clearTimeout(),o.op().then(function(l){return o.ls.resolve(l)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},c}(),G=function(){function c(){var o=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new yu(this,"async_queue_retry"),this.Vs=function(){var h=T();h&&ee("AsyncQueue","Visibility state changed to  ",h.visibilityState),o.ys.Vn()};var l=T();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(c.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),c.prototype.ws=function(o){this.enqueue(o)},c.prototype.bs=function(o){this.vs(),this.Ss(o)},c.prototype.Ds=function(){if(!this.Is){this.Is=!0;var o=T();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Vs)}},c.prototype.enqueue=function(o){return this.vs(),this.Is?new Promise(function(l){}):this.Ss(o)},c.prototype.Cs=function(o){var l=this;this.ws(function(){return l.Es.push(o),l.Ns()})},c.prototype.Ns=function(){return M.__awaiter(this,void 0,void 0,function(){var o,l=this;return M.__generator(this,function(h){switch(h.label){case 0:if(0===this.Es.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return h.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!$r(o=h.sent()))throw o;return ee("AsyncQueue","Operation failed with retryable error: "+o),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return l.Ns()}),h.label=5;case 5:return[2]}})})},c.prototype.Ss=function(o){var l=this,h=this.Ts.then(function(){return l.gs=!0,o().catch(function(f){throw l.Rs=f,l.gs=!1,Ze("INTERNAL UNHANDLED ERROR: ",(v=(g=f).message||"",g.stack&&(v=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),v)),f;var g,v}).then(function(f){return l.gs=!1,f})});return this.Ts=h,h},c.prototype.yn=function(o,l,h){var f=this;this.vs(),this.Ps.indexOf(o)>-1&&(l=0);var g=N._s(this,o,l,h,function(v){return f.Fs(v)});return this.As.push(g),g},c.prototype.vs=function(){this.Rs&&fe()},c.prototype.xs=function(){},c.prototype.$s=function(){return M.__awaiter(this,void 0,void 0,function(){var o;return M.__generator(this,function(l){switch(l.label){case 0:return[4,o=this.Ts];case 1:l.sent(),l.label=2;case 2:if(o!==this.Ts)return[3,0];l.label=3;case 3:return[2]}})})},c.prototype.ks=function(o){for(var l=0,h=this.As;l<h.length;l++)if(h[l].dn===o)return!0;return!1},c.prototype.Ms=function(o){var l=this;return this.$s().then(function(){l.As.sort(function(v,b){return v.us-b.us});for(var h=0,f=l.As;h<f.length;h++){var g=f[h];if(g.pn(),"all"!==o&&g.dn===o)break}return l.$s()})},c.prototype.Os=function(o){this.Ps.push(o)},c.prototype.Fs=function(o){var l=this.As.indexOf(o);this.As.splice(l,1)},c}();function ye(c,o){if(Ze("AsyncQueue",o+": "+c),$r(c))return new H(O.UNAVAILABLE,o+": "+c);throw c}var Pt=function(){this.Ls=void 0,this.listeners=[]},kt=function(){this.Bs=new Sn(function(c){return Hi(c)},Lo),this.onlineState="Unknown",this.qs=new Set};function fi(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h,f,g,v,b,E;return M.__generator(this,function(S){switch(S.label){case 0:if(l=ae(c),f=!1,(g=l.Bs.get(h=o.query))||(f=!0,g=new Pt),!f)return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),v=g,[4,l.Us(h)];case 2:return v.Ls=S.sent(),[3,4];case 3:return b=S.sent(),E=ye(b,"Initialization of query '"+ve(o.query)+"' failed"),[2,void o.onError(E)];case 4:return l.Bs.set(h,g),g.listeners.push(o),o.Qs(l.onlineState),g.Ls&&o.Ws(g.Ls)&&gl(l),[2]}})})}function Mr(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h,f,g,v;return M.__generator(this,function(b){return l=ae(c),f=!1,(g=l.Bs.get(h=o.query))&&(v=g.listeners.indexOf(o))>=0&&(g.listeners.splice(v,1),f=0===g.listeners.length),f?[2,(l.Bs.delete(h),l.js(h))]:[2]})})}function Kr(c,o){for(var l=ae(c),h=!1,f=0,g=o;f<g.length;f++){var v=g[f],E=l.Bs.get(v.query);if(E){for(var S=0,A=E.listeners;S<A.length;S++)A[S].Ws(v)&&(h=!0);E.Ls=v}}h&&gl(l)}function td(c,o,l){var h=ae(c),f=h.Bs.get(o);if(f)for(var g=0,v=f.listeners;g<v.length;g++)v[g].onError(l);h.Bs.delete(o)}function gl(c){c.qs.forEach(function(o){o.next()})}var yl=function(){function c(o,l,h){this.query=o,this.Ks=l,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=h||{}}return c.prototype.Ws=function(o){if(!this.options.includeMetadataChanges){for(var l=[],h=0,f=o.docChanges;h<f.length;h++){var g=f[h];3!==g.type&&l.push(g)}o=new Sr(o.query,o.docs,o.Qt,l,o.Wt,o.fromCache,o.jt,!0)}var v=!1;return this.Gs?this.Hs(o)&&(this.Ks.next(o),v=!0):this.Ys(o,this.onlineState)&&(this.Js(o),v=!0),this.zs=o,v},c.prototype.onError=function(o){this.Ks.error(o)},c.prototype.Qs=function(o){this.onlineState=o;var l=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,o)&&(this.Js(this.zs),l=!0),l},c.prototype.Ys=function(o,l){return!o.fromCache||!(this.options.Xs&&"Offline"!==l||o.docs.m()&&"Offline"!==l)},c.prototype.Hs=function(o){return o.docChanges.length>0||!!(o.jt||this.zs&&this.zs.hasPendingWrites!==o.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.Js=function(o){o=Sr.Gt(o.query,o.docs,o.Wt,o.fromCache),this.Gs=!0,this.Ks.next(o)},c}(),kr=function(){function c(o){this.uid=o}return c.prototype.Zs=function(){return null!=this.uid},c.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(o){return o.uid===this.uid},c}();kr.UNAUTHENTICATED=new kr(null),kr.ei=new kr("google-credentials-uid"),kr.ni=new kr("first-party-uid");var gr=function(){function c(o,l){var h=this;this.previousValue=o,l&&(l.si=function(f){return h.ii(f)},this.ri=function(f){return l.oi(f)})}return c.prototype.ii=function(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue},c.prototype.next=function(){var o=++this.previousValue;return this.ri&&this.ri(o),o},c}();function tp(c,o){return"firestore_clients_"+c+"_"+o}function nd(c,o,l){var h="firestore_mutations_"+c+"_"+l;return o.Zs()&&(h+="_"+o.uid),h}function Yg(c,o){return"firestore_targets_"+c+"_"+o}gr.ai=-1;var pw=function(){function c(o,l,h,f){this.user=o,this.batchId=l,this.state=h,this.error=f}return c.ci=function(o,l,h){var f=JSON.parse(h),g="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error),v=void 0;return g&&f.error&&(g="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(v=new H(f.error.code,f.error.message)),g?new c(o,l,f.state,v):(Ze("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+h),null)},c.prototype.ui=function(){var o={state:this.state,updateTimeMs:Date.now()};return this.error&&(o.error={code:this.error.code,message:this.error.message}),JSON.stringify(o)},c}(),Xg=function(){function c(o,l,h){this.targetId=o,this.state=l,this.error=h}return c.ci=function(o,l){var h=JSON.parse(l),f="object"==typeof h&&-1!==["not-current","current","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error),g=void 0;return f&&h.error&&(f="string"==typeof h.error.message&&"string"==typeof h.error.code)&&(g=new H(h.error.code,h.error.message)),f?new c(o,h.state,g):(Ze("SharedClientState","Failed to parse target state for ID '"+o+"': "+l),null)},c.prototype.ui=function(){var o={state:this.state,updateTimeMs:Date.now()};return this.error&&(o.error={code:this.error.code,message:this.error.message}),JSON.stringify(o)},c}(),_a=function(){function c(o,l){this.clientId=o,this.activeTargetIds=l}return c.ci=function(o,l){for(var h=JSON.parse(l),f="object"==typeof h&&h.activeTargetIds instanceof Array,g=ru(),v=0;f&&v<h.activeTargetIds.length;++v)f=q(h.activeTargetIds[v]),g=g.add(h.activeTargetIds[v]);return f?new c(o,g):(Ze("SharedClientState","Failed to parse client data for instance '"+o+"': "+l),null)},c}(),mw=function(){function c(o,l){this.clientId=o,this.onlineState=l}return c.ci=function(o){var l=JSON.parse(o);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new c(l.clientId,l.onlineState):(Ze("SharedClientState","Failed to parse online state: "+o),null)},c}(),qi=function(){function c(){this.activeTargetIds=ru()}return c.prototype.hi=function(o){this.activeTargetIds=this.activeTargetIds.add(o)},c.prototype.li=function(o){this.activeTargetIds=this.activeTargetIds.delete(o)},c.prototype.ui=function(){var o={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(o)},c}(),id=function(){function c(o,l,h,f,g){this.window=o,this.fn=l,this.persistenceKey=h,this._i=f,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Un(Ke),this.Ei=!1,this.Ii=[];var v=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.Ai=tp(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new qi),this.gi=new RegExp("^firestore_clients_"+v+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+v+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+v+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return c.Ln=function(o){return!(!o||!o.localStorage)},c.prototype.start=function(){return M.__awaiter(this,void 0,void 0,function(){var o,l,h,f,g,v,b,E,S,A,P=this;return M.__generator(this,function(V){switch(V.label){case 0:return[4,this.fi.pi()];case 1:for(o=V.sent(),l=0,h=o;l<h.length;l++)(f=h[l])!==this._i&&(g=this.getItem(tp(this.persistenceKey,f)))&&(v=_a.ci(f,g))&&(this.Ti=this.Ti.ot(v.clientId,v));for(this.bi(),(b=this.storage.getItem(this.Vi))&&(E=this.vi(b))&&this.Si(E),S=0,A=this.Ii;S<A.length;S++)this.mi(A[S]);return this.Ii=[],this.window.addEventListener("unload",function(){return P.Di()}),this.Ei=!0,[2]}})})},c.prototype.oi=function(o){this.setItem(this.Ri,JSON.stringify(o))},c.prototype.Ci=function(){return this.Ni(this.Ti)},c.prototype.Fi=function(o){var l=!1;return this.Ti.forEach(function(h,f){f.activeTargetIds.has(o)&&(l=!0)}),l},c.prototype.xi=function(o){this.$i(o,"pending")},c.prototype.ki=function(o,l,h){this.$i(o,l,h),this.Mi(o)},c.prototype.Oi=function(o){var l="not-current";if(this.Fi(o)){var h=this.storage.getItem(Yg(this.persistenceKey,o));if(h){var f=Xg.ci(o,h);f&&(l=f.state)}}return this.Li.hi(o),this.bi(),l},c.prototype.Bi=function(o){this.Li.li(o),this.bi()},c.prototype.qi=function(o){return this.Li.activeTargetIds.has(o)},c.prototype.Ui=function(o){this.removeItem(Yg(this.persistenceKey,o))},c.prototype.Qi=function(o,l,h){this.Wi(o,l,h)},c.prototype.ji=function(o,l,h){var f=this;l.forEach(function(g){f.Mi(g)}),this.currentUser=o,h.forEach(function(g){f.xi(g)})},c.prototype.Ki=function(o){this.Gi(o)},c.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},c.prototype.getItem=function(o){var l=this.storage.getItem(o);return ee("SharedClientState","READ",o,l),l},c.prototype.setItem=function(o,l){ee("SharedClientState","SET",o,l),this.storage.setItem(o,l)},c.prototype.removeItem=function(o){ee("SharedClientState","REMOVE",o),this.storage.removeItem(o)},c.prototype.mi=function(o){var l=this,h=o;if(h.storageArea===this.storage){if(ee("SharedClientState","EVENT",h.key,h.newValue),h.key===this.Ai)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return M.__awaiter(l,void 0,void 0,function(){var f,g,v,b,E,S;return M.__generator(this,function(A){if(this.Ei){if(null!==h.key)if(this.gi.test(h.key)){if(null==h.newValue)return f=this.zi(h.key),[2,this.Hi(f,null)];if(g=this.Yi(h.key,h.newValue))return[2,this.Hi(g.clientId,g)]}else if(this.Pi.test(h.key)){if(null!==h.newValue&&(v=this.Ji(h.key,h.newValue)))return[2,this.Xi(v)]}else if(this.yi.test(h.key)){if(null!==h.newValue&&(b=this.Zi(h.key,h.newValue)))return[2,this.tr(b)]}else if(h.key===this.Vi){if(null!==h.newValue&&(E=this.vi(h.newValue)))return[2,this.Si(E)]}else h.key===this.Ri&&(S=function(R){var P=gr.ai;if(null!=R)try{var V=JSON.parse(R);be("number"==typeof V),P=V}catch(z){Ze("SharedClientState","Failed to read sequence number from WebStorage",z)}return P}(h.newValue))!==gr.ai&&this.si(S)}else this.Ii.push(h);return[2]})})})}},Object.defineProperty(c.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),c.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},c.prototype.$i=function(o,l,h){var f=new pw(this.currentUser,o,l,h),g=nd(this.persistenceKey,this.currentUser,o);this.setItem(g,f.ui())},c.prototype.Mi=function(o){var l=nd(this.persistenceKey,this.currentUser,o);this.removeItem(l)},c.prototype.Gi=function(o){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:o}))},c.prototype.Wi=function(o,l,h){var f=Yg(this.persistenceKey,o),g=new Xg(o,l,h);this.setItem(f,g.ui())},c.prototype.zi=function(o){var l=this.gi.exec(o);return l?l[1]:null},c.prototype.Yi=function(o,l){var h=this.zi(o);return _a.ci(h,l)},c.prototype.Ji=function(o,l){var h=this.Pi.exec(o),f=Number(h[1]);return pw.ci(new kr(void 0!==h[2]?h[2]:null),f,l)},c.prototype.Zi=function(o,l){var h=this.yi.exec(o),f=Number(h[1]);return Xg.ci(f,l)},c.prototype.vi=function(o){return mw.ci(o)},c.prototype.Xi=function(o){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(l){return o.user.uid===this.currentUser.uid?[2,this.fi.er(o.batchId,o.state,o.error)]:(ee("SharedClientState","Ignoring mutation for non-active user "+o.user.uid),[2])})})},c.prototype.tr=function(o){return this.fi.nr(o.targetId,o.state,o.error)},c.prototype.Hi=function(o,l){var h=this,f=l?this.Ti.ot(o,l):this.Ti.remove(o),g=this.Ni(this.Ti),v=this.Ni(f),b=[],E=[];return v.forEach(function(S){g.has(S)||b.push(S)}),g.forEach(function(S){v.has(S)||E.push(S)}),this.fi.sr(b,E).then(function(){h.Ti=f})},c.prototype.Si=function(o){this.Ti.get(o.clientId)&&this.di(o.onlineState)},c.prototype.Ni=function(o){var l=ru();return o.forEach(function(h,f){l=l.kt(f.activeTargetIds)}),l},c}(),np=function(){function c(){this.ir=new qi,this.rr={},this.di=null,this.si=null}return c.prototype.xi=function(o){},c.prototype.ki=function(o,l,h){},c.prototype.Oi=function(o){return this.ir.hi(o),this.rr[o]||"not-current"},c.prototype.Qi=function(o,l,h){this.rr[o]=l},c.prototype.Bi=function(o){this.ir.li(o)},c.prototype.qi=function(o){return this.ir.activeTargetIds.has(o)},c.prototype.Ui=function(o){delete this.rr[o]},c.prototype.Ci=function(){return this.ir.activeTargetIds},c.prototype.Fi=function(o){return this.ir.activeTargetIds.has(o)},c.prototype.start=function(){return this.ir=new qi,Promise.resolve()},c.prototype.ji=function(o,l,h){},c.prototype.Ki=function(o){},c.prototype.Di=function(){},c.prototype.oi=function(o){},c}(),ip=function(){function c(o,l,h,f){this.batchId=o,this.ar=l,this.baseMutations=h,this.mutations=f}return c.prototype.cr=function(o,l,h){for(var f=h.ur,g=0;g<this.mutations.length;g++){var v=this.mutations[g];v.key.isEqual(o)&&(l=Wg(v,l,f[g]))}return l},c.prototype.hr=function(o,l){for(var h=0,f=this.baseMutations;h<f.length;h++){var g=f[h];g.key.isEqual(o)&&(l=Wt(g,l,l,this.ar))}for(var v=l,b=0,E=this.mutations;b<E.length;b++){var S=E[b];S.key.isEqual(o)&&(l=Wt(S,l,v,this.ar))}return l},c.prototype.lr=function(o){var l=this,h=o;return this.mutations.forEach(function(f){var g=l.hr(f.key,o.get(f.key));g&&(h=h.ot(f.key,g))}),h},c.prototype.keys=function(){return this.mutations.reduce(function(o,l){return o.add(l.key)},fn())},c.prototype.isEqual=function(o){return this.batchId===o.batchId&&Xt(this.mutations,o.mutations,function(l,h){return ed(l,h)})&&Xt(this.baseMutations,o.baseMutations,function(l,h){return ed(l,h)})},c}(),Qg=function(){function c(o,l,h,f){this.batch=o,this._r=l,this.ur=h,this.dr=f}return c.from=function(o,l,h){be(o.mutations.length===h.length);for(var f=hc,g=o.mutations,v=0;v<g.length;v++)f=f.ot(g[v].key,h[v].version);return new c(o,l,h,f)},c}(),rp=function(){function c(){this.wr=new Sn(function(o){return o.toString()},function(o,l){return o.isEqual(l)}),this.mr=!1}return Object.defineProperty(c.prototype,"readTime",{get:function(){return this.Tr},set:function(o){this.Tr=o},enumerable:!1,configurable:!0}),c.prototype.Er=function(o,l){this.Ir(),this.readTime=l,this.wr.set(o.key,o)},c.prototype.Ar=function(o,l){this.Ir(),l&&(this.readTime=l),this.wr.set(o,null)},c.prototype.Rr=function(o,l){this.Ir();var h=this.wr.get(l);return void 0!==h?ue.resolve(h):this.gr(o,l)},c.prototype.getEntries=function(o,l){return this.Pr(o,l)},c.prototype.apply=function(o){return this.Ir(),this.mr=!0,this.yr(o)},c.prototype.Ir=function(){},c}(),Zg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rd=function(){function c(){this.Vr=[]}return c.prototype.pr=function(o){this.Vr.push(o)},c.prototype.br=function(){this.Vr.forEach(function(o){return o()})},c}(),Jg=function(){function c(o,l,h){this.vr=o,this.Sr=l,this.Dr=h}return c.prototype.Cr=function(o,l){var h=this;return this.Sr.Nr(o,l).next(function(f){return h.Fr(o,l,f)})},c.prototype.Fr=function(o,l,h){return this.vr.Rr(o,l).next(function(f){for(var g=0,v=h;g<v.length;g++)f=v[g].hr(l,f);return f})},c.prototype.$r=function(o,l,h){var f=Ei();return l.forEach(function(g,v){for(var b=0,E=h;b<E.length;b++)v=E[b].hr(g,v);f=f.ot(g,v)}),f},c.prototype.kr=function(o,l){var h=this;return this.vr.getEntries(o,l).next(function(f){return h.Mr(o,f)})},c.prototype.Mr=function(o,l){var h=this;return this.Sr.Or(o,l).next(function(f){var g=h.$r(o,l,f),v=Ns();return g.forEach(function(b,E){E||(E=new nt(b,It.min())),v=v.ot(b,E)}),v})},c.prototype.Lr=function(o,l,h){return te.F((f=l).path)&&null===f.collectionGroup&&0===f.filters.length?this.Br(o,l.path):ma(l)?this.qr(o,l,h):this.Ur(o,l,h);var f},c.prototype.Br=function(o,l){return this.Cr(o,new te(l)).next(function(h){var f=ko();return h instanceof Ht&&(f=f.ot(h.key,h)),f})},c.prototype.qr=function(o,l,h){var f=this,g=l.collectionGroup,v=ko();return this.Dr.Qr(o,g).next(function(b){return ue.forEach(b,function(E){var A,R,S=(A=l,R=E.child(g),new _s(R,null,A.on.slice(),A.filters.slice(),A.limit,A.an,A.startAt,A.endAt));return f.Ur(o,S,h).next(function(A){A.forEach(function(R,P){v=v.ot(R,P)})})}).next(function(){return v})})},c.prototype.Ur=function(o,l,h){var f,g,v=this;return this.vr.Lr(o,l,h).next(function(b){return f=b,v.Sr.Wr(o,l)}).next(function(b){return v.jr(o,g=b,f).next(function(E){f=E;for(var S=0,A=g;S<A.length;S++)for(var R=A[S],P=0,V=R.mutations;P<V.length;P++){var z=V[P],J=z.key,Ae=f.get(J),De=Wt(z,Ae,Ae,R.ar);f=De instanceof Ht?f.ot(J,De):f.remove(J)}})}).next(function(){return f.forEach(function(b,E){ft(l,E)||(f=f.remove(b))}),f})},c.prototype.jr=function(o,l,h){for(var f=fn(),g=0,v=l;g<v.length;g++)for(var b=0,E=v[g].mutations;b<E.length;b++){var S=E[b];S instanceof mr&&null===h.get(S.key)&&(f=f.add(S.key))}var A=h;return this.vr.getEntries(o,f).next(function(R){return R.forEach(function(P,V){null!==V&&V instanceof Ht&&(A=A.ot(P,V))}),A})},c}(),Es=function(){function c(o,l,h,f){this.targetId=o,this.fromCache=l,this.Kr=h,this.Gr=f}return c.zr=function(o,l){for(var h=fn(),f=fn(),g=0,v=l.docChanges;g<v.length;g++){var b=v[g];switch(b.type){case 0:h=h.add(b.doc.key);break;case 1:f=f.add(b.doc.key)}}return new c(o,l.fromCache,h,f)},c}();function sd(c,o){var h=c[1],g=o[1],v=Ke(c[0],o[0]);return 0===v?Ke(h,g):v}var gw=function(){function c(o){this.Hr=o,this.buffer=new Hn(sd),this.Yr=0}return c.prototype.Jr=function(){return++this.Yr},c.prototype.Xr=function(o){var l=[o,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(l);else{var h=this.buffer.last();sd(l,h)<0&&(this.buffer=this.buffer.delete(h).add(l))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),od={Zr:!1,eo:0,no:0,so:0},si=function(){function c(o,l,h){this.io=o,this.ro=l,this.oo=h}return c.ao=function(o){return new c(o,c.co,c.uo)},c}();si.ho=-1,si.lo=1048576,si._o=41943040,si.co=10,si.uo=1e3,si.fo=new si(si._o,si.co,si.uo),si.do=new si(si.ho,0,0);var yw=function(){function c(o,l){this.wo=o,this.cs=l,this.mo=!1,this.To=null}return c.prototype.start=function(o){this.wo.params.io!==si.ho&&this.Eo(o)},c.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(c.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),c.prototype.Eo=function(o){var l=this,h=this.mo?3e5:6e4;ee("LruGarbageCollector","Garbage collection scheduled in "+h+"ms"),this.To=this.cs.yn("lru_garbage_collection",h,function(){return M.__awaiter(l,void 0,void 0,function(){var f;return M.__generator(this,function(g){switch(g.label){case 0:this.To=null,this.mo=!0,g.label=1;case 1:return g.trys.push([1,3,,7]),[4,o.Io(this.wo)];case 2:return g.sent(),[3,7];case 3:return $r(f=g.sent())?(ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",f),[3,6]):[3,4];case 4:return[4,Sl(f)];case 5:g.sent(),g.label=6;case 6:return[3,7];case 7:return[4,this.Eo(o)];case 8:return g.sent(),[2]}})})})},c}(),sp=function(){function c(o,l){this.Ao=o,this.params=l}return c.prototype.Ro=function(o,l){return this.Ao.Po(o).next(function(h){return Math.floor(l/100*h)})},c.prototype.yo=function(o,l){var h=this;if(0===l)return ue.resolve(gr.ai);var f=new gw(l);return this.Ao.Ce(o,function(g){return f.Xr(g.sequenceNumber)}).next(function(){return h.Ao.Vo(o,function(g){return f.Xr(g)})}).next(function(){return f.maxValue})},c.prototype.po=function(o,l,h){return this.Ao.po(o,l,h)},c.prototype.bo=function(o,l){return this.Ao.bo(o,l)},c.prototype.vo=function(o,l){var h=this;return this.params.io===si.ho?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(od)):this.So(o).next(function(f){return f<h.params.io?(ee("LruGarbageCollector","Garbage collection skipped; Cache size "+f+" is lower than threshold "+h.params.io),od):h.Do(o,l)})},c.prototype.So=function(o){return this.Ao.So(o)},c.prototype.Do=function(o,l){var h,f,g,v,b,E,S,A=this,R=Date.now();return this.Ro(o,this.params.ro).next(function(P){return P>A.params.oo?(ee("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+A.params.oo+" from "+P),f=A.params.oo):f=P,v=Date.now(),A.yo(o,f)}).next(function(P){return h=P,b=Date.now(),A.po(o,h,l)}).next(function(P){return g=P,E=Date.now(),A.bo(o,h)}).next(function(P){return S=Date.now(),me()<=Pe.LogLevel.DEBUG&&ee("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(v-R)+"ms\n\tDetermined least recently used "+f+" in "+(b-v)+"ms\n\tRemoved "+g+" targets in "+(E-b)+"ms\n\tRemoved "+P+" documents in "+(S-E)+"ms\nTotal Duration: "+(S-R)+"ms"),ue.resolve({Zr:!0,eo:f,no:g,so:P})})},c}();function Gs(c){for(var o="",l=0;l<c.length;l++)o.length>0&&(o=vw(o)),o=op(c.get(l),o);return vw(o)}function op(c,o){for(var l=o,h=c.length,f=0;f<h;f++){var g=c.charAt(f);switch(g){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=g}}return l}function vw(c){return c+"\x01\x01"}function ln(c){var o=c.length;if(be(o>=2),2===o)return be("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),K.P();for(var l=o-2,h=[],f="",g=0;g<o;){var v=c.indexOf("\x01",g);switch((v<0||v>l)&&fe(),c.charAt(v+1)){case"\x01":var b=c.substring(g,v),E=void 0;0===f.length?E=b:(E=f+=b,f=""),h.push(E);break;case"\x10":f+=c.substring(g,v),f+="\0";break;case"\x11":f+=c.substring(g,v+1);break;default:fe()}g=v+2}return new K(h)}var ey=function(c){this.Co=c};function ap(c,o){if(o.document)return E=!!o.hasCommittedMutations,S=Xn(c.Co,(b=o.document).name),A=Cn(b.updateTime),R=new En({mapValue:{fields:b.fields}}),new Ht(S,A,R,{hasCommittedMutations:!!E});var b,E,S,A,R;if(o.noDocument){var l=te.$(o.noDocument.path),h=yr(o.noDocument.readTime);return new nt(l,h,{hasCommittedMutations:!!o.hasCommittedMutations})}if(o.unknownDocument){var f=te.$(o.unknownDocument.path),g=yr(o.unknownDocument.version);return new gu(f,g)}return fe()}function Jn(c,o,l){var P,V,h=lp(l),f=o.key.path.h().A();if(o instanceof Ht){var g={name:da(P=c.Co,(V=o).key),fields:V.rn().mapValue.fields,updateTime:lu(P,V.version.Z())};return new an(null,null,g,o.hasCommittedMutations,h,f)}if(o instanceof nt){var b=o.key.path.A(),E=vl(o.version),S=o.hasCommittedMutations;return new an(null,new ty(b,E),null,S,h,f)}if(o instanceof gu){var A=o.key.path.A(),R=vl(o.version);return new an(new wc(A,R),null,null,!0,h,f)}return fe()}function lp(c){var o=c.Z();return[o.seconds,o.nanoseconds]}function _w(c){var o=new cn(c[0],c[1]);return It.J(o)}function vl(c){var o=c.Z();return new Cw(o.seconds,o.nanoseconds)}function yr(c){var o=new cn(c.seconds,c.nanoseconds);return It.J(o)}function vu(c,o){var l=(o.baseMutations||[]).map(function(g){return fu(c.Co,g)}),h=o.mutations.map(function(g){return fu(c.Co,g)}),f=cn.fromMillis(o.localWriteTimeMs);return new ip(o.batchId,f,l,h)}function _l(c){var o,l,h=yr(c.readTime),f=void 0!==c.lastLimboFreeSnapshotVersion?yr(c.lastLimboFreeSnapshotVersion):It.min();return void 0!==c.query.documents?(be(1===(l=c.query).documents.length),o=ri(Qn(sl(l.documents[0])))):o=Ut(c.query),new jn(o,c.targetId,0,c.lastListenSequenceNumber,h,f,Qt.fromBase64String(c.resumeToken))}function bl(c,o){var l,h=vl(o.nt),f=vl(o.lastLimboFreeSnapshotVersion);l=sn(o.target)?ep(c.Co,o.target):Di(c.Co,o.target);var g=o.resumeToken.toBase64();return new tr(o.targetId,Re(o.target),h,g,o.sequenceNumber,f,l)}var Yr=function(){function c(o,l,h,f){this.userId=o,this.serializer=l,this.Dr=h,this.No=f,this.Fo={}}return c.xo=function(o,l,h,f){return be(""!==o.uid),new c(o.Zs()?o.uid:"",l,h,f)},c.prototype.$o=function(o){var l=!0,h=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ba(o).rs({index:Zt.userMutationsIndex,range:h},function(f,g,v){l=!1,v.done()}).next(function(){return l})},c.prototype.ko=function(o,l,h,f){var g=this,v=Xr(o),b=ba(o);return b.add({}).next(function(E){be("number"==typeof E);for(var S=new ip(E,l,h,f),A=function(De,Ye,yt){var Ot=yt.baseMutations.map(function(xn){return co(De.Co,xn)}),Kt=yt.mutations.map(function(xn){return co(De.Co,xn)});return new Zt(Ye,yt.batchId,yt.ar.toMillis(),Ot,Kt)}(g.serializer,g.userId,S),R=[],P=new Hn(function(De,Ye){return Ke(De.R(),Ye.R())}),V=0,z=f;V<z.length;V++){var J=z[V],Ae=qt.key(g.userId,J.key.path,E);P=P.add(J.key.path.h()),R.push(b.put(A)),R.push(v.put(Ae,qt.PLACEHOLDER))}return P.forEach(function(De){R.push(g.Dr.Mo(o,De))}),o.pr(function(){g.Fo[E]=S.keys()}),ue.$n(R).next(function(){return S})})},c.prototype.Oo=function(o,l){var h=this;return ba(o).get(l).next(function(f){return f?(be(f.userId===h.userId),vu(h.serializer,f)):null})},c.prototype.Lo=function(o,l){var h=this;return this.Fo[l]?ue.resolve(this.Fo[l]):this.Oo(o,l).next(function(f){if(f){var g=f.keys();return h.Fo[l]=g,g}return null})},c.prototype.Bo=function(o,l){var h=this,f=l+1,g=IDBKeyRange.lowerBound([this.userId,f]),v=null;return ba(o).rs({index:Zt.userMutationsIndex,range:g},function(b,E,S){E.userId===h.userId&&(be(E.batchId>=f),v=vu(h.serializer,E)),S.done()}).next(function(){return v})},c.prototype.qo=function(o){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),h=-1;return ba(o).rs({index:Zt.userMutationsIndex,range:l,reverse:!0},function(f,g,v){h=g.batchId,v.done()}).next(function(){return h})},c.prototype.Uo=function(o){var l=this,h=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ba(o).ts(Zt.userMutationsIndex,h).next(function(f){return f.map(function(g){return vu(l.serializer,g)})})},c.prototype.Nr=function(o,l){var h=this,f=qt.prefixForPath(this.userId,l.path),g=IDBKeyRange.lowerBound(f),v=[];return Xr(o).rs({range:g},function(b,E,S){var A=b[0],P=b[2],V=ln(b[1]);if(A===h.userId&&l.path.isEqual(V))return ba(o).get(P).next(function(z){if(!z)throw fe();be(z.userId===h.userId),v.push(vu(h.serializer,z))});S.done()}).next(function(){return v})},c.prototype.Or=function(o,l){var h=this,f=new Hn(Ke),g=[];return l.forEach(function(v){var b=qt.prefixForPath(h.userId,v.path),E=IDBKeyRange.lowerBound(b),S=Xr(o).rs({range:E},function(A,R,P){var V=A[0],J=A[2],Ae=ln(A[1]);V===h.userId&&v.path.isEqual(Ae)?f=f.add(J):P.done()});g.push(S)}),ue.$n(g).next(function(){return h.Qo(o,f)})},c.prototype.Wr=function(o,l){var h=this,f=l.path,g=f.length+1,v=qt.prefixForPath(this.userId,f),b=IDBKeyRange.lowerBound(v),E=new Hn(Ke);return Xr(o).rs({range:b},function(S,A,R){var P=S[0],z=S[2],J=ln(S[1]);P===h.userId&&f.T(J)?J.length===g&&(E=E.add(z)):R.done()}).next(function(){return h.Qo(o,E)})},c.prototype.Qo=function(o,l){var h=this,f=[],g=[];return l.forEach(function(v){g.push(ba(o).get(v).next(function(b){if(null===b)throw fe();be(b.userId===h.userId),f.push(vu(h.serializer,b))}))}),ue.$n(g).next(function(){return f})},c.prototype.Wo=function(o,l){var h=this;return ad(o.jo,this.userId,l).next(function(f){return o.pr(function(){h.Ko(l.batchId)}),ue.forEach(f,function(g){return h.No.Go(o,g)})})},c.prototype.Ko=function(o){delete this.Fo[o]},c.prototype.zo=function(o){var l=this;return this.$o(o).next(function(h){if(!h)return ue.resolve();var f=IDBKeyRange.lowerBound(qt.prefixForUser(l.userId)),g=[];return Xr(o).rs({range:f},function(v,b,E){if(v[0]===l.userId){var S=ln(v[1]);g.push(S)}else E.done()}).next(function(){be(0===g.length)})})},c.prototype.Ho=function(o,l){return up(o,this.userId,l)},c.prototype.Yo=function(o){var l=this;return cp(o).get(this.userId).next(function(h){return h||new Dt(l.userId,-1,"")})},c}();function up(c,o,l){var h=qt.prefixForPath(o,l.path),f=h[1],g=IDBKeyRange.lowerBound(h),v=!1;return Xr(c).rs({range:g,ss:!0},function(b,E,S){b[0]===o&&b[1]===f&&(v=!0),S.done()}).next(function(){return v})}function ad(c,o,l){var h=c.store(Zt.store),f=c.store(qt.store),g=[],v=IDBKeyRange.only(l.batchId),b=0,E=h.rs({range:v},function(z,J,Ae){return b++,Ae.delete()});g.push(E.next(function(){be(1===b)}));for(var S=[],A=0,R=l.mutations;A<R.length;A++){var P=R[A],V=qt.key(o,P.key.path,l.batchId);g.push(f.delete(V)),S.push(P.key)}return ue.$n(g).next(function(){return S})}function ba(c){return Zr.Qn(c,Zt.store)}function Xr(c){return Zr.Qn(c,qt.store)}function cp(c){return Zr.Qn(c,Dt.store)}var hp=function(){function c(o,l){this.serializer=o,this.Dr=l}return c.prototype.Er=function(o,l,h){return wl(o).put(ld(l),h)},c.prototype.Ar=function(o,l){var h=wl(o),f=ld(l);return h.delete(f)},c.prototype.updateMetadata=function(o,l){var h=this;return this.getMetadata(o).next(function(f){return f.byteSize+=l,h.Jo(o,f)})},c.prototype.Rr=function(o,l){var h=this;return wl(o).get(ld(l)).next(function(f){return h.Xo(f)})},c.prototype.Zo=function(o,l){var h=this;return wl(o).get(ld(l)).next(function(f){var g=h.Xo(f);return g?{ta:g,size:ud(f)}:null})},c.prototype.getEntries=function(o,l){var h=this,f=Ei();return this.ea(o,l,function(g,v){var b=h.Xo(v);f=f.ot(g,b)}).next(function(){return f})},c.prototype.na=function(o,l){var h=this,f=Ei(),g=new Un(te.i);return this.ea(o,l,function(v,b){var E=h.Xo(b);E?(f=f.ot(v,E),g=g.ot(v,ud(b))):(f=f.ot(v,null),g=g.ot(v,0))}).next(function(){return{sa:f,ia:g}})},c.prototype.ea=function(o,l,h){if(l.m())return ue.resolve();var f=IDBKeyRange.bound(l.first().path.A(),l.last().path.A()),g=l._t(),v=g.It();return wl(o).rs({range:f},function(b,E,S){for(var A=te.$(b);v&&te.i(v,A)<0;)h(v,null),v=g.It();v&&v.isEqual(A)&&(h(v,E),v=g.At()?g.It():null),v?S.Xn(v.path.A()):S.done()}).next(function(){for(;v;)h(v,null),v=g.At()?g.It():null})},c.prototype.Lr=function(o,l,h){var f=this,g=ko(),v=l.path.length+1,b={};if(h.isEqual(It.min())){var E=l.path.A();b.range=IDBKeyRange.lowerBound(E)}else{var S=l.path.A(),A=lp(h);b.range=IDBKeyRange.lowerBound([S,A],!0),b.index=an.collectionReadTimeIndex}return wl(o).rs(b,function(R,P,V){if(R.length===v){var z=ap(f.serializer,P);l.path.T(z.key.path)?z instanceof Ht&&ft(l,z)&&(g=g.ot(z.key,z)):V.done()}}).next(function(){return g})},c.prototype.ra=function(o){return new mt(this,!!o&&o.oa)},c.prototype.aa=function(o){return this.getMetadata(o).next(function(l){return l.byteSize})},c.prototype.getMetadata=function(o){return dp(o).get(Ds.key).next(function(l){return be(!!l),l})},c.prototype.Jo=function(o,l){return dp(o).put(Ds.key,l)},c.prototype.Xo=function(o){if(o){var l=ap(this.serializer,o);return l instanceof nt&&l.version.isEqual(It.min())?null:l}return null},c}(),mt=function(c){function o(l,h){var f=this;return(f=c.call(this)||this).ca=l,f.oa=h,f.ua=new Sn(function(g){return g.toString()},function(g,v){return g.isEqual(v)}),f}return M.__extends(o,c),o.prototype.yr=function(l){var h=this,f=[],g=0,v=new Hn(function(b,E){return Ke(b.R(),E.R())});return this.wr.forEach(function(b,E){var S=h.ua.get(b);if(E){var A=Jn(h.ca.serializer,E,h.readTime);v=v.add(b.path.h());var R=ud(A);g+=R-S,f.push(h.ca.Er(l,b,A))}else if(g-=S,h.oa){var P=Jn(h.ca.serializer,new nt(b,It.min()),h.readTime);f.push(h.ca.Er(l,b,P))}else f.push(h.ca.Ar(l,b))}),v.forEach(function(b){f.push(h.ca.Dr.Mo(l,b))}),f.push(this.ca.updateMetadata(l,g)),ue.$n(f)},o.prototype.gr=function(l,h){var f=this;return this.ca.Zo(l,h).next(function(g){return null===g?(f.ua.set(h,0),null):(f.ua.set(h,g.size),g.ta)})},o.prototype.Pr=function(l,h){var f=this;return this.ca.na(l,h).next(function(g){var v=g.sa;return g.ia.forEach(function(b,E){f.ua.set(b,E)}),v})},o}(rp);function dp(c){return Zr.Qn(c,Ds.store)}function wl(c){return Zr.Qn(c,an.store)}function ld(c){return c.path.A()}function ud(c){var o;if(c.document)o=c.document;else if(c.unknownDocument)o=c.unknownDocument;else{if(!c.noDocument)throw fe();o=c.noDocument}return JSON.stringify(o).length}var bw=function(){function c(){this.ha=new cd}return c.prototype.Mo=function(o,l){return this.ha.add(l),ue.resolve()},c.prototype.Qr=function(o,l){return ue.resolve(this.ha.getEntries(l))},c}(),cd=function(){function c(){this.index={}}return c.prototype.add=function(o){var l=o._(),h=o.h(),f=this.index[l]||new Hn(K.i),g=!f.has(h);return this.index[l]=f.add(h),g},c.prototype.has=function(o){var l=o._(),h=o.h(),f=this.index[l];return f&&f.has(h)},c.prototype.getEntries=function(o){return(this.index[o]||new Hn(K.i)).A()},c}(),ww=function(){function c(o){this.serializer=o}return c.prototype.createOrUpgrade=function(o,l,h,f){var g=this;be(h<f&&h>=0&&f<=10);var E,v=new va("createOrUpgrade",l);h<1&&f>=1&&(o.createObjectStore(re.store),(E=o).createObjectStore(Dt.store,{keyPath:Dt.keyPath}),E.createObjectStore(Zt.store,{keyPath:Zt.keyPath,autoIncrement:!0}).createIndex(Zt.userMutationsIndex,Zt.userMutationsKeyPath,{unique:!0}),E.createObjectStore(qt.store),Cc(o),function(E){E.createObjectStore(an.store)}(o));var b=ue.resolve();return h<3&&f>=3&&(0!==h&&(function(E){E.deleteObjectStore(nr.store),E.deleteObjectStore(tr.store),E.deleteObjectStore(Qr.store)}(o),Cc(o)),b=b.next(function(){return function(E){var S=E.store(Qr.store),A=new Qr(0,0,It.min().Z(),0);return S.put(Qr.key,A)}(v)})),h<4&&f>=4&&(0!==h&&(b=b.next(function(){return function(E,S){return S.store(Zt.store).ts().next(function(A){E.deleteObjectStore(Zt.store),E.createObjectStore(Zt.store,{keyPath:Zt.keyPath,autoIncrement:!0}).createIndex(Zt.userMutationsIndex,Zt.userMutationsKeyPath,{unique:!0});var R=S.store(Zt.store),P=A.map(function(V){return R.put(V)});return ue.$n(P)})}(o,v)})),b=b.next(function(){!function(E){E.createObjectStore(Ln.store,{keyPath:Ln.keyPath})}(o)})),h<5&&f>=5&&(b=b.next(function(){return g.removeAcknowledgedMutations(v)})),h<6&&f>=6&&(b=b.next(function(){return function(E){E.createObjectStore(Ds.store)}(o),g.addDocumentGlobal(v)})),h<7&&f>=7&&(b=b.next(function(){return g.ensureSequenceNumbers(v)})),h<8&&f>=8&&(b=b.next(function(){return g.createCollectionParentIndex(o,v)})),h<9&&f>=9&&(b=b.next(function(){(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(o),function(E){var S=E.objectStore(an.store);S.createIndex(an.readTimeIndex,an.readTimeIndexPath,{unique:!1}),S.createIndex(an.collectionReadTimeIndex,an.collectionReadTimeIndexPath,{unique:!1})}(l)})),h<10&&f>=10&&(b=b.next(function(){return g.rewriteCanonicalIds(v)})),b},c.prototype.addDocumentGlobal=function(o){var l=0;return o.store(an.store).rs(function(h,f){l+=ud(f)}).next(function(){var h=new Ds(l);return o.store(Ds.store).put(Ds.key,h)})},c.prototype.removeAcknowledgedMutations=function(o){var l=this,h=o.store(Dt.store),f=o.store(Zt.store);return h.ts().next(function(g){return ue.forEach(g,function(v){var b=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return f.ts(Zt.userMutationsIndex,b).next(function(E){return ue.forEach(E,function(S){be(S.userId===v.userId);var A=vu(l.serializer,S);return ad(o,v.userId,A).next(function(){})})})})})},c.prototype.ensureSequenceNumbers=function(o){var l=o.store(nr.store),h=o.store(an.store);return o.store(Qr.store).get(Qr.key).next(function(f){var g=[];return h.rs(function(v,b){var E=new K(v),S=[0,Gs(E)];g.push(l.get(S).next(function(A){return A?ue.resolve():l.put(new nr(0,Gs(E),f.highestListenSequenceNumber))}))}).next(function(){return ue.$n(g)})})},c.prototype.createCollectionParentIndex=function(o,l){o.createObjectStore(_u.store,{keyPath:_u.keyPath});var h=l.store(_u.store),f=new cd,g=function(v){if(f.add(v)){var b=v._(),E=v.h();return h.put({collectionId:b,parent:Gs(E)})}};return l.store(an.store).rs({ss:!0},function(v,b){var E=new K(v);return g(E.h())}).next(function(){return l.store(qt.store).rs({ss:!0},function(v,b){var S=ln(v[1]);return g(S.h())})})},c.prototype.rewriteCanonicalIds=function(o){var l=this,h=o.store(tr.store);return h.rs(function(f,g){var v=_l(g),b=bl(l.serializer,v);return h.put(b)})},c}(),Cw=function(c,o){this.seconds=c,this.nanoseconds=o},re=function(c,o,l){this.ownerId=c,this.allowTabSynchronization=o,this.leaseTimestampMs=l};re.store="owner",re.key="owner";var Dt=function(c,o,l){this.userId=c,this.lastAcknowledgedBatchId=o,this.lastStreamToken=l};Dt.store="mutationQueues",Dt.keyPath="userId";var Zt=function(c,o,l,h,f){this.userId=c,this.batchId=o,this.localWriteTimeMs=l,this.baseMutations=h,this.mutations=f};Zt.store="mutations",Zt.keyPath="batchId",Zt.userMutationsIndex="userMutationsIndex",Zt.userMutationsKeyPath=["userId","batchId"];var qt=function(){function c(){}return c.prefixForUser=function(o){return[o]},c.prefixForPath=function(o,l){return[o,Gs(l)]},c.key=function(o,l,h){return[o,Gs(l),h]},c}();qt.store="documentMutations",qt.PLACEHOLDER=new qt;var ty=function(c,o){this.path=c,this.readTime=o},wc=function(c,o){this.path=c,this.version=o},an=function(c,o,l,h,f,g){this.unknownDocument=c,this.noDocument=o,this.document=l,this.hasCommittedMutations=h,this.readTime=f,this.parentPath=g};an.store="remoteDocuments",an.readTimeIndex="readTimeIndex",an.readTimeIndexPath="readTime",an.collectionReadTimeIndex="collectionReadTimeIndex",an.collectionReadTimeIndexPath=["parentPath","readTime"];var Ds=function(c){this.byteSize=c};Ds.store="remoteDocumentGlobal",Ds.key="remoteDocumentGlobalKey";var tr=function(c,o,l,h,f,g,v){this.targetId=c,this.canonicalId=o,this.readTime=l,this.resumeToken=h,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=g,this.query=v};tr.store="targets",tr.keyPath="targetId",tr.queryTargetsIndexName="queryTargetsIndex",tr.queryTargetsKeyPath=["canonicalId","targetId"];var nr=function(c,o,l){this.targetId=c,this.path=o,this.sequenceNumber=l};nr.store="targetDocuments",nr.keyPath=["targetId","path"],nr.documentTargetsIndex="documentTargetsIndex",nr.documentTargetsKeyPath=["path","targetId"];var Qr=function(c,o,l,h){this.highestTargetId=c,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=l,this.targetCount=h};Qr.key="targetGlobalKey",Qr.store="targetGlobal";var _u=function(c,o){this.collectionId=c,this.parent=o};function Cc(c){c.createObjectStore(nr.store,{keyPath:nr.keyPath}).createIndex(nr.documentTargetsIndex,nr.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(tr.store,{keyPath:tr.keyPath}).createIndex(tr.queryTargetsIndexName,tr.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(Qr.store)}_u.store="collectionParents",_u.keyPath=["collectionId","parent"];var Ln=function(c,o,l,h){this.clientId=c,this.updateTimeMs=o,this.networkEnabled=l,this.inForeground=h};Ln.store="clientMetadata",Ln.keyPath="clientId";var jo=M.__spreadArrays(M.__spreadArrays(M.__spreadArrays([Dt.store,Zt.store,qt.store,an.store,tr.store,re.store,Qr.store,nr.store],[Ln.store]),[Ds.store]),[_u.store]),ny=function(){function c(){this.la=new cd}return c.prototype.Mo=function(o,l){var h=this;if(!this.la.has(l)){var f=l._(),g=l.h();o.pr(function(){h.la.add(l)});var v={collectionId:f,parent:Gs(g)};return Cl(o).put(v)}return ue.resolve()},c.prototype.Qr=function(o,l){var h=[],f=IDBKeyRange.bound([l,""],[wn(l),""],!1,!0);return Cl(o).ts(f).next(function(g){for(var v=0,b=g;v<b.length;v++){var E=b[v];if(E.collectionId!==l)break;h.push(ln(E.parent))}return h})},c}();function Cl(c){return Zr.Qn(c,_u.store)}var xs=function(){function c(o){this._a=o}return c.prototype.next=function(){return this._a+=2,this._a},c.fa=function(){return new c(0)},c.da=function(){return new c(-1)},c}(),Ew=function(){function c(o,l){this.No=o,this.serializer=l}return c.prototype.wa=function(o){var l=this;return this.ma(o).next(function(h){var f=new xs(h.highestTargetId);return h.highestTargetId=f.next(),l.Ta(o,h).next(function(){return h.highestTargetId})})},c.prototype.Ea=function(o){return this.ma(o).next(function(l){return It.J(new cn(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.Ia=function(o){return this.ma(o).next(function(l){return l.highestListenSequenceNumber})},c.prototype.Aa=function(o,l,h){var f=this;return this.ma(o).next(function(g){return g.highestListenSequenceNumber=l,h&&(g.lastRemoteSnapshotVersion=h.Z()),l>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=l),f.Ta(o,g)})},c.prototype.Ra=function(o,l){var h=this;return this.ga(o,l).next(function(){return h.ma(o).next(function(f){return f.targetCount+=1,h.Pa(l,f),h.Ta(o,f)})})},c.prototype.ya=function(o,l){return this.ga(o,l)},c.prototype.Va=function(o,l){var h=this;return this.pa(o,l.targetId).next(function(){return El(o).delete(l.targetId)}).next(function(){return h.ma(o)}).next(function(f){return be(f.targetCount>0),f.targetCount-=1,h.Ta(o,f)})},c.prototype.po=function(o,l,h){var f=this,g=0,v=[];return El(o).rs(function(b,E){var S=_l(E);S.sequenceNumber<=l&&null===h.get(S.targetId)&&(g++,v.push(f.Va(o,S)))}).next(function(){return ue.$n(v)}).next(function(){return g})},c.prototype.Ce=function(o,l){return El(o).rs(function(h,f){var g=_l(f);l(g)})},c.prototype.ma=function(o){return iy(o).get(Qr.key).next(function(l){return be(null!==l),l})},c.prototype.Ta=function(o,l){return iy(o).put(Qr.key,l)},c.prototype.ga=function(o,l){return El(o).put(bl(this.serializer,l))},c.prototype.Pa=function(o,l){var h=!1;return o.targetId>l.highestTargetId&&(l.highestTargetId=o.targetId,h=!0),o.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=o.sequenceNumber,h=!0),h},c.prototype.ba=function(o){return this.ma(o).next(function(l){return l.targetCount})},c.prototype.va=function(o,l){var h=Re(l),f=IDBKeyRange.bound([h,Number.NEGATIVE_INFINITY],[h,Number.POSITIVE_INFINITY]),g=null;return El(o).rs({range:f,index:tr.queryTargetsIndexName},function(v,b,E){var S=_l(b);gt(l,S.target)&&(g=S,E.done())}).next(function(){return g})},c.prototype.Sa=function(o,l,h){var f=this,g=[],v=wa(o);return l.forEach(function(b){var E=Gs(b.path);g.push(v.put(new nr(h,E))),g.push(f.No.Da(o,h,b))}),ue.$n(g)},c.prototype.Ca=function(o,l,h){var f=this,g=wa(o);return ue.forEach(l,function(v){var b=Gs(v.path);return ue.$n([g.delete([h,b]),f.No.Na(o,h,v)])})},c.prototype.pa=function(o,l){var h=wa(o),f=IDBKeyRange.bound([l],[l+1],!1,!0);return h.delete(f)},c.prototype.Fa=function(o,l){var h=IDBKeyRange.bound([l],[l+1],!1,!0),f=wa(o),g=fn();return f.rs({range:h,ss:!0},function(v,b,E){var S=ln(v[1]),A=new te(S);g=g.add(A)}).next(function(){return g})},c.prototype.Ho=function(o,l){var h=Gs(l.path),f=IDBKeyRange.bound([h],[wn(h)],!1,!0),g=0;return wa(o).rs({index:nr.documentTargetsIndex,ss:!0,range:f},function(v,b,E){0!==v[0]&&(g++,E.done())}).next(function(){return g>0})},c.prototype.Ue=function(o,l){return El(o).get(l).next(function(h){return h?_l(h):null})},c}();function El(c){return Zr.Qn(c,tr.store)}function iy(c){return Zr.Qn(c,Qr.store)}function wa(c){return Zr.Qn(c,nr.store)}var Ec="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dc=function(c){function o(l,h){var f=this;return(f=c.call(this)||this).jo=l,f.xa=h,f}return M.__extends(o,c),o}(rd),Zr=function(){function c(o,l,h,f,g,v,b,E,S,A){if(this.allowTabSynchronization=o,this.persistenceKey=l,this.clientId=h,this.fn=g,this.window=v,this.document=b,this.$a=S,this.ka=A,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(R){return Promise.resolve()},!c.Ln())throw new H(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ry(this,f),this.Wa=l+"main",this.serializer=new ey(E),this.ja=new Ti(this.Wa,10,new ww(this.serializer)),this.Ka=new Ew(this.No,this.serializer),this.Dr=new ny,this.vr=new hp(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===A&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.Qn=function(o,l){if(o instanceof Dc)return Ti.Qn(o.jo,l);throw fe()},c.prototype.start=function(){var o=this;return this.za().then(function(){if(!o.isPrimary&&!o.allowTabSynchronization)throw new H(O.FAILED_PRECONDITION,Ec);return o.Ha(),o.Ya(),o.Ja(),o.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return o.Ka.Ia(l)})}).then(function(l){o.Ma=new gr(l,o.$a)}).then(function(){o.Oa=!0}).catch(function(l){return o.ja&&o.ja.close(),Promise.reject(l)})},c.prototype.Xa=function(o){var l=this;return this.Qa=function(h){return M.__awaiter(l,void 0,void 0,function(){return M.__generator(this,function(f){return this.Ei?[2,o(h)]:[2]})})},o(this.isPrimary)},c.prototype.Za=function(o){var l=this;this.ja.Kn(function(h){return M.__awaiter(l,void 0,void 0,function(){return M.__generator(this,function(f){switch(f.label){case 0:return null===h.newVersion?[4,o()]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})})},c.prototype.tc=function(o){var l=this;this.networkEnabled!==o&&(this.networkEnabled=o,this.fn.ws(function(){return M.__awaiter(l,void 0,void 0,function(){return M.__generator(this,function(h){switch(h.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})}))},c.prototype.za=function(){var o=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return hd(l).put(new Ln(o.clientId,Date.now(),o.networkEnabled,o.inForeground)).next(function(){if(o.isPrimary)return o.ec(l).next(function(h){h||(o.isPrimary=!1,o.fn.Cs(function(){return o.Qa(!1)}))})}).next(function(){return o.nc(l)}).next(function(h){return o.isPrimary&&!h?o.sc(l).next(function(){return!1}):!!h&&o.ic(l).next(function(){return!0})})}).catch(function(l){if($r(l))return ee("IndexedDbPersistence","Failed to extend owner lease: ",l),o.isPrimary;if(!o.allowTabSynchronization)throw l;return ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){o.isPrimary!==l&&o.fn.Cs(function(){return o.Qa(l)}),o.isPrimary=l})},c.prototype.ec=function(o){var l=this;return Dl(o).get(re.key).next(function(h){return ue.resolve(l.rc(h))})},c.prototype.oc=function(o){return hd(o).delete(this.clientId)},c.prototype.ac=function(){return M.__awaiter(this,void 0,void 0,function(){var o,l,h,g=this;return M.__generator(this,function(v){switch(v.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(b){var E=c.Qn(b,Ln.store);return E.ts().next(function(S){var A=g.uc(S,18e5),R=S.filter(function(P){return-1===A.indexOf(P)});return ue.forEach(R,function(P){return E.delete(P.clientId)}).next(function(){return R})})}).catch(function(){return[]})]);case 1:if(o=v.sent(),this.Ga)for(l=0,h=o;l<h.length;l++)this.Ga.removeItem(this.hc(h[l].clientId));v.label=2;case 2:return[2]}})})},c.prototype.Ja=function(){var o=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return o.za().then(function(){return o.ac()}).then(function(){return o.Ja()})})},c.prototype.rc=function(o){return!!o&&o.ownerId===this.clientId},c.prototype.nc=function(o){var l=this;return this.ka?ue.resolve(!0):Dl(o).get(re.key).next(function(h){if(null!==h&&l.cc(h.leaseTimestampMs,5e3)&&!l.lc(h.ownerId)){if(l.rc(h)&&l.networkEnabled)return!0;if(!l.rc(h)){if(!h.allowTabSynchronization)throw new H(O.FAILED_PRECONDITION,Ec);return!1}}return!(!l.networkEnabled||!l.inForeground)||hd(o).ts().next(function(f){return void 0===l.uc(f,5e3).find(function(g){return!(l.clientId===g.clientId||!(!l.networkEnabled&&g.networkEnabled||!l.inForeground&&g.inForeground&&l.networkEnabled===g.networkEnabled))})})}).next(function(h){return l.isPrimary!==h&&ee("IndexedDbPersistence","Client "+(h?"is":"is not")+" eligible for a primary lease."),h})},c.prototype.Di=function(){return M.__awaiter(this,void 0,void 0,function(){var o=this;return M.__generator(this,function(l){switch(l.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[re.store,Ln.store],function(h){var f=new Dc(h,gr.ai);return o.sc(f).next(function(){return o.oc(f)})})];case 1:return l.sent(),this.ja.close(),this.wc(),[2]}})})},c.prototype.uc=function(o,l){var h=this;return o.filter(function(f){return h.cc(f.updateTimeMs,l)&&!h.lc(f.clientId)})},c.prototype.pi=function(){var o=this;return this.runTransaction("getActiveClients","readonly",function(l){return hd(l).ts().next(function(h){return o.uc(h,18e5).map(function(f){return f.clientId})})})},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.mc=function(o){return Yr.xo(o,this.serializer,this.Dr,this.No)},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.Ic=function(){return this.Dr},c.prototype.runTransaction=function(o,l,h){var g,f=this;return ee("IndexedDbPersistence","Starting transaction:",o),this.ja.runTransaction(o,"readonly"===l?"readonly":"readwrite",jo,function(b){return g=new Dc(b,f.Ma?f.Ma.next():gr.ai),"readwrite-primary"===l?f.ec(g).next(function(E){return!!E||f.nc(g)}).next(function(E){if(!E)throw Ze("Failed to obtain primary lease for action '"+o+"'."),f.isPrimary=!1,f.fn.Cs(function(){return f.Qa(!1)}),new H(O.FAILED_PRECONDITION,Zg);return h(g)}).next(function(E){return f.ic(g).next(function(){return E})}):f.Ac(g).next(function(){return h(g)})}).then(function(b){return g.br(),b})},c.prototype.Ac=function(o){var l=this;return Dl(o).get(re.key).next(function(h){if(null!==h&&l.cc(h.leaseTimestampMs,5e3)&&!l.lc(h.ownerId)&&!l.rc(h)&&!(l.ka||l.allowTabSynchronization&&h.allowTabSynchronization))throw new H(O.FAILED_PRECONDITION,Ec)})},c.prototype.ic=function(o){var l=new re(this.clientId,this.allowTabSynchronization,Date.now());return Dl(o).put(re.key,l)},c.Ln=function(){return Ti.Ln()},c.prototype.sc=function(o){var l=this,h=Dl(o);return h.get(re.key).next(function(f){return l.rc(f)?(ee("IndexedDbPersistence","Releasing primary lease."),h.delete(re.key)):ue.resolve()})},c.prototype.cc=function(o,l){var h=Date.now();return!(o<h-l||o>h&&(Ze("Detected an update time that is in the future: "+o+" > "+h),1))},c.prototype.Ha=function(){var o=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){o.fn.ws(function(){return o.inForeground="visible"===o.document.visibilityState,o.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},c.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},c.prototype.Ya=function(){var o,l=this;"function"==typeof(null===(o=this.window)||void 0===o?void 0:o.addEventListener)&&(this.La=function(){l._c(),l.fn.ws(function(){return l.Di()})},this.window.addEventListener("unload",this.La))},c.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},c.prototype.lc=function(o){var l;try{var h=null!==(null===(l=this.Ga)||void 0===l?void 0:l.getItem(this.hc(o)));return ee("IndexedDbPersistence","Client '"+o+"' "+(h?"is":"is not")+" zombied in LocalStorage"),h}catch(f){return Ze("IndexedDbPersistence","Failed to get zombied client id.",f),!1}},c.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(o){Ze("Failed to set zombie client id.",o)}},c.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(o){}},c.prototype.hc=function(o){return"firestore_zombie_"+this.persistenceKey+"_"+o},c}();function Dl(c){return Zr.Qn(c,re.store)}function hd(c){return Zr.Qn(c,Ln.store)}var ry=function(){function c(o,l){this.db=o,this.wo=new sp(this,l)}return c.prototype.Po=function(o){var l=this.Rc(o);return this.db.Tc().ba(o).next(function(h){return l.next(function(f){return h+f})})},c.prototype.Rc=function(o){var l=0;return this.Vo(o,function(h){l++}).next(function(){return l})},c.prototype.Ce=function(o,l){return this.db.Tc().Ce(o,l)},c.prototype.Vo=function(o,l){return this.gc(o,function(h,f){return l(f)})},c.prototype.Da=function(o,l,h){return xl(o,h)},c.prototype.Na=function(o,l,h){return xl(o,h)},c.prototype.po=function(o,l,h){return this.db.Tc().po(o,l,h)},c.prototype.Go=function(o,l){return xl(o,l)},c.prototype.Pc=function(o,l){return f=l,g=!1,cp(h=o).os(function(v){return up(h,v,f).next(function(b){return b&&(g=!0),ue.resolve(!b)})}).next(function(){return g});var h,f,g},c.prototype.bo=function(o,l){var h=this,f=this.db.Ec().ra(),g=[],v=0;return this.gc(o,function(b,E){if(E<=l){var S=h.Pc(o,b).next(function(A){if(!A)return v++,f.Rr(o,b).next(function(){return f.Ar(b),wa(o).delete([0,Gs(b.path)])})});g.push(S)}}).next(function(){return ue.$n(g)}).next(function(){return f.apply(o)}).next(function(){return v})},c.prototype.removeTarget=function(o,l){var h=l.st(o.xa);return this.db.Tc().ya(o,h)},c.prototype.yc=function(o,l){return xl(o,l)},c.prototype.gc=function(o,l){var h,f=wa(o),g=gr.ai;return f.rs({index:nr.documentTargetsIndex},function(v,b){var S=b.path,A=b.sequenceNumber;0===v[0]?(g!==gr.ai&&l(new te(ln(h)),g),g=A,h=S):g=gr.ai}).next(function(){g!==gr.ai&&l(new te(ln(h)),g)})},c.prototype.So=function(o){return this.db.Ec().aa(o)},c}();function xl(c,o){return wa(c).put((h=c.xa,new nr(0,Gs(o.path),h)));var h}function dd(c,o){var l=c.projectId;return c.j||(l+="."+c.database),"firestore/"+o+"/"+l+"/"}var sy=function(){function c(o,l,h){this.persistence=o,this.Vc=l,this.bc=new Un(Ke),this.vc=new Sn(function(f){return Re(f)},gt),this.Sc=It.min(),this.Sr=o.mc(h),this.Dc=o.Ec(),this.Ka=o.Tc(),this.Cc=new Jg(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return c.prototype.Io=function(o){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(h){return o.vo(h,l.bc)})},c}();function oy(c,o){var l=ae(c);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(h){var v,b,E,S,A,R,P,f=o.batch.keys(),g=l.Dc.ra({oa:!0});return(v=l,b=h,E=o,S=g,A=E.batch,R=A.keys(),P=ue.resolve(),R.forEach(function(V){P=P.next(function(){return S.Rr(b,V)}).next(function(z){var J=z,Ae=E.dr.get(V);be(null!==Ae),(!J||J.version.L(Ae)<0)&&(J=A.cr(V,J,E))&&S.Er(J,E._r)})}),P.next(function(){return v.Sr.Wo(b,A)})).next(function(){return g.apply(h)}).next(function(){return l.Sr.zo(h)}).next(function(){return l.Cc.kr(h,f)})})}function fp(c){var o=ae(c);return o.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return o.Ka.Ea(l)})}function fd(c,o){var l=ae(c),h=o.nt,f=l.bc;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(g){var v=l.Dc.ra({oa:!0});f=l.bc;var b=[];o.zt.forEach(function(R,P){var Ae,De,Ye,V=f.get(P);if(V){b.push(l.Ka.Ca(g,R.se,P).next(function(){return l.Ka.Sa(g,R.ee,P)}));var z=R.resumeToken;if(z.O()>0){var J=V.it(z,h).st(g.xa);f=f.ot(P,J),Ae=V,Ye=R,be((De=J).resumeToken.O()>0),(0===Ae.resumeToken.O()||De.nt.X()-Ae.nt.X()>=3e8||Ye.ee.size+Ye.ne.size+Ye.se.size>0)&&b.push(l.Ka.ya(g,J))}}});var E=Ns(),S=fn();if(o.Yt.forEach(function(R,P){S=S.add(R)}),b.push(v.getEntries(g,S).next(function(R){o.Yt.forEach(function(P,V){var z=R.get(P);V instanceof nt&&V.version.isEqual(It.min())?(v.Ar(P,h),E=E.ot(P,V)):null==z||V.version.L(z.version)>0||0===V.version.L(z.version)&&z.hasPendingWrites?(v.Er(V,h),E=E.ot(P,V)):ee("LocalStore","Ignoring outdated watch update for ",P,". Current version:",z.version," Watch version:",V.version),o.Jt.has(P)&&b.push(l.persistence.No.yc(g,P))})})),!h.isEqual(It.min())){var A=l.Ka.Ea(g).next(function(R){return l.Ka.Aa(g,g.xa,h)});b.push(A)}return ue.$n(b).next(function(){return v.apply(g)}).next(function(){return l.Cc.Mr(g,E)})}).then(function(g){return l.bc=f,g})}function Dw(c,o){var l=ae(c);return l.persistence.runTransaction("Get next mutation batch","readonly",function(h){return void 0===o&&(o=-1),l.Sr.Bo(h,o)})}function pd(c,o){var l=ae(c);return l.persistence.runTransaction("Allocate target","readwrite",function(h){var f;return l.Ka.va(h,o).next(function(g){return g?ue.resolve(f=g):l.Ka.wa(h).next(function(v){return f=new jn(o,v,0,h.xa),l.Ka.Ra(h,f).next(function(){return f})})})}).then(function(h){var f=l.bc.get(h.targetId);return(null===f||h.nt.L(f.nt)>0)&&(l.bc=l.bc.ot(h.targetId,h),l.vc.set(o,h.targetId)),h})}function oi(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f,g,v;return M.__generator(this,function(b){switch(b.label){case 0:h=ae(c),f=h.bc.get(o),g=l?"readwrite":"readwrite-primary",b.label=1;case 1:return b.trys.push([1,4,,5]),l?[3,3]:[4,h.persistence.runTransaction("Release target",g,function(E){return h.persistence.No.removeTarget(E,f)})];case 2:b.sent(),b.label=3;case 3:return[3,5];case 4:if(!$r(v=b.sent()))throw v;return ee("LocalStore","Failed to update sequence numbers for target "+o+": "+v),[3,5];case 5:return h.bc=h.bc.remove(o),h.vc.delete(f.target),[2]}})})}function zs(c,o,l){var h=ae(c),f=It.min(),g=fn();return h.persistence.runTransaction("Execute query","readonly",function(v){return(b=h,E=v,S=ri(o),A=ae(b),R=A.vc.get(S),void 0!==R?ue.resolve(A.bc.get(R)):A.Ka.va(E,S)).next(function(b){if(b)return f=b.lastLimboFreeSnapshotVersion,h.Ka.Fa(v,b.targetId).next(function(E){g=E})}).next(function(){return h.Vc.Lr(v,o,l?f:It.min(),l?g:fn())}).next(function(b){return{documents:b,Fc:g}});var b,E,S,A,R})}function Vn(c,o){var l=ae(c),h=ae(l.Ka),f=l.bc.get(o);return f?Promise.resolve(f.target):l.persistence.runTransaction("Get target data","readonly",function(g){return h.Ue(g,o).next(function(v){return v?v.target:null})})}function xw(c){var o=ae(c);return o.persistence.runTransaction("Get new document changes","readonly",function(l){return f=l,g=o.Sc,v=ae(o.Dc),b=Ns(),E=lp(g),S=wl(f),A=IDBKeyRange.lowerBound(E,!0),S.rs({index:an.readTimeIndex,range:A},function(R,P){var V=ap(v.serializer,P);b=b.ot(V.key,V),E=P.readTime}).next(function(){return{xc:b,readTime:_w(E)}});var f,g,v,b,E,S,A}).then(function(l){var h=l.xc;return o.Sc=l.readTime,h})}function Sw(c){return M.__awaiter(this,void 0,void 0,function(){var o;return M.__generator(this,function(l){return[2,(o=ae(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(h){return g=wl(h),v=It.min(),g.rs({index:an.readTimeIndex,reverse:!0},function(b,E,S){E.readTime&&(v=_w(E.readTime)),S.done()}).next(function(){return v});var g,v}).then(function(h){o.Sc=h})]})})}function Sl(c){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(o){if(c.code!==O.FAILED_PRECONDITION||c.message!==Zg)throw c;return ee("LocalStore","Unexpectedly lost primary lease"),[2]})})}var pp=function(){function c(){this.$c=new Hn(Ai.kc),this.Mc=new Hn(Ai.Oc)}return c.prototype.m=function(){return this.$c.m()},c.prototype.Da=function(o,l){var h=new Ai(o,l);this.$c=this.$c.add(h),this.Mc=this.Mc.add(h)},c.prototype.Lc=function(o,l){var h=this;o.forEach(function(f){return h.Da(f,l)})},c.prototype.Na=function(o,l){this.Bc(new Ai(o,l))},c.prototype.qc=function(o,l){var h=this;o.forEach(function(f){return h.Na(f,l)})},c.prototype.Uc=function(o){var l=this,h=new te(new K([])),f=new Ai(h,o),g=new Ai(h,o+1),v=[];return this.Mc.Ft([f,g],function(b){l.Bc(b),v.push(b.key)}),v},c.prototype.Qc=function(){var o=this;this.$c.forEach(function(l){return o.Bc(l)})},c.prototype.Bc=function(o){this.$c=this.$c.delete(o),this.Mc=this.Mc.delete(o)},c.prototype.Wc=function(o){var l=new te(new K([])),h=new Ai(l,o),f=new Ai(l,o+1),g=fn();return this.Mc.Ft([h,f],function(v){g=g.add(v.key)}),g},c.prototype.Ho=function(o){var l=new Ai(o,0),h=this.$c.$t(l);return null!==h&&o.isEqual(h.key)},c}(),Ai=function(){function c(o,l){this.key=o,this.jc=l}return c.kc=function(o,l){return te.i(o.key,l.key)||Ke(o.jc,l.jc)},c.Oc=function(o,l){return Ke(o.jc,l.jc)||te.i(o.key,l.key)},c}(),Iw=function(c,o){this.user=o,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+c},xc=function(){function c(){this.Gc=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.zc=function(){},c.prototype.Hc=function(o){this.Gc=o,o(kr.UNAUTHENTICATED)},c.prototype.Yc=function(){this.Gc=null},c}(),md=function(){function c(o){var l=this;this.Jc=null,this.currentUser=kr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){l.Zc++,l.currentUser=l.tu(),l.Xc=!0,l.Gc&&l.Gc(l.currentUser)},this.Zc=0,this.auth=o.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),o.get().then(function(h){l.auth=h,l.Jc&&l.auth.addAuthTokenListener(l.Jc)},function(){}))}return c.prototype.getToken=function(){var o=this,l=this.Zc,h=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(h).then(function(f){return o.Zc!==l?(ee("FirebaseCredentialsProvider","getToken aborted due to token change."),o.getToken()):f?(be("string"==typeof f.accessToken),new Iw(f.accessToken,o.currentUser)):null}):Promise.resolve(null)},c.prototype.zc=function(){this.forceRefresh=!0},c.prototype.Hc=function(o){this.Gc=o,this.Xc&&o(this.currentUser)},c.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},c.prototype.tu=function(){var o=this.auth&&this.auth.getUid();return be(null===o||"string"==typeof o),new kr(o)},c}(),gd=function(){function c(o,l){this.eu=o,this.nu=l,this.type="FirstParty",this.user=kr.ni}return Object.defineProperty(c.prototype,"Kc",{get:function(){var o={"X-Goog-AuthUser":this.nu},l=this.eu.auth.getAuthHeaderValueForFirstParty([]);return l&&(o.Authorization=l),o},enumerable:!1,configurable:!0}),c}(),mp=function(){function c(o,l){this.eu=o,this.nu=l}return c.prototype.getToken=function(){return Promise.resolve(new gd(this.eu,this.nu))},c.prototype.Hc=function(o){o(kr.ni)},c.prototype.Yc=function(){},c.prototype.zc=function(){},c}(),gp=function(){function c(o,l,h,f,g,v){this.fn=o,this.su=h,this.iu=f,this.ru=g,this.listener=v,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new yu(o,l)}return c.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.uu=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.hu()},c.prototype.stop=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(o){switch(o.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},c.prototype.lu=function(){this.state=0,this.ys.reset()},c.prototype._u=function(){var o=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return o.fu()}))},c.prototype.du=function(o){this.wu(),this.stream.send(o)},c.prototype.fu=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(o){return this.uu()?[2,this.close(0)]:[2]})})},c.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},c.prototype.close=function(o,l){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(h){switch(h.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==o?this.ys.reset():l&&l.code===O.RESOURCE_EXHAUSTED?(Ze(l.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):l&&l.code===O.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=o,[4,this.listener.Tu(l)];case 1:return h.sent(),[2]}})})},c.prototype.mu=function(){},c.prototype.auth=function(){var o=this;this.state=1;var l=this.Eu(this.ou),h=this.ou;this.ru.getToken().then(function(f){o.ou===h&&o.Iu(f)},function(f){l(function(){var g=new H(O.UNKNOWN,"Fetching auth token failed: "+f.message);return o.Au(g)})})},c.prototype.Iu=function(o){var l=this,h=this.Eu(this.ou);this.stream=this.Ru(o),this.stream.gu(function(){h(function(){return l.state=2,l.listener.gu()})}),this.stream.Tu(function(f){h(function(){return l.Au(f)})}),this.stream.onMessage(function(f){h(function(){return l.onMessage(f)})})},c.prototype.hu=function(){var o=this;this.state=4,this.ys.gn(function(){return M.__awaiter(o,void 0,void 0,function(){return M.__generator(this,function(l){return this.state=0,this.start(),[2]})})})},c.prototype.Au=function(o){return ee("PersistentStream","close with error: "+o),this.stream=null,this.close(3,o)},c.prototype.Eu=function(o){var l=this;return function(h){l.fn.ws(function(){return l.ou===o?h():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),Tw=function(c){function o(l,h,f,g,v){var b=this;return(b=c.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",h,f,v)||this).serializer=g,b}return M.__extends(o,c),o.prototype.Ru=function(l){return this.iu.Pu("Listen",l)},o.prototype.onMessage=function(l){this.ys.reset();var h=function(g,v){var b,es;if("targetChange"in v){var E="NO_CHANGE"===(es=v.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===es?1:"REMOVE"===es?2:"CURRENT"===es?3:"RESET"===es?4:fe(),S=v.targetChange.targetIds||[],A=function(es,vo){return es.Qe?(be(void 0===vo||"string"==typeof vo),Qt.fromBase64String(vo||"")):(be(void 0===vo||vo instanceof Uint8Array),Qt.fromUint8Array(vo||new Uint8Array))}(g,v.targetChange.resumeToken),R=v.targetChange.cause,P=R&&function(es){var vo=void 0===es.code?O.UNKNOWN:Os(es.code);return new H(vo,es.message||"")}(R);b=new tl(E,S,A,P||null)}else if("documentChange"in v){var V=v.documentChange,z=Xn(g,V.document.name),J=Cn(V.document.updateTime),Ae=new En({mapValue:{fields:V.document.fields}}),De=new Ht(z,J,Ae,{});b=new el(V.targetIds||[],V.removedTargetIds||[],De.key,De)}else if("documentDelete"in v){var Ot=v.documentDelete,Kt=Xn(g,Ot.document),xn=Ot.readTime?Cn(Ot.readTime):It.min(),gi=new nt(Kt,xn);b=new el([],Ot.removedTargetIds||[],gi.key,gi)}else if("documentRemove"in v){var Ol=v.documentRemove,jc=Xn(g,Ol.document);b=new el([],Ol.removedTargetIds||[],jc,null)}else{if(!("filter"in v))return fe();var Uc=v.filter,Hy=new hi(Uc.count||0);b=new Ro(Uc.targetId,Hy)}return b}(this.serializer,l),f=function(g){if(!("targetChange"in g))return It.min();var v=g.targetChange;return v.targetIds&&v.targetIds.length?It.min():v.readTime?Cn(v.readTime):It.min()}(l);return this.listener.yu(h,f)},o.prototype.Vu=function(l){var g,v,b,E,h={};h.database=ol(this.serializer),h.addTarget=(g=this.serializer,(b=sn(E=(v=l).target)?{documents:ep(g,E)}:{query:Di(g,E)}).targetId=v.targetId,v.resumeToken.O()>0&&(b.resumeToken=rl(g,v.resumeToken)),b);var f=function(g,v){var b=function(E,S){switch(S){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,v.et);return null==b?null:{"goog-listen-tags":b}}(0,l);f&&(h.labels=f),this.du(h)},o.prototype.pu=function(l){var h={};h.database=ol(this.serializer),h.removeTarget=l,this.du(h)},o}(gp),Ca=function(c){function o(l,h,f,g,v){var b=this;return(b=c.call(this,l,"write_stream_connection_backoff","write_stream_idle",h,f,v)||this).serializer=g,b.bu=!1,b}return M.__extends(o,c),Object.defineProperty(o.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),o.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},o.prototype.mu=function(){this.bu&&this.Su([])},o.prototype.Ru=function(l){return this.iu.Pu("Write",l)},o.prototype.onMessage=function(l){if(be(!!l.streamToken),this.lastStreamToken=l.streamToken,this.bu){this.ys.reset();var h=(v=l.commitTime,(g=l.writeResults)&&g.length>0?(be(void 0!==v),g.map(function(b){return function(E,S){var A=Cn(E.updateTime?E.updateTime:S);A.isEqual(It.min())&&(A=Cn(S));var R=null;return E.transformResults&&E.transformResults.length>0&&(R=E.transformResults),new Tr(A,R)}(b,v)})):[]),f=Cn(l.commitTime);return this.listener.Du(f,h)}var g,v;return be(!l.writeResults||0===l.writeResults.length),this.bu=!0,this.listener.Cu()},o.prototype.Nu=function(){var l={};l.database=ol(this.serializer),this.du(l)},o.prototype.Su=function(l){var h=this,f={streamToken:this.lastStreamToken,writes:l.map(function(g){return co(h.serializer,g)})};this.du(f)},o}(gp),Sc=function(c){function o(l,h,f){var g=this;return(g=c.call(this)||this).credentials=l,g.iu=h,g.serializer=f,g.Fu=!1,g}return M.__extends(o,c),o.prototype.xu=function(){if(this.Fu)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")},o.prototype.$u=function(l,h,f){var g=this;return this.xu(),this.credentials.getToken().then(function(v){return g.iu.$u(l,h,f,v)}).catch(function(v){throw v.code===O.UNAUTHENTICATED&&g.credentials.zc(),v})},o.prototype.ku=function(l,h,f){var g=this;return this.xu(),this.credentials.getToken().then(function(v){return g.iu.ku(l,h,f,v)}).catch(function(v){throw v.code===O.UNAUTHENTICATED&&g.credentials.zc(),v})},o.prototype.terminate=function(){this.Fu=!1},o}(function(){}),Aw=function(){function c(o,l){this.cs=o,this.di=l,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return c.prototype.Bu=function(){var o=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return o.Ou=null,o.Uu("Backend didn't respond within 10 seconds."),o.qu("Offline"),Promise.resolve()}))},c.prototype.Qu=function(o){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+o.toString()),this.qu("Offline")))},c.prototype.set=function(o){this.Wu(),this.Mu=0,"Online"===o&&(this.Lu=!1),this.qu(o)},c.prototype.qu=function(o){o!==this.state&&(this.state=o,this.di(o))},c.prototype.Uu=function(o){var l="Could not reach Cloud Firestore backend. "+o+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(Ze(l),this.Lu=!1):ee("OnlineStateTracker",l)},c.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},c}(),Mw=function(c,o,l,h,f){var g=this;this.ju=c,this.Ku=o,this.cs=l,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=f,this.Xu.Zu(function(v){l.ws(function(){return M.__awaiter(g,void 0,void 0,function(){return M.__generator(this,function(b){switch(b.label){case 0:return $s(this)?(ee("RemoteStore","Restarting streams for network reachability change."),[4,function(E){return M.__awaiter(this,void 0,void 0,function(){var S;return M.__generator(this,function(A){switch(A.label){case 0:return(S=ae(E)).Yu.add(4),[4,Ea(S)];case 1:return A.sent(),S.th.set("Unknown"),S.Yu.delete(4),[4,Uo(S)];case 2:return A.sent(),[2]}})})}(this)]):[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})})}),this.th=new Aw(l,h)};function Uo(c){return M.__awaiter(this,void 0,void 0,function(){var o,l;return M.__generator(this,function(h){switch(h.label){case 0:if(!$s(c))return[3,4];o=0,l=c.Ju,h.label=1;case 1:return o<l.length?[4,(0,l[o])(!0)]:[3,4];case 2:h.sent(),h.label=3;case 3:return o++,[3,1];case 4:return[2]}})})}function Ea(c){return M.__awaiter(this,void 0,void 0,function(){var o,l;return M.__generator(this,function(h){switch(h.label){case 0:o=0,l=c.Ju,h.label=1;case 1:return o<l.length?[4,(0,l[o])(!1)]:[3,4];case 2:h.sent(),h.label=3;case 3:return o++,[3,1];case 4:return[2]}})})}function ay(c){return M.__awaiter(this,void 0,void 0,function(){var o;return M.__generator(this,function(l){switch(l.label){case 0:return o=ae(c),ee("RemoteStore","RemoteStore shutting down."),o.Yu.add(5),[4,Ea(o)];case 1:return l.sent(),o.Xu.Di(),o.th.set("Unknown"),[2]}})})}function yd(c,o){var l=ae(c);l.Hu.has(o.targetId)||(l.Hu.set(o.targetId,o),Tc(l)?_d(l):Da(l).uu()&&ly(l,o))}function vd(c,o){var l=ae(c),h=Da(l);l.Hu.delete(o),h.uu()&&Ic(l,o),0===l.Hu.size&&(h.uu()?h._u():$s(l)&&l.th.set("Unknown"))}function ly(c,o){c.eh.Ie(o.targetId),Da(c).Vu(o)}function Ic(c,o){c.eh.Ie(o),Da(c).pu(o)}function _d(c){c.eh=new Yh({qe:function(o){return c.Gu.qe(o)},Ue:function(o){return c.Hu.get(o)||null}}),Da(c).start(),c.th.Bu()}function Tc(c){return $s(c)&&!Da(c).cu()&&c.Hu.size>0}function $s(c){return 0===ae(c).Yu.size}function yp(c){c.eh=void 0}function uy(c){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(o){return c.Hu.forEach(function(l,h){ly(c,l)}),[2]})})}function bu(c,o){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(l){return yp(c),Tc(c)?(c.th.Qu(o),_d(c)):c.th.set("Unknown"),[2]})})}function kw(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f,g;return M.__generator(this,function(v){switch(v.label){case 0:if(c.th.set("Online"),!(o instanceof tl&&2===o.state&&o.cause))return[3,6];v.label=1;case 1:return v.trys.push([1,3,,5]),[4,function(b,E){return M.__awaiter(this,void 0,void 0,function(){var S,A,R,P;return M.__generator(this,function(V){switch(V.label){case 0:S=E.cause,A=0,R=E.targetIds,V.label=1;case 1:return A<R.length?b.Hu.has(P=R[A])?[4,b.Gu.nh(P,S)]:[3,3]:[3,5];case 2:V.sent(),b.Hu.delete(P),b.eh.removeTarget(P),V.label=3;case 3:V.label=4;case 4:return A++,[3,1];case 5:return[2]}})})}(c,o)];case 2:return v.sent(),[3,5];case 3:return h=v.sent(),ee("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),h),[4,Ho(c,h)];case 4:return v.sent(),[3,5];case 5:return[3,13];case 6:if(o instanceof el?c.eh.be(o):o instanceof Ro?c.eh.$e(o):c.eh.De(o),l.isEqual(It.min()))return[3,13];v.label=7;case 7:return v.trys.push([7,11,,13]),[4,fp(c.ju)];case 8:return f=v.sent(),l.L(f)>=0?[4,(b=c,E=l,S=b.eh.Oe(E),S.zt.forEach(function(A,R){if(A.resumeToken.O()>0){var P=b.Hu.get(R);P&&b.Hu.set(R,P.it(A.resumeToken,E))}}),S.Ht.forEach(function(A){var R=b.Hu.get(A);if(R){b.Hu.set(A,R.it(Qt.B,R.nt)),Ic(b,A);var P=new jn(R.target,A,1,R.sequenceNumber);ly(b,P)}}),b.Gu.sh(S))]:[3,10];case 9:v.sent(),v.label=10;case 10:return[3,13];case 11:return ee("RemoteStore","Failed to raise snapshot:",g=v.sent()),[4,Ho(c,g)];case 12:return v.sent(),[3,13];case 13:return[2]}var b,E,S})})}function Ho(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h=this;return M.__generator(this,function(f){switch(f.label){case 0:if(!$r(o))throw o;return c.Yu.add(1),[4,Ea(c)];case 1:return f.sent(),c.th.set("Offline"),l||(l=function(){return fp(c.ju)}),c.cs.Cs(function(){return M.__awaiter(h,void 0,void 0,function(){return M.__generator(this,function(g){switch(g.label){case 0:return ee("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return g.sent(),c.Yu.delete(1),[4,Uo(c)];case 2:return g.sent(),[2]}})})}),[2]}})})}function bd(c,o){return o().catch(function(l){return Ho(c,l,o)})}function qo(c){return M.__awaiter(this,void 0,void 0,function(){var o,l,h,f,g;return M.__generator(this,function(v){switch(v.label){case 0:o=ae(c),l=Ws(o),h=o.zu.length>0?o.zu[o.zu.length-1].batchId:-1,v.label=1;case 1:if(!($s(b=o)&&b.zu.length<10))return[3,7];v.label=2;case 2:return v.trys.push([2,4,,6]),[4,Dw(o.ju,h)];case 3:return null===(f=v.sent())?(0===o.zu.length&&l._u(),[3,7]):(h=f.batchId,function(b,E){b.zu.push(E);var S=Ws(b);S.uu()&&S.vu&&S.Su(E.mutations)}(o,f),[3,6]);case 4:return g=v.sent(),[4,Ho(o,g)];case 5:return v.sent(),[3,6];case 6:return[3,1];case 7:return Rw(o)&&vp(o),[2]}var b})})}function Rw(c){return $s(c)&&!Ws(c).cu()&&c.zu.length>0}function vp(c){Ws(c).start()}function cy(c){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(o){return Ws(c).Nu(),[2]})})}function Pw(c){return M.__awaiter(this,void 0,void 0,function(){var o,l,h;return M.__generator(this,function(g){for(o=Ws(c),l=0,h=c.zu;l<h.length;l++)o.Su(h[l].mutations);return[2]})})}function Ow(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f;return M.__generator(this,function(g){switch(g.label){case 0:return h=c.zu.shift(),f=Qg.from(h,o,l),[4,bd(c,function(){return c.Gu.ih(f)})];case 1:return g.sent(),[4,qo(c)];case 2:return g.sent(),[2]}})})}function Ac(c,o){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(l){switch(l.label){case 0:return o&&Ws(c).vu?[4,function(h,f){return M.__awaiter(this,void 0,void 0,function(){var g,v;return M.__generator(this,function(b){switch(b.label){case 0:return Pn(v=f.code)&&v!==O.ABORTED?(g=h.zu.shift(),Ws(h).lu(),[4,bd(h,function(){return h.Gu.rh(g.batchId,f)})]):[3,3];case 1:return b.sent(),[4,qo(h)];case 2:b.sent(),b.label=3;case 3:return[2]}})})}(c,o)]:[3,2];case 1:l.sent(),l.label=2;case 2:return Rw(c)&&vp(c),[2]}})})}function Mc(c,o){return M.__awaiter(this,void 0,void 0,function(){var l;return M.__generator(this,function(f){switch(f.label){case 0:return l=ae(c),o?(l.Yu.delete(2),[4,Uo(l)]):[3,2];case 1:return f.sent(),[3,5];case 2:return o?[3,4]:(l.Yu.add(2),[4,Ea(l)]);case 3:f.sent(),l.th.set("Unknown"),f.label=4;case 4:f.label=5;case 5:return[2]}})})}function Da(c){var l,h,f,g,o=this;return c.oh||(c.oh=(l=c.Ku,h=c.cs,f={gu:uy.bind(null,c),Tu:bu.bind(null,c),yu:kw.bind(null,c)},(g=ae(l)).xu(),new Tw(h,g.iu,g.credentials,g.serializer,f)),c.Ju.push(function(l){return M.__awaiter(o,void 0,void 0,function(){return M.__generator(this,function(h){switch(h.label){case 0:return l?(c.oh.lu(),Tc(c)?_d(c):c.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.oh.stop()];case 2:h.sent(),yp(c),h.label=3;case 3:return[2]}})})})),c.oh}function Ws(c){var l,h,f,g,o=this;return c.ah||(c.ah=(l=c.Ku,h=c.cs,f={gu:cy.bind(null,c),Tu:Ac.bind(null,c),Cu:Pw.bind(null,c),Du:Ow.bind(null,c)},(g=ae(l)).xu(),new Ca(h,g.iu,g.credentials,g.serializer,f)),c.Ju.push(function(l){return M.__awaiter(o,void 0,void 0,function(){return M.__generator(this,function(h){switch(h.label){case 0:return l?(c.ah.lu(),[4,qo(c)]):[3,2];case 1:return h.sent(),[3,4];case 2:return[4,c.ah.stop()];case 3:h.sent(),c.zu.length>0&&(ee("RemoteStore","Stopping write stream with "+c.zu.length+" pending writes"),c.zu=[]),h.label=4;case 4:return[2]}})})})),c.ah}var kc=function(c){this.key=c},hy=function(c){this.key=c},_p=function(){function c(o,l){this.query=o,this.uh=l,this.hh=null,this.te=!1,this.lh=fn(),this.Wt=fn(),this._h=mn(o),this.fh=new On(this._h)}return Object.defineProperty(c.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),c.prototype.wh=function(o,l){var h=this,f=l?l.mh:new lo,g=l?l.fh:this.fh,v=l?l.Wt:this.Wt,b=g,E=!1,S=Gn(this.query)&&g.size===this.query.limit?g.last():null,A=er(this.query)&&g.size===this.query.limit?g.first():null;if(o.ht(function(P,V){var z=g.get(P),J=V instanceof Ht?V:null;J&&(J=ft(h.query,J)?J:null);var Ae=!!z&&h.Wt.has(z.key),De=!!J&&(J.Je||h.Wt.has(J.key)&&J.hasCommittedMutations),Ye=!1;z&&J?z.data().isEqual(J.data())?Ae!==De&&(f.track({type:3,doc:J}),Ye=!0):h.Th(z,J)||(f.track({type:2,doc:J}),Ye=!0,(S&&h._h(J,S)>0||A&&h._h(J,A)<0)&&(E=!0)):!z&&J?(f.track({type:0,doc:J}),Ye=!0):z&&!J&&(f.track({type:1,doc:z}),Ye=!0,(S||A)&&(E=!0)),Ye&&(J?(b=b.add(J),v=De?v.add(P):v.delete(P)):(b=b.delete(P),v=v.delete(P)))}),Gn(this.query)||er(this.query))for(;b.size>this.query.limit;){var R=Gn(this.query)?b.last():b.first();b=b.delete(R.key),v=v.delete(R.key),f.track({type:1,doc:R})}return{fh:b,mh:f,Eh:E,Wt:v}},c.prototype.Th=function(o,l){return o.Je&&l.hasCommittedMutations&&!l.Je},c.prototype.yr=function(o,l,h){var f=this,g=this.fh;this.fh=o.fh,this.Wt=o.Wt;var v=o.mh.Ut();v.sort(function(A,R){return V=R.type,(z=function(J){switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}})(A.type)-z(V)||f._h(A.doc,R.doc);var V,z}),this.Ih(h);var b=l?this.Ah():[],E=0===this.lh.size&&this.te?1:0,S=E!==this.hh;return this.hh=E,0!==v.length||S?{snapshot:new Sr(this.query,o.fh,g,v,o.Wt,0===E,S,!1),Rh:b}:{Rh:b}},c.prototype.Qs=function(o){return this.te&&"Offline"===o?(this.te=!1,this.yr({fh:this.fh,mh:new lo,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},c.prototype.gh=function(o){return!this.uh.has(o)&&!!this.fh.has(o)&&!this.fh.get(o).Je},c.prototype.Ih=function(o){var l=this;o&&(o.ee.forEach(function(h){return l.uh=l.uh.add(h)}),o.ne.forEach(function(h){}),o.se.forEach(function(h){return l.uh=l.uh.delete(h)}),this.te=o.te)},c.prototype.Ah=function(){var o=this;if(!this.te)return[];var l=this.lh;this.lh=fn(),this.fh.forEach(function(f){o.gh(f.key)&&(o.lh=o.lh.add(f.key))});var h=[];return l.forEach(function(f){o.lh.has(f)||h.push(new hy(f))}),this.lh.forEach(function(f){l.has(f)||h.push(new kc(f))}),h},c.prototype.Ph=function(o){this.uh=o.Fc,this.lh=fn();var l=this.wh(o.documents);return this.yr(l,!0)},c.prototype.yh=function(){return Sr.Gt(this.query,this.fh,this.Wt,0===this.hh)},c}(),dy=function(c,o,l){this.query=c,this.targetId=o,this.view=l},fy=function(c){this.key=c,this.Vh=!1},py=function(){function c(o,l,h,f,g,v){this.ju=o,this.ph=l,this.bh=h,this.Sh=f,this.currentUser=g,this.Dh=v,this.Ch={},this.Nh=new Sn(function(b){return Hi(b)},Lo),this.Fh=new Map,this.xh=[],this.$h=new Un(te.i),this.kh=new Map,this.Mh=new pp,this.Oh={},this.Lh=new Map,this.Bh=xs.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(c.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),c}();function Nw(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,f,g,v,b;return M.__generator(this,function(E){switch(E.label){case 0:return l=vy(c),(g=l.Nh.get(o))?(l.Sh.Oi(g.targetId),f=g.view.yh(),[3,4]):[3,1];case 1:return[4,pd(l.ju,ri(o))];case 2:return v=E.sent(),b=l.Sh.Oi(v.targetId),[4,bp(l,o,v.targetId,"current"===b)];case 3:f=E.sent(),l.Uh&&yd(l.ph,v),E.label=4;case 4:return[2,f]}})})}function bp(c,o,l,h){return M.__awaiter(this,void 0,void 0,function(){var f,g,v,b,E,S;return M.__generator(this,function(A){switch(A.label){case 0:return c.Qh=function(R,P,V){return function(z,J,Ae,De){return M.__awaiter(this,void 0,void 0,function(){var Ye,yt,Ot;return M.__generator(this,function(Kt){switch(Kt.label){case 0:return(Ye=J.view.wh(Ae)).Eh?[4,zs(z.ju,J.query,!1).then(function(xn){return J.view.wh(xn.documents,Ye)})]:[3,2];case 1:Ye=Kt.sent(),Kt.label=2;case 2:return yt=De&&De.zt.get(J.targetId),Ot=J.view.yr(Ye,z.Uh,yt),[2,(xa(z,J.targetId,Ot.Rh),Ot.snapshot)]}})})}(c,R,P,V)},[4,zs(c.ju,o,!0)];case 1:return f=A.sent(),g=new _p(o,f.Fc),v=g.wh(f.documents),b=ou.Zt(l,h&&"Offline"!==c.onlineState),E=g.yr(v,c.Uh,b),xa(c,l,E.Rh),S=new dy(o,l,g),[2,(c.Nh.set(o,S),c.Fh.has(l)?c.Fh.get(l).push(o):c.Fh.set(l,[o]),E.snapshot)]}})})}function wd(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h,f;return M.__generator(this,function(g){switch(g.label){case 0:return l=ae(c),h=l.Nh.get(o),(f=l.Fh.get(h.targetId)).length>1?[2,(l.Fh.set(h.targetId,f.filter(function(v){return!Lo(v,o)})),void l.Nh.delete(o))]:l.Uh?(l.Sh.Bi(h.targetId),l.Sh.Fi(h.targetId)?[3,2]:[4,oi(l.ju,h.targetId,!1).then(function(){l.Sh.Ui(h.targetId),vd(l.ph,h.targetId),Ks(l,h.targetId)}).catch(Sl)]):[3,3];case 1:g.sent(),g.label=2;case 2:return[3,5];case 3:return Ks(l,h.targetId),[4,oi(l.ju,h.targetId,!0)];case 4:g.sent(),g.label=5;case 5:return[2]}})})}function wu(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h;return M.__generator(this,function(f){switch(f.label){case 0:l=ae(c),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,fd(l.ju,o)];case 2:return h=f.sent(),o.zt.forEach(function(g,v){var b=l.kh.get(v);b&&(be(g.ee.size+g.ne.size+g.se.size<=1),g.ee.size>0?b.Vh=!0:g.ne.size>0?be(b.Vh):g.se.size>0&&(be(b.Vh),b.Vh=!1))}),[4,Go(l,h,o)];case 3:return f.sent(),[3,6];case 4:return[4,Sl(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function my(c,o,l){var h=ae(c);if(h.Uh&&0===l||!h.Uh&&1===l){var f=[];h.Nh.forEach(function(g,v){var b=v.view.Qs(o);b.snapshot&&f.push(b.snapshot)}),function(g,v){var b=ae(g);b.onlineState=v;var E=!1;b.Bs.forEach(function(S,A){for(var R=0,P=A.listeners;R<P.length;R++)P[R].Qs(v)&&(E=!0)}),E&&gl(b)}(h.bh,o),f.length&&h.Ch.yu(f),h.onlineState=o,h.Uh&&h.Sh.Ki(o)}}function gy(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f,g,v,b,E;return M.__generator(this,function(S){switch(S.label){case 0:return(h=ae(c)).Sh.Qi(o,"rejected",l),f=h.kh.get(o),(g=f&&f.key)?(v=(v=new Un(te.i)).ot(g,new nt(g,It.min())),b=fn().add(g),E=new su(It.min(),new Map,new Hn(Ke),v,b),[4,wu(h,E)]):[3,2];case 1:return S.sent(),h.$h=h.$h.remove(g),h.kh.delete(o),Cd(h),[3,4];case 2:return[4,oi(h.ju,o,!1).then(function(){return Ks(h,o,l)}).catch(Sl)];case 3:S.sent(),S.label=4;case 4:return[2]}})})}function yy(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h,f;return M.__generator(this,function(g){switch(g.label){case 0:l=ae(c),h=o.batch.batchId,g.label=1;case 1:return g.trys.push([1,4,,6]),[4,oy(l.ju,o)];case 2:return f=g.sent(),Rc(l,h,null),pi(l,h),l.Sh.ki(h,"acknowledged"),[4,Go(l,f)];case 3:return g.sent(),[3,6];case 4:return[4,Sl(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function Cu(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f;return M.__generator(this,function(g){switch(g.label){case 0:h=ae(c),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,(v=h.ju,b=o,E=ae(v),E.persistence.runTransaction("Reject batch","readwrite-primary",function(S){var A;return E.Sr.Oo(S,b).next(function(R){return be(null!==R),A=R.keys(),E.Sr.Wo(S,R)}).next(function(){return E.Sr.zo(S)}).next(function(){return E.Cc.kr(S,A)})}))];case 2:return f=g.sent(),Rc(h,o,l),pi(h,o),h.Sh.ki(o,"rejected",l),[4,Go(h,f)];case 3:return g.sent(),[3,6];case 4:return[4,Sl(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}var v,b,E})})}function pi(c,o){(c.Lh.get(o)||[]).forEach(function(l){l.resolve()}),c.Lh.delete(o)}function Rc(c,o,l){var h=ae(c),f=h.Oh[h.currentUser.ti()];if(f){var g=f.get(o);g&&(l?g.reject(l):g.resolve(),f=f.remove(o)),h.Oh[h.currentUser.ti()]=f}}function Ks(c,o,l){void 0===l&&(l=null),c.Sh.Bi(o);for(var h=0,f=c.Fh.get(o);h<f.length;h++){var g=f[h];c.Nh.delete(g),l&&c.Ch.Wh(g,l)}c.Fh.delete(o),c.Uh&&c.Mh.Uc(o).forEach(function(v){c.Mh.Ho(v)||Il(c,v)})}function Il(c,o){var l=c.$h.get(o);null!==l&&(vd(c.ph,l),c.$h=c.$h.remove(o),c.kh.delete(l),Cd(c))}function xa(c,o,l){for(var h=0,f=l;h<f.length;h++){var g=f[h];g instanceof kc?(c.Mh.Da(g.key,o),Eu(c,g)):g instanceof hy?(ee("SyncEngine","Document no longer in limbo: "+g.key),c.Mh.Na(g.key,o),c.Mh.Ho(g.key)||Il(c,g.key)):fe()}}function Eu(c,o){var l=o.key;c.$h.get(l)||(ee("SyncEngine","New document in limbo: "+l),c.xh.push(l),Cd(c))}function Cd(c){for(;c.xh.length>0&&c.$h.size<c.Dh;){var o=c.xh.shift(),l=c.Bh.next();c.kh.set(l,new fy(o)),c.$h=c.$h.ot(o,l),yd(c.ph,new jn(ri(Qn(o.path)),l,2,gr.ai))}}function Go(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f,g,v;return M.__generator(this,function(b){switch(b.label){case 0:return h=ae(c),f=[],g=[],v=[],h.Nh.m()?[3,3]:(h.Nh.forEach(function(E,S){v.push(h.Qh(S,o,l).then(function(A){if(A){h.Uh&&h.Sh.Qi(S.targetId,A.fromCache?"not-current":"current"),f.push(A);var R=Es.zr(S.targetId,A);g.push(R)}}))}),[4,Promise.all(v)]);case 1:return b.sent(),h.Ch.yu(f),[4,function(E,S){return M.__awaiter(this,void 0,void 0,function(){var A,R,P,V,z,J,Ae,Ye;return M.__generator(this,function(yt){switch(yt.label){case 0:A=ae(E),yt.label=1;case 1:return yt.trys.push([1,3,,4]),[4,A.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Ot){return ue.forEach(S,function(Kt){return ue.forEach(Kt.Kr,function(xn){return A.persistence.No.Da(Ot,Kt.targetId,xn)}).next(function(){return ue.forEach(Kt.Gr,function(xn){return A.persistence.No.Na(Ot,Kt.targetId,xn)})})})})];case 2:return yt.sent(),[3,4];case 3:if(!$r(R=yt.sent()))throw R;return ee("LocalStore","Failed to update sequence numbers: "+R),[3,4];case 4:for(P=0,V=S;P<V.length;P++)J=(z=V[P]).targetId,z.fromCache||(Ae=A.bc.get(J),Ye=Ae.rt(Ae.nt),A.bc=A.bc.ot(J,Ye));return[2]}})})}(h.ju,g)];case 2:b.sent(),b.label=3;case 3:return[2]}})})}function Du(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h;return M.__generator(this,function(f){switch(f.label){case 0:return(l=ae(c)).currentUser.isEqual(o)?[3,3]:(ee("SyncEngine","User change. New user:",o.ti()),[4,function(g,v){return M.__awaiter(this,void 0,void 0,function(){var b,E,S,A;return M.__generator(this,function(R){switch(R.label){case 0:return b=ae(g),E=b.Sr,S=b.Cc,[4,b.persistence.runTransaction("Handle user change","readonly",function(P){var V;return b.Sr.Uo(P).next(function(z){return V=z,E=b.persistence.mc(v),S=new Jg(b.Dc,E,b.persistence.Ic()),E.Uo(P)}).next(function(z){for(var J=[],Ae=[],De=fn(),Ye=0,yt=V;Ye<yt.length;Ye++){var Ot=yt[Ye];J.push(Ot.batchId);for(var Kt=0,xn=Ot.mutations;Kt<xn.length;Kt++)De=De.add(xn[Kt].key)}for(var Jr=0,Ol=z;Jr<Ol.length;Jr++){var jc=Ol[Jr];Ae.push(jc.batchId);for(var Mu=0,Uc=jc.mutations;Mu<Uc.length;Mu++)De=De.add(Uc[Mu].key)}return S.kr(P,De).next(function(Hy){return{jh:Hy,Kh:J,Gh:Ae}})})})];case 1:return A=R.sent(),[2,(b.Sr=E,b.Cc=S,b.Vc.Nc(b.Cc),A)]}})})}(l.ju,o)]);case 1:return h=f.sent(),l.currentUser=o,(g=l).Lh.forEach(function(b){b.forEach(function(E){E.reject(new H(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.Lh.clear(),l.Sh.ji(o,h.Kh,h.Gh),[4,Go(l,h.jh)];case 2:f.sent(),f.label=3;case 3:return[2]}var g})})}function MT(c,o){var l=ae(c),h=l.kh.get(o);if(h&&h.Vh)return fn().add(h.key);var f=fn(),g=l.Fh.get(o);if(!g)return f;for(var v=0,b=g;v<b.length;v++){var S=l.Nh.get(b[v]);f=f.kt(S.view.dh)}return f}function Fw(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h,f;return M.__generator(this,function(g){switch(g.label){case 0:return[4,zs((l=ae(c)).ju,o.query,!0)];case 1:return h=g.sent(),f=o.view.Ph(h),[2,(l.Uh&&xa(l,o.targetId,f.Rh),f)]}})})}function ge(c,o,l,h){return M.__awaiter(this,void 0,void 0,function(){var f,g;return M.__generator(this,function(v){switch(v.label){case 0:return[4,(b=(f=ae(c)).ju,E=o,S=ae(b),A=ae(S.Sr),S.persistence.runTransaction("Lookup mutation documents","readonly",function(R){return A.Lo(R,E).next(function(P){return P?S.Cc.kr(R,P):ue.resolve(null)})}))];case 1:return null===(g=v.sent())?[3,6]:"pending"!==l?[3,3]:[4,qo(f.ph)];case 2:return v.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(Rc(f,o,h||null),pi(f,o),function(b,E){ae(ae(b).Sr).Ko(E)}(f.ju,o)):fe(),v.label=4;case 4:return[4,Go(f,g)];case 5:return v.sent(),[3,7];case 6:ee("SyncEngine","Cannot apply mutation batch with id: "+o),v.label=7;case 7:return[2]}var b,E,S,A})})}function Lw(c,o){return M.__awaiter(this,void 0,void 0,function(){var l,h,f,g,v,E,S;return M.__generator(this,function(A){switch(A.label){case 0:return vy(l=ae(c)),Tl(l),!0!==o||!0===l.qh?[3,3]:(h=l.Sh.Ci(),[4,Vw(l,h.A())]);case 1:return f=A.sent(),l.qh=!0,[4,Mc(l.ph,!0)];case 2:for(A.sent(),g=0,v=f;g<v.length;g++)yd(l.ph,v[g]);return[3,7];case 3:return!1!==o||!1===l.qh?[3,7]:(E=[],S=Promise.resolve(),l.Fh.forEach(function(R,P){l.Sh.qi(P)?E.push(P):S=S.then(function(){return Ks(l,P),oi(l.ju,P,!0)}),vd(l.ph,P)}),[4,S]);case 4:return A.sent(),[4,Vw(l,E)];case 5:return A.sent(),(P=ae(l)).kh.forEach(function(V,z){vd(P.ph,z)}),P.Mh.Qc(),P.kh=new Map,P.$h=new Un(te.i),l.qh=!1,[4,Mc(l.ph,!1)];case 6:A.sent(),A.label=7;case 7:return[2]}var P})})}function Vw(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f,g,v,b,E,S,A,R,P,z,J,Ae;return M.__generator(this,function(De){switch(De.label){case 0:h=ae(c),f=[],g=[],v=0,b=o,De.label=1;case 1:return v<b.length?(S=void 0,(A=h.Fh.get(E=b[v]))&&0!==A.length?[4,pd(h.ju,ri(A[0]))]:[3,7]):[3,13];case 2:S=De.sent(),R=0,P=A,De.label=3;case 3:return R<P.length?(z=h.Nh.get(P[R]),[4,Fw(h,z)]):[3,6];case 4:(J=De.sent()).snapshot&&g.push(J.snapshot),De.label=5;case 5:return R++,[3,3];case 6:return[3,11];case 7:return[4,Vn(h.ju,E)];case 8:return Ae=De.sent(),[4,pd(h.ju,Ae)];case 9:return S=De.sent(),[4,bp(h,Bw(Ae),E,!1)];case 10:De.sent(),De.label=11;case 11:f.push(S),De.label=12;case 12:return v++,[3,1];case 13:return[2,(h.Ch.yu(g),f)]}})})}function Bw(c){return Be(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function kT(c){var o=ae(c);return ae(ae(o.ju).persistence).pi()}function RT(c,o,l,h){return M.__awaiter(this,void 0,void 0,function(){var f,g,v;return M.__generator(this,function(b){switch(b.label){case 0:return(f=ae(c)).qh?(ee("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!f.Fh.has(o))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xw(f.ju)];case 3:return g=b.sent(),v=su.Xt(o,"current"===l),[4,Go(f,g,v)];case 4:return b.sent(),[3,8];case 5:return[4,oi(f.ju,o,!0)];case 6:return b.sent(),Ks(f,o,h),[3,8];case 7:fe(),b.label=8;case 8:return[2]}})})}function PT(c,o,l){return M.__awaiter(this,void 0,void 0,function(){var h,f,g,v,b,E,S,A,R;return M.__generator(this,function(V){switch(V.label){case 0:if(!(h=vy(c)).qh)return[3,10];f=0,g=o,V.label=1;case 1:return f<g.length?h.Fh.has(v=g[f])?(ee("SyncEngine","Adding an already active target "+v),[3,5]):[4,Vn(h.ju,v)]:[3,6];case 2:return b=V.sent(),[4,pd(h.ju,b)];case 3:return E=V.sent(),[4,bp(h,Bw(b),E.targetId,!1)];case 4:V.sent(),yd(h.ph,E),V.label=5;case 5:return f++,[3,1];case 6:S=function(z){return M.__generator(this,function(J){switch(J.label){case 0:return h.Fh.has(z)?[4,oi(h.ju,z,!1).then(function(){vd(h.ph,z),Ks(h,z)}).catch(Sl)]:[3,2];case 1:J.sent(),J.label=2;case 2:return[2]}})},A=0,R=l,V.label=7;case 7:return A<R.length?[5,S(R[A])]:[3,10];case 8:V.sent(),V.label=9;case 9:return A++,[3,7];case 10:return[2]}})})}function vy(c){var o=ae(c);return o.ph.Gu.sh=wu.bind(null,o),o.ph.Gu.qe=MT.bind(null,o),o.ph.Gu.nh=gy.bind(null,o),o.Ch.yu=Kr.bind(null,o.bh),o.Ch.Wh=td.bind(null,o.bh),o}function Tl(c){var o=ae(c);return o.ph.Gu.ih=yy.bind(null,o),o.ph.Gu.rh=Cu.bind(null,o),o}var OT=function(){function c(){}return c.prototype.Nc=function(o){this.zh=o},c.prototype.Lr=function(o,l,h,f){var v,g=this;return 0===(v=l).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.on.length||1===v.on.length&&v.on[0].field.p())||h.isEqual(It.min())?this.Hh(o,l):this.zh.kr(o,f).next(function(v){var b=g.Yh(l,v);return(Gn(l)||er(l))&&g.Eh(l.an,b,f,h)?g.Hh(o,l):(me()<=Pe.LogLevel.DEBUG&&ee("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ve(l)),g.zh.Lr(o,l,h).next(function(E){return b.forEach(function(S){E=E.ot(S.key,S)}),E}))})},c.prototype.Yh=function(o,l){var h=new Hn(mn(o));return l.forEach(function(f,g){g instanceof Ht&&ft(o,g)&&(h=h.add(g))}),h},c.prototype.Eh=function(o,l,h,f){if(h.size!==l.size)return!0;var g="F"===o?l.last():l.first();return!!g&&(g.hasPendingWrites||g.version.L(f)>0)},c.prototype.Hh=function(o,l){return me()<=Pe.LogLevel.DEBUG&&ee("IndexFreeQueryEngine","Using full collection scan to execute query:",ve(l)),this.zh.Lr(o,l,It.min())},c}(),mi=function(){function c(o,l){this.Dr=o,this.No=l,this.Sr=[],this.Jh=1,this.Xh=new Hn(Ai.kc)}return c.prototype.$o=function(o){return ue.resolve(0===this.Sr.length)},c.prototype.ko=function(o,l,h,f){var g=this.Jh;this.Jh++;var v=new ip(g,l,h,f);this.Sr.push(v);for(var b=0,E=f;b<E.length;b++){var S=E[b];this.Xh=this.Xh.add(new Ai(S.key,g)),this.Dr.Mo(o,S.key.path.h())}return ue.resolve(v)},c.prototype.Oo=function(o,l){return ue.resolve(this.Zh(l))},c.prototype.Bo=function(o,l){var f=this.tl(l+1),g=f<0?0:f;return ue.resolve(this.Sr.length>g?this.Sr[g]:null)},c.prototype.qo=function(){return ue.resolve(0===this.Sr.length?-1:this.Jh-1)},c.prototype.Uo=function(o){return ue.resolve(this.Sr.slice())},c.prototype.Nr=function(o,l){var h=this,f=new Ai(l,0),g=new Ai(l,Number.POSITIVE_INFINITY),v=[];return this.Xh.Ft([f,g],function(b){var E=h.Zh(b.jc);v.push(E)}),ue.resolve(v)},c.prototype.Or=function(o,l){var h=this,f=new Hn(Ke);return l.forEach(function(g){var v=new Ai(g,0),b=new Ai(g,Number.POSITIVE_INFINITY);h.Xh.Ft([v,b],function(E){f=f.add(E.jc)})}),ue.resolve(this.el(f))},c.prototype.Wr=function(o,l){var h=l.path,f=h.length+1,g=h;te.F(g)||(g=g.child(""));var v=new Ai(new te(g),0),b=new Hn(Ke);return this.Xh.xt(function(E){var S=E.key.path;return!!h.T(S)&&(S.length===f&&(b=b.add(E.jc)),!0)},v),ue.resolve(this.el(b))},c.prototype.el=function(o){var l=this,h=[];return o.forEach(function(f){var g=l.Zh(f);null!==g&&h.push(g)}),h},c.prototype.Wo=function(o,l){var h=this;be(0===this.nl(l.batchId,"removed")),this.Sr.shift();var f=this.Xh;return ue.forEach(l.mutations,function(g){var v=new Ai(g.key,l.batchId);return f=f.delete(v),h.No.Go(o,g.key)}).next(function(){h.Xh=f})},c.prototype.Ko=function(o){},c.prototype.Ho=function(o,l){var h=new Ai(l,0),f=this.Xh.$t(h);return ue.resolve(l.isEqual(f&&f.key))},c.prototype.zo=function(o){return ue.resolve()},c.prototype.nl=function(o,l){return this.tl(o)},c.prototype.tl=function(o){return 0===this.Sr.length?0:o-this.Sr[0].batchId},c.prototype.Zh=function(o){var l=this.tl(o);return l<0||l>=this.Sr.length?null:this.Sr[l]},c}(),wp=function(){function c(o,l){this.Dr=o,this.sl=l,this.docs=new Un(te.i),this.size=0}return c.prototype.Er=function(o,l,h){var f=l.key,g=this.docs.get(f),v=g?g.size:0,b=this.sl(l);return this.docs=this.docs.ot(f,{ta:l,size:b,readTime:h}),this.size+=b-v,this.Dr.Mo(o,f.path.h())},c.prototype.Ar=function(o){var l=this.docs.get(o);l&&(this.docs=this.docs.remove(o),this.size-=l.size)},c.prototype.Rr=function(o,l){var h=this.docs.get(l);return ue.resolve(h?h.ta:null)},c.prototype.getEntries=function(o,l){var h=this,f=Ei();return l.forEach(function(g){var v=h.docs.get(g);f=f.ot(g,v?v.ta:null)}),ue.resolve(f)},c.prototype.Lr=function(o,l,h){for(var f=ko(),g=new te(l.path.child("")),v=this.docs.ft(g);v.At();){var b=v.It(),S=b.value,A=S.ta,R=S.readTime;if(!l.path.T(b.key.path))break;R.L(h)<=0||A instanceof Ht&&ft(l,A)&&(f=f.ot(A.key,A))}return ue.resolve(f)},c.prototype.il=function(o,l){return ue.forEach(this.docs,function(h){return l(h)})},c.prototype.ra=function(o){return new Pc(this)},c.prototype.aa=function(o){return ue.resolve(this.size)},c}(),Pc=function(c){function o(l){var h=this;return(h=c.call(this)||this).ca=l,h}return M.__extends(o,c),o.prototype.yr=function(l){var h=this,f=[];return this.wr.forEach(function(g,v){v?f.push(h.ca.Er(l,v,h.readTime)):h.ca.Ar(g)}),ue.$n(f)},o.prototype.gr=function(l,h){return this.ca.Rr(l,h)},o.prototype.Pr=function(l,h){return this.ca.getEntries(l,h)},o}(rp),NT=function(){function c(o){this.persistence=o,this.rl=new Sn(function(l){return Re(l)},gt),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.ol=0,this.al=new pp,this.targetCount=0,this.cl=xs.fa()}return c.prototype.Ce=function(o,l){return this.rl.forEach(function(h,f){return l(f)}),ue.resolve()},c.prototype.Ea=function(o){return ue.resolve(this.lastRemoteSnapshotVersion)},c.prototype.Ia=function(o){return ue.resolve(this.ol)},c.prototype.wa=function(o){return this.highestTargetId=this.cl.next(),ue.resolve(this.highestTargetId)},c.prototype.Aa=function(o,l,h){return h&&(this.lastRemoteSnapshotVersion=h),l>this.ol&&(this.ol=l),ue.resolve()},c.prototype.ga=function(o){this.rl.set(o.target,o);var l=o.targetId;l>this.highestTargetId&&(this.cl=new xs(l),this.highestTargetId=l),o.sequenceNumber>this.ol&&(this.ol=o.sequenceNumber)},c.prototype.Ra=function(o,l){return this.ga(l),this.targetCount+=1,ue.resolve()},c.prototype.ya=function(o,l){return this.ga(l),ue.resolve()},c.prototype.Va=function(o,l){return this.rl.delete(l.target),this.al.Uc(l.targetId),this.targetCount-=1,ue.resolve()},c.prototype.po=function(o,l,h){var f=this,g=0,v=[];return this.rl.forEach(function(b,E){E.sequenceNumber<=l&&null===h.get(E.targetId)&&(f.rl.delete(b),v.push(f.pa(o,E.targetId)),g++)}),ue.$n(v).next(function(){return g})},c.prototype.ba=function(o){return ue.resolve(this.targetCount)},c.prototype.va=function(o,l){var h=this.rl.get(l)||null;return ue.resolve(h)},c.prototype.Sa=function(o,l,h){return this.al.Lc(l,h),ue.resolve()},c.prototype.Ca=function(o,l,h){this.al.qc(l,h);var f=this.persistence.No,g=[];return f&&l.forEach(function(v){g.push(f.Go(o,v))}),ue.$n(g)},c.prototype.pa=function(o,l){return this.al.Uc(l),ue.resolve()},c.prototype.Fa=function(o,l){var h=this.al.Wc(l);return ue.resolve(h)},c.prototype.Ho=function(o,l){return ue.resolve(this.al.Ho(l))},c}(),jw=function(){function c(o){var l=this;this.ul={},this.Ma=new gr(0),this.Oa=!1,this.Oa=!0,this.No=o(this),this.Ka=new NT(this),this.Dr=new bw,this.vr=new wp(this.Dr,function(g){return l.No.hl(g)})}return c.prototype.start=function(){return Promise.resolve()},c.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.Za=function(){},c.prototype.tc=function(){},c.prototype.Ic=function(){return this.Dr},c.prototype.mc=function(o){var l=this.ul[o.ti()];return l||(l=new mi(this.Dr,this.No),this.ul[o.ti()]=l),l},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.runTransaction=function(o,l,h){var f=this;ee("MemoryPersistence","Starting transaction:",o);var g=new Ss(this.Ma.next());return this.No.ll(),h(g).next(function(v){return f.No._l(g).next(function(){return v})}).Fn().then(function(v){return g.br(),v})},c.prototype.fl=function(o,l){return ue.kn(Object.values(this.ul).map(function(h){return function(){return h.Ho(o,l)}}))},c}(),Ss=function(c){function o(l){var h=this;return(h=c.call(this)||this).xa=l,h}return M.__extends(o,c),o}(rd),go=function(){function c(o){this.persistence=o,this.dl=new pp,this.wl=null}return c.ml=function(o){return new c(o)},Object.defineProperty(c.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw fe()},enumerable:!1,configurable:!0}),c.prototype.Da=function(o,l,h){return this.dl.Da(h,l),this.Tl.delete(h.toString()),ue.resolve()},c.prototype.Na=function(o,l,h){return this.dl.Na(h,l),this.Tl.add(h.toString()),ue.resolve()},c.prototype.Go=function(o,l){return this.Tl.add(l.toString()),ue.resolve()},c.prototype.removeTarget=function(o,l){var h=this;this.dl.Uc(l.targetId).forEach(function(g){return h.Tl.add(g.toString())});var f=this.persistence.Tc();return f.Fa(o,l.targetId).next(function(g){g.forEach(function(v){return h.Tl.add(v.toString())})}).next(function(){return f.Va(o,l)})},c.prototype.ll=function(){this.wl=new Set},c.prototype._l=function(o){var l=this,h=this.persistence.Ec().ra();return ue.forEach(this.Tl,function(f){var g=te.D(f);return l.El(o,g).next(function(v){v||h.Ar(g)})}).next(function(){return l.wl=null,h.apply(o)})},c.prototype.yc=function(o,l){var h=this;return this.El(o,l).next(function(f){f?h.Tl.delete(l.toString()):h.Tl.add(l.toString())})},c.prototype.hl=function(o){return 0},c.prototype.El=function(o,l){var h=this;return ue.kn([function(){return ue.resolve(h.dl.Ho(l))},function(){return h.persistence.Tc().Ho(o,l)},function(){return h.persistence.fl(o,l)}])},c}(),_y=function(){function c(o){this.Il=o.Il,this.Al=o.Al}return c.prototype.gu=function(o){this.Rl=o},c.prototype.Tu=function(o){this.gl=o},c.prototype.onMessage=function(o){this.Pl=o},c.prototype.close=function(){this.Al()},c.prototype.send=function(o){this.Il(o)},c.prototype.yl=function(){this.Rl()},c.prototype.Vl=function(o){this.gl(o)},c.prototype.pl=function(o){this.Pl(o)},c}(),Ed={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Oc=function(c){function o(l){var h=this;return(h=c.call(this,l)||this).forceLongPolling=l.forceLongPolling,h.W=l.W,h}return M.__extends(o,c),o.prototype.Nl=function(l,h,f,g){return new Promise(function(v,b){var E=new rn.XhrIo;E.listenOnce(rn.EventType.COMPLETE,function(){try{switch(E.getLastErrorCode()){case rn.ErrorCode.NO_ERROR:var A=E.getResponseJson();ee("Connection","XHR received:",JSON.stringify(A)),v(A);break;case rn.ErrorCode.TIMEOUT:ee("Connection",'RPC "'+l+'" timed out'),b(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case rn.ErrorCode.HTTP_ERROR:var R=E.getStatus();if(ee("Connection",'RPC "'+l+'" failed with status:',R,"response text:",E.getResponseText()),R>0){var P=E.getResponseJson().error;if(P&&P.status&&P.message){var V=(J=P.status.toLowerCase().replace("_","-"),Object.values(O).indexOf(J)>=0?J:O.UNKNOWN);b(new H(V,P.message))}else b(new H(O.UNKNOWN,"Server responded with status "+E.getStatus()))}else b(new H(O.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ee("Connection",'RPC "'+l+'" completed.')}var J});var S=JSON.stringify(g);E.send(h,"POST",S,f,15)})},o.prototype.Pu=function(l,h){var f=[this.vl,"/","google.firestore.v1.Firestore","/",l,"/channel"],g=rn.createWebChannelTransport(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(v.initMessageHeaders,h),ie.isMobileCordova()||ie.isReactNative()||ie.isElectron()||ie.isIE()||ie.isUWP()||ie.isBrowserExtension()||(v.httpHeadersOverwriteParam="$httpHeaders");var b=f.join("");ee("Connection","Creating WebChannel: "+b,v);var E=g.createWebChannel(b,v),S=!1,A=!1,R=new _y({Il:function(V){A?ee("Connection","Not sending because WebChannel is closed:",V):(S||(ee("Connection","Opening WebChannel transport."),E.open(),S=!0),ee("Connection","WebChannel sending:",V),E.send(V))},Al:function(){return E.close()}}),P=function(V,z){E.listen(V,function(J){try{z(J)}catch(Ae){setTimeout(function(){throw Ae},0)}})};return P(rn.WebChannel.EventType.OPEN,function(){A||ee("Connection","WebChannel transport opened.")}),P(rn.WebChannel.EventType.CLOSE,function(){A||(A=!0,ee("Connection","WebChannel transport closed"),R.Vl())}),P(rn.WebChannel.EventType.ERROR,function(V){A||(A=!0,dn("Connection","WebChannel transport errored:",V),R.Vl(new H(O.UNAVAILABLE,"The operation could not be completed")))}),P(rn.WebChannel.EventType.MESSAGE,function(V){var z;if(!A){var J=V.data[0];be(!!J);var De=J.error||(null===(z=J[0])||void 0===z?void 0:z.error);if(De){ee("Connection","WebChannel received error:",De);var Ye=De.status,yt=function(Kt){var xn=ut[Kt];if(void 0!==xn)return Os(xn)}(Ye),Ot=De.message;void 0===yt&&(yt=O.INTERNAL,Ot="Unknown error status: "+Ye+" with message "+De.message),A=!0,R.Vl(new H(yt,Ot)),E.close()}else ee("Connection","WebChannel received:",J),R.pl(J)}}),setTimeout(function(){R.yl()},0),R},o}(function(){function c(o){this.bl=o,this.U=o.U,this.vl=(o.ssl?"https":"http")+"://"+o.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return c.prototype.$u=function(o,l,h,f){var g=this.Dl(o,l);ee("RestConnection","Sending: ",g,h);var v={};return this.Cl(v,f),this.Nl(o,g,v,h).then(function(b){return ee("RestConnection","Received: ",b),b},function(b){throw dn("RestConnection",o+" failed with error: ",b,"url: ",g,"request:",h),b})},c.prototype.ku=function(o,l,h,f){return this.$u(o,l,h,f)},c.prototype.Cl=function(o,l){if(o["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",o["Content-Type"]="text/plain",l)for(var h in l.Kc)l.Kc.hasOwnProperty(h)&&(o[h]=l.Kc[h])},c.prototype.Dl=function(o,l){return this.vl+"/v1/"+l+":"+Ed[o]},c}()),Cp=function(){function c(){var o=this;this.Fl=function(){return o.xl()},this.$l=function(){return o.kl()},this.Ml=[],this.Ol()}return c.prototype.Zu=function(o){this.Ml.push(o)},c.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},c.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},c.prototype.xl=function(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var o=0,l=this.Ml;o<l.length;o++)(0,l[o])(0)},c.prototype.kl=function(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var o=0,l=this.Ml;o<l.length;o++)(0,l[o])(1)},c.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),Uw=function(){function c(){}return c.prototype.Zu=function(o){},c.prototype.Di=function(){},c}();function Ep(c){return new No(c,!0)}var Hw="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Dp=function(){function c(){}return c.prototype.initialize=function(o){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(l){switch(l.label){case 0:return this.Sh=this.Ll(o),this.persistence=this.Bl(o),[4,this.persistence.start()];case 1:return l.sent(),this.ql=this.Ul(o),this.ju=this.Ql(o),[2]}})})},c.prototype.Ul=function(o){return null},c.prototype.Ql=function(o){return l=this.persistence,h=new OT,new sy(l,h,o.Wl);var l,h},c.prototype.Bl=function(o){if(o.persistenceSettings.jl)throw new H(O.FAILED_PRECONDITION,Hw);return new jw(go.ml)},c.prototype.Ll=function(o){return new np},c.prototype.terminate=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(o){switch(o.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return o.sent(),[4,this.persistence.Di()];case 2:return o.sent(),[2]}})})},c.prototype.clearPersistence=function(o,l){throw new H(O.FAILED_PRECONDITION,Hw)},c}(),by=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.initialize=function(l){return M.__awaiter(this,void 0,void 0,function(){var h,f=this;return M.__generator(this,function(g){switch(g.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return g.sent(),h=this.Kl.fi,this.Sh instanceof id?(this.Sh.fi={er:ge.bind(null,h),nr:RT.bind(null,h),sr:PT.bind(null,h),pi:kT.bind(null,h)},[4,this.Sh.start()]):[3,3];case 2:g.sent(),g.label=3;case 3:return[4,this.persistence.Xa(function(v){return M.__awaiter(f,void 0,void 0,function(){return M.__generator(this,function(b){switch(b.label){case 0:return[4,Lw(this.Kl.fi,v)];case 1:return b.sent(),this.ql&&(v&&!this.ql.Ei?this.ql.start(this.ju):v||this.ql.stop()),[2]}})})})];case 4:return g.sent(),[2]}})})},o.prototype.Ll=function(l){if(l.persistenceSettings.jl&&l.persistenceSettings.synchronizeTabs){var h=D();if(!id.Ln(h))throw new H(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var f=dd(l.bl.U,l.bl.persistenceKey);return new id(h,l.cs,f,l.clientId,l.Wl)}return new np},o}(function(c){function o(l){var h=this;return(h=c.call(this)||this).Kl=l,h}return M.__extends(o,c),o.prototype.initialize=function(l){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(h){switch(h.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return h.sent(),[4,Sw(this.ju)];case 2:return h.sent(),[4,this.Kl.initialize(this,l)];case 3:return h.sent(),[4,Tl(this.Kl.fi)];case 4:return h.sent(),[4,qo(this.Kl.ph)];case 5:return h.sent(),[2]}})})},o.prototype.Ul=function(l){return new yw(this.persistence.No.wo,l.cs)},o.prototype.Bl=function(l){var h=dd(l.bl.U,l.bl.persistenceKey),f=Ep(l.bl.U);return new Zr(l.persistenceSettings.synchronizeTabs,h,l.clientId,si.ao(l.persistenceSettings.cacheSizeBytes),l.cs,D(),T(),f,this.Sh,l.persistenceSettings.ka)},o.prototype.Ll=function(l){return new np},o.prototype.clearPersistence=function(l,h){return function(f){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(v){switch(v.label){case 0:return Ti.Ln()?[4,Ti.delete(f+"main")]:[2,Promise.resolve()];case 1:return v.sent(),[2]}})})}(dd(l,h))},o}(Dp)),ir=function(){function c(){}return c.prototype.initialize=function(o,l){return M.__awaiter(this,void 0,void 0,function(){var h=this;return M.__generator(this,function(f){switch(f.label){case 0:return this.ju?[3,2]:(this.ju=o.ju,this.Sh=o.Sh,this.Ku=this.Gl(l),this.ph=this.zl(l),this.bh=this.Hl(l),this.fi=this.Yl(l),this.Sh.di=function(g){return my(h.fi,g,1)},this.ph.Gu.Jl=Du.bind(null,this.fi),[4,Mc(this.ph,this.fi.Uh)]);case 1:f.sent(),f.label=2;case 2:return[2]}})})},c.prototype.Hl=function(o){return new kt},c.prototype.Gl=function(o){var h=Ep(o.bl.U),f=new Oc(o.bl);return new Sc(o.credentials,f,h)},c.prototype.zl=function(o){var l,h,f,g,v,b=this;return l=this.ju,h=this.Ku,f=o.cs,g=function(E){return my(b.fi,E,0)},v=Cp.Ln()?new Cp:new Uw,new Mw(l,h,f,g,v)},c.prototype.Yl=function(o){return E=!o.persistenceSettings.jl||!o.persistenceSettings.synchronizeTabs,S=new py(this.ju,this.ph,this.bh,this.Sh,o.Wl,o.Dh),E&&(S.qh=!0),S;var E,S},c.prototype.terminate=function(){return ay(this.ph)},c}(),xu=function(){function c(o){this.observer=o,this.muted=!1}return c.prototype.next=function(o){this.observer.next&&this.Xl(this.observer.next,o)},c.prototype.error=function(o){this.observer.error?this.Xl(this.observer.error,o):console.error("Uncaught Error in snapshot listener:",o)},c.prototype.Zl=function(){this.muted=!0},c.prototype.Xl=function(o,l){var h=this;this.muted||setTimeout(function(){h.muted||o(l)},0)},c}(),Sa=function(c){!function(l,h,f,g){if(!(h instanceof Array)||h.length<1)throw new H(O.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+pr(1,"element")+".")}(0,c);for(var o=0;o<c.length;++o)if(Ve("FieldPath","string",o,c[o]),0===c[o].length)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new oe(c)},Su=function(c){function o(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return c.call(this,l)||this}return M.__extends(o,c),o.documentId=function(){return new o(oe.v().R())},o.prototype.isEqual=function(l){if(!(l instanceof o))throw qe("isEqual","FieldPath",1,l);return this.t_.isEqual(l.t_)},o}(Sa),wy=new RegExp("[~\\*/\\[\\]]"),Al=function(c){this.e_=c},Nc=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.n_=function(l){if(2!==l.s_)throw l.i_(1===l.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return l.We.push(l.path),null},o.prototype.isEqual=function(l){return l instanceof o},o}(Al);function Cy(c,o,l){return new Sy({s_:3,r_:o.settings.r_,methodName:c.e_,o_:l},o.U,o.serializer,o.ignoreUndefinedProperties)}var qw=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.n_=function(l){return new cl(l.path,new Ge)},o.prototype.isEqual=function(l){return l instanceof o},o}(Al),Gw=function(c){function o(l,h){var f=this;return(f=c.call(this,l)||this).a_=h,f}return M.__extends(o,c),o.prototype.n_=function(l){var h=Cy(this,l,!0),f=this.a_.map(function(v){return $(v,h)}),g=new Vs(f);return new cl(l.path,g)},o.prototype.isEqual=function(l){return this===l},o}(Al),Ey=function(c){function o(l,h){var f=this;return(f=c.call(this,l)||this).a_=h,f}return M.__extends(o,c),o.prototype.n_=function(l){var h=Cy(this,l,!0),f=this.a_.map(function(v){return $(v,h)}),g=new Ji(f);return new cl(l.path,g)},o.prototype.isEqual=function(l){return this===l},o}(Al),xp=function(c){function o(l,h){var f=this;return(f=c.call(this,l)||this).c_=h,f}return M.__extends(o,c),o.prototype.n_=function(l){var h=new ul(l.serializer,mc(l.serializer,this.c_));return new cl(l.path,h)},o.prototype.isEqual=function(l){return this===l},o}(Al),Ml=function(){function c(o,l){if(ne("GeoPoint",arguments,2),Ve("GeoPoint","number",1,o),Ve("GeoPoint","number",2,l),!isFinite(o)||o<-90||o>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+o);if(!isFinite(l)||l<-180||l>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this.u_=o,this.h_=l}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(o){return this.u_===o.u_&&this.h_===o.h_},c.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},c.prototype.Y=function(o){return Ke(this.u_,o.u_)||Ke(this.h_,o.h_)},c}(),Sp=function(c){this.l_=c},Fc=/^__.*__$/,kl=function(c,o,l){this.__=c,this.f_=o,this.d_=l},Dd=function(){function c(o,l,h){this.data=o,this.We=l,this.fieldTransforms=h}return c.prototype.w_=function(o,l){var h=[];return h.push(null!==this.We?new mr(o,this.data,this.We,l):new Lt(o,this.data,l)),this.fieldTransforms.length>0&&h.push(new ys(o,this.fieldTransforms)),h},c}(),Dy=function(){function c(o,l,h){this.data=o,this.We=l,this.fieldTransforms=h}return c.prototype.w_=function(o,l){var h=[new mr(o,this.data,this.We,l)];return this.fieldTransforms.length>0&&h.push(new ys(o,this.fieldTransforms)),h},c}();function xy(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var Sy=function(){function c(o,l,h,f,g,v){this.settings=o,this.U=l,this.serializer=h,this.ignoreUndefinedProperties=f,void 0===g&&this.m_(),this.fieldTransforms=g||[],this.We=v||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),c.prototype.T_=function(o){return new c(Object.assign(Object.assign({},this.settings),o),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},c.prototype.E_=function(o){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(o),f=this.T_({path:h,o_:!1});return f.I_(o),f},c.prototype.A_=function(o){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(o),f=this.T_({path:h,o_:!1});return f.m_(),f},c.prototype.R_=function(o){return this.T_({path:void 0,o_:!0})},c.prototype.i_=function(o){return Mp(o,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},c.prototype.contains=function(o){return void 0!==this.We.find(function(l){return o.T(l)})||void 0!==this.fieldTransforms.find(function(l){return o.T(l.field)})},c.prototype.m_=function(){if(this.path)for(var o=0;o<this.path.length;o++)this.I_(this.path.get(o))},c.prototype.I_=function(o){if(0===o.length)throw this.i_("Document fields must not be empty");if(xy(this.s_)&&Fc.test(o))throw this.i_('Document fields cannot begin and end with "__"')},c}(),Iy=function(){function c(o,l,h){this.U=o,this.ignoreUndefinedProperties=l,this.serializer=h||Ep(o)}return c.prototype.P_=function(o,l,h,f){return void 0===f&&(f=!1),new Sy({s_:o,methodName:l,r_:h,path:oe.P(),o_:!1,g_:f},this.U,this.serializer,this.ignoreUndefinedProperties)},c}();function Ip(c,o,l,h,f,g){void 0===g&&(g={});var v=c.P_(g.merge||g.mergeFields?2:0,o,l,f);Vc("Data must be an object, but it was:",v,h);var b,E,S=Tp(h,v);if(g.merge)b=new Ir(v.We),E=v.fieldTransforms;else if(g.mergeFields){for(var A=[],R=0,P=g.mergeFields;R<P.length;R++){var V=P[R],z=void 0;if(V instanceof Sa)z=V.t_;else{if("string"!=typeof V)throw fe();z=Ap(o,V,l)}if(!v.contains(z))throw new H(O.INVALID_ARGUMENT,"Field '"+z+"' is specified in your field mask but missing from your input data.");Ay(A,z)||A.push(z)}b=new Ir(A),E=v.fieldTransforms.filter(function(J){return b.Ye(J.field)})}else b=null,E=v.fieldTransforms;return new Dd(new En(S),b,E)}function Rl(c,o,l,h){var f=c.P_(1,o,l);Vc("Data must be an object, but it was:",f,h);var g=[],v=new pl;Rn(h,function(E,S){var A=Ap(o,E,l),R=f.A_(A);if(S instanceof Nc||S instanceof Sp&&S.l_ instanceof Nc)g.push(A);else{var P=$(S,R);null!=P&&(g.push(A),v.set(A,P))}});var b=new Ir(g);return new Dy(v.Xe(),b,f.fieldTransforms)}function xd(c,o,l,h,f,g){var v=c.P_(1,o,l),b=[zo(o,h,l)],E=[f];if(g.length%2!=0)throw new H(O.INVALID_ARGUMENT,"Function "+o+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var S=0;S<g.length;S+=2)b.push(zo(o,g[S])),E.push(g[S+1]);for(var A=[],R=new pl,P=b.length-1;P>=0;--P)if(!Ay(A,b[P])){var V=b[P],z=E[P],J=v.A_(V);if(z instanceof Nc||z instanceof Sp&&z.l_ instanceof Nc)A.push(V);else{var Ae=$(z,J);null!=Ae&&(A.push(V),R.set(V,Ae))}}var De=new Ir(A);return new Dy(R.Xe(),De,v.fieldTransforms)}function Ty(c,o,l,h){return void 0===h&&(h=!1),$(l,c.P_(h?4:3,o))}function $(c,o){if(c instanceof Sp&&(c=c.l_),Lc(c))return Vc("Unsupported field value:",o,c),Tp(c,o);if(c instanceof Al)return function(l,h){if(!xy(h.s_))throw h.i_(l.e_+"() can only be used with update() and set()");if(!h.path)throw h.i_(l.e_+"() is not currently supported inside arrays");var f=l.n_(h);f&&h.fieldTransforms.push(f)}(c,o),null;if(o.path&&o.We.push(o.path),c instanceof Array){if(o.settings.o_&&4!==o.s_)throw o.i_("Nested arrays are not supported");return function(l,h){for(var f=[],g=0,v=0,b=l;v<b.length;v++){var E=$(b[v],h.R_(g));null==E&&(E={nullValue:"NULL_VALUE"}),f.push(E),g++}return{arrayValue:{values:f}}}(c,o)}return function(l,h){if(null===l)return{nullValue:"NULL_VALUE"};if("number"==typeof l)return mc(h.serializer,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var f=cn.fromDate(l);return{timestampValue:lu(h.serializer,f)}}if(l instanceof cn){var g=new cn(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:lu(h.serializer,g)}}if(l instanceof Ml)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof ii)return{bytesValue:rl(h.serializer,l.q)};if(l instanceof kl){var v=h.U,b=l.__;if(!b.isEqual(v))throw h.i_("Document reference is for database "+b.projectId+"/"+b.database+" but should be for database "+v.projectId+"/"+v.database);return{referenceValue:cu(l.__||h.U,l.f_.path)}}if(void 0===l&&h.ignoreUndefinedProperties)return null;throw h.i_("Unsupported field value: "+Ct(l))}(c,o)}function Tp(c,o){var l={};return Qi(c)?o.path&&o.path.length>0&&o.We.push(o.path):Rn(c,function(h,f){var g=$(f,o.E_(h));null!=g&&(l[h]=g)}),{mapValue:{fields:l}}}function Lc(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof cn||c instanceof Ml||c instanceof ii||c instanceof kl||c instanceof Al)}function Vc(c,o,l){if(!Lc(l)||!fr(l)){var h=Ct(l);throw o.i_("an object"===h?c+" a custom object":c+" "+h)}}function zo(c,o,l){if(o instanceof Sa)return o.t_;if("string"==typeof o)return Ap(c,o);throw Mp("Field path arguments must be of type string or FieldPath.",c,!1,void 0,l)}function Ap(c,o,l){try{return function(f){if(f.search(wy)>=0)throw new H(O.INVALID_ARGUMENT,"Invalid field path ("+f+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Su.bind.apply(Su,M.__spreadArrays([void 0],f.split("."))))}catch(g){throw new H(O.INVALID_ARGUMENT,"Invalid field path ("+f+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(o).t_}catch(f){throw Mp((h=f)instanceof Error?h.message:h.toString(),c,!1,void 0,l)}var h}function Mp(c,o,l,h,f){var g=h&&!h.m(),v=void 0!==f,b="Function "+o+"() called with invalid data";l&&(b+=" (via `toFirestore()`)");var E="";return(g||v)&&(E+=" (found",g&&(E+=" in field "+h),v&&(E+=" in document "+f),E+=")"),new H(O.INVALID_ARGUMENT,(b+=". ")+c+E)}function Ay(c,o){return c.some(function(l){return l.isEqual(o)})}var Ys=function(){function c(o){this.Ku=o,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return c.prototype.v_=function(o){return M.__awaiter(this,void 0,void 0,function(){var l,h=this;return M.__generator(this,function(f){switch(f.label){case 0:if(this.S_(),this.mutations.length>0)throw new H(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(g,v){return M.__awaiter(this,void 0,void 0,function(){var b,E,S,A,R,P;return M.__generator(this,function(V){switch(V.label){case 0:return b=ae(g),E=ol(b.serializer)+"/documents",S={documents:v.map(function(z){return da(b.serializer,z)})},[4,b.ku("BatchGetDocuments",E,S)];case 1:return A=V.sent(),R=new Map,A.forEach(function(z){var Ae,De,J=(Ae=b.serializer,"found"in(De=z)?function(Ye,yt){be(!!yt.found);var Ot=Xn(Ye,yt.found.name),Kt=Cn(yt.found.updateTime),xn=new En({mapValue:{fields:yt.found.fields}});return new Ht(Ot,Kt,xn,{})}(Ae,De):"missing"in De?function(Ye,yt){be(!!yt.missing),be(!!yt.readTime);var Ot=Xn(Ye,yt.missing),Kt=Cn(yt.readTime);return new nt(Ot,Kt)}(Ae,De):fe());R.set(J.key.toString(),J)}),P=[],[2,(v.forEach(function(z){var J=R.get(z.toString());be(!!J),P.push(J)}),P)]}})})}(this.Ku,o)];case 1:return[2,((l=f.sent()).forEach(function(g){g instanceof nt||g instanceof Ht?h.D_(g):fe()}),l)]}})})},c.prototype.set=function(o,l){this.write(l.w_(o,this.Ge(o))),this.b_.add(o.toString())},c.prototype.update=function(o,l){try{this.write(l.w_(o,this.C_(o)))}catch(h){this.p_=h}this.b_.add(o.toString())},c.prototype.delete=function(o){this.write([new js(o,this.Ge(o))]),this.b_.add(o.toString())},c.prototype.commit=function(){return M.__awaiter(this,void 0,void 0,function(){var o,l=this;return M.__generator(this,function(h){switch(h.label){case 0:if(this.S_(),this.p_)throw this.p_;return o=this.y_,this.mutations.forEach(function(f){o.delete(f.key.toString())}),o.forEach(function(f,g){var v=te.D(g);l.mutations.push(new bc(v,l.Ge(v)))}),[4,function(f,g){return M.__awaiter(this,void 0,void 0,function(){var v,b,E;return M.__generator(this,function(S){switch(S.label){case 0:return v=ae(f),b=ol(v.serializer)+"/documents",E={writes:g.map(function(A){return co(v.serializer,A)})},[4,v.$u("Commit",b,E)];case 1:return S.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return h.sent(),this.V_=!0,[2]}})})},c.prototype.D_=function(o){var l;if(o instanceof Ht)l=o.version;else{if(!(o instanceof nt))throw fe();l=It.min()}var h=this.y_.get(o.key.toString());if(h){if(!l.isEqual(h))throw new H(O.ABORTED,"Document version changed between two reads.")}else this.y_.set(o.key.toString(),l)},c.prototype.Ge=function(o){var l=this.y_.get(o.toString());return!this.b_.has(o.toString())&&l?di.updateTime(l):di.ze()},c.prototype.C_=function(o){var l=this.y_.get(o.toString());if(!this.b_.has(o.toString())&&l){if(l.isEqual(It.min()))throw new H(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(l)}return di.exists(!0)},c.prototype.write=function(o){this.S_(),this.mutations=this.mutations.concat(o)},c.prototype.S_=function(){},c}(),rr=function(){function c(o,l,h,f){this.cs=o,this.Ku=l,this.updateFunction=h,this.ls=f,this.N_=5,this.ys=new yu(this.cs,"transaction_retry")}return c.prototype.run=function(){this.F_()},c.prototype.F_=function(){var o=this;this.ys.gn(function(){return M.__awaiter(o,void 0,void 0,function(){var l,h,f=this;return M.__generator(this,function(g){return l=new Ys(this.Ku),(h=this.x_(l))&&h.then(function(v){f.cs.ws(function(){return l.commit().then(function(){f.ls.resolve(v)}).catch(function(b){f.k_(b)})})}).catch(function(v){f.k_(v)}),[2]})})})},c.prototype.x_=function(o){try{var l=this.updateFunction(o);return!B(l)&&l.catch&&l.then?l:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(h){return this.ls.reject(h),null}},c.prototype.k_=function(o){var l=this;this.N_>0&&this.M_(o)?(this.N_-=1,this.cs.ws(function(){return l.F_(),Promise.resolve()})):this.ls.reject(o)},c.prototype.M_=function(o){if("FirebaseError"===o.name){var l=o.code;return"aborted"===l||"failed-precondition"===l||!Pn(l)}return!1},c}(),My=function(){function c(o,l){this.credentials=o,this.cs=l,this.clientId=un.k(),this.O_=new Et}return c.prototype.start=function(o,l,h,f){var g=this;this.L_(),this.bl=o;var v=new Et,b=!1;return this.credentials.Hc(function(E){if(!b)return b=!0,ee("FirestoreClient","Initializing. user=",E.uid),g.B_(l,h,f,E,v).then(g.O_.resolve,g.O_.reject);g.cs.Cs(function(){return function(S,A){return M.__awaiter(this,void 0,void 0,function(){var R,P;return M.__generator(this,function(V){switch(V.label){case 0:return(R=ae(S)).cs.xs(),ee("RemoteStore","RemoteStore received new credentials"),P=$s(R),R.Yu.add(3),[4,Ea(R)];case 1:return V.sent(),P&&R.th.set("Unknown"),[4,R.Gu.Jl(A)];case 2:return V.sent(),R.Yu.delete(3),[4,Uo(R)];case 3:return V.sent(),[2]}})})}(g.ph,E)})}),this.cs.ws(function(){return g.O_.promise}),v.promise},c.prototype.enableNetwork=function(){var o=this;return this.L_(),this.cs.enqueue(function(){return o.persistence.tc(!0),(h=ae(o.ph)).Yu.delete(0),Uo(h);var h})},c.prototype.B_=function(o,l,h,f,g){return M.__awaiter(this,void 0,void 0,function(){var v,b,E=this;return M.__generator(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),[4,o.initialize(v={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:f,Dh:100,persistenceSettings:h})];case 1:return S.sent(),[4,l.initialize(o,v)];case 2:return S.sent(),this.persistence=o.persistence,this.Sh=o.Sh,this.ju=o.ju,this.ql=o.ql,this.Ku=l.Ku,this.ph=l.ph,this.fi=l.fi,this.q_=l.bh,this.q_.Us=Nw.bind(null,this.fi),this.q_.js=wd.bind(null,this.fi),this.persistence.Za(function(){return M.__awaiter(E,void 0,void 0,function(){return M.__generator(this,function(A){switch(A.label){case 0:return[4,this.terminate()];case 1:return A.sent(),[2]}})})}),g.resolve(),[3,4];case 3:if(b=S.sent(),g.reject(b),!this.U_(b))throw b;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+b),this.B_(new Dp,new ir,{jl:!1},f,g))];case 4:return[2]}})})},c.prototype.U_=function(o){return"FirebaseError"===o.name?o.code===O.FAILED_PRECONDITION||o.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code},c.prototype.L_=function(){if(this.cs.ps)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.disableNetwork=function(){var o=this;return this.L_(),this.cs.enqueue(function(){return o.persistence.tc(!1),function(l){return M.__awaiter(this,void 0,void 0,function(){var h;return M.__generator(this,function(f){switch(f.label){case 0:return(h=ae(l)).Yu.add(0),[4,Ea(h)];case 1:return f.sent(),h.th.set("Offline"),[2]}})})}(o.ph)})},c.prototype.terminate=function(){var o=this;this.cs.Ds();var l=new Et;return this.cs.bs(function(){return M.__awaiter(o,void 0,void 0,function(){var h,f;return M.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,ay(this.ph)];case 1:return g.sent(),[4,this.Sh.Di()];case 2:return g.sent(),[4,this.persistence.Di()];case 3:return g.sent(),this.credentials.Yc(),l.resolve(),[3,5];case 4:return h=g.sent(),f=ye(h,"Failed to shutdown persistence"),l.reject(f),[3,5];case 5:return[2]}})})}),l.promise},c.prototype.waitForPendingWrites=function(){var o=this;this.L_();var l=new Et;return this.cs.ws(function(){return function(h,f){return M.__awaiter(this,void 0,void 0,function(){var g,v,b,E,S;return M.__generator(this,function(A){switch(A.label){case 0:$s((g=ae(h)).ph)||ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,(R=g.ju,P=ae(R),P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(V){return P.Sr.qo(V)}))];case 2:return-1===(v=A.sent())?[2,void f.resolve()]:((b=g.Lh.get(v)||[]).push(f),g.Lh.set(v,b),[3,4]);case 3:return E=A.sent(),S=ye(E,"Initialization of waitForPendingWrites() operation failed"),f.reject(S),[3,4];case 4:return[2]}var R,P})})}(o.fi,l)}),l.promise},c.prototype.listen=function(o,l,h){var f=this;this.L_();var g=new xu(h),v=new yl(o,g,l);return this.cs.ws(function(){return fi(f.q_,v)}),function(){g.Zl(),f.cs.ws(function(){return Mr(f.q_,v)})}},c.prototype.Q_=function(o){return M.__awaiter(this,void 0,void 0,function(){var l,h=this;return M.__generator(this,function(f){switch(f.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return f.sent(),l=new Et,[2,(this.cs.ws(function(){return function(g,v,b){return M.__awaiter(this,void 0,void 0,function(){var E,S,A;return M.__generator(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,(P=g,V=v,z=ae(P),z.persistence.runTransaction("read document","readonly",function(J){return z.Cc.Cr(J,V)}))];case 1:return(E=R.sent())instanceof Ht?b.resolve(E):E instanceof nt?b.resolve(null):b.reject(new H(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=R.sent(),A=ye(S,"Failed to get document '"+v+" from cache"),b.reject(A),[3,3];case 3:return[2]}var P,V,z})})}(h.ju,o,l)}),l.promise)]}})})},c.prototype.W_=function(o,l){return void 0===l&&(l={}),M.__awaiter(this,void 0,void 0,function(){var h,f=this;return M.__generator(this,function(g){switch(g.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return g.sent(),h=new Et,[2,(this.cs.ws(function(){return v=f.q_,b=f.cs,E=o,S=l,A=h,R=new xu({next:function(V){b.ws(function(){return Mr(v,P)});var z=V.docs.has(E);!z&&V.fromCache?A.reject(new H(O.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&V.fromCache&&S&&"server"===S.source?A.reject(new H(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(V)},error:function(V){return A.reject(V)}}),P=new yl(Qn(E.path),R,{includeMetadataChanges:!0,Xs:!0}),fi(v,P);var v,b,E,S,A,R,P}),h.promise)]}})})},c.prototype.j_=function(o){return M.__awaiter(this,void 0,void 0,function(){var l,h=this;return M.__generator(this,function(f){switch(f.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return f.sent(),l=new Et,[2,(this.cs.ws(function(){return function(g,v,b){return M.__awaiter(this,void 0,void 0,function(){var E,S,A,R,P,V;return M.__generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,,3]),[4,zs(g,v,!0)];case 1:return E=z.sent(),S=new _p(v,E.Fc),A=S.wh(E.documents),R=S.yr(A,!1),b.resolve(R.snapshot),[3,3];case 2:return P=z.sent(),V=ye(P,"Failed to execute query '"+v+" against cache"),b.reject(V),[3,3];case 3:return[2]}})})}(h.ju,o,l)}),l.promise)]}})})},c.prototype.K_=function(o,l){return void 0===l&&(l={}),M.__awaiter(this,void 0,void 0,function(){var h,f=this;return M.__generator(this,function(g){switch(g.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return g.sent(),h=new Et,[2,(this.cs.ws(function(){return v=f.q_,b=f.cs,E=o,S=l,A=h,R=new xu({next:function(V){b.ws(function(){return Mr(v,P)}),V.fromCache&&"server"===S.source?A.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(V)},error:function(V){return A.reject(V)}}),P=new yl(E,R,{includeMetadataChanges:!0,Xs:!0}),fi(v,P);var v,b,E,S,A,R,P}),h.promise)]}})})},c.prototype.write=function(o){var l=this;this.L_();var h=new Et;return this.cs.ws(function(){return function(f,g,v){return M.__awaiter(this,void 0,void 0,function(){var b,E,S,A;return M.__generator(this,function(R){switch(R.label){case 0:b=Tl(f),R.label=1;case 1:return R.trys.push([1,5,,6]),[4,(P=b.ju,V=g,J=ae(P),Ae=cn.now(),De=V.reduce(function(Ye,yt){return Ye.add(yt.key)},fn()),J.persistence.runTransaction("Locally write mutations","readwrite",function(Ye){return J.Cc.kr(Ye,De).next(function(yt){z=yt;for(var Ot=[],Kt=0,xn=V;Kt<xn.length;Kt++){var gi=xn[Kt],Jr=Kg(gi,z.get(gi.key));null!=Jr&&Ot.push(new mr(gi.key,Jr,Nn(Jr.proto.mapValue),di.exists(!0)))}return J.Sr.ko(Ye,Ae,Ot,V)})}).then(function(Ye){var yt=Ye.lr(z);return{batchId:Ye.batchId,wr:yt}}))];case 2:return E=R.sent(),b.Sh.xi(E.batchId),function(P,V,z){var J=P.Oh[P.currentUser.ti()];J||(J=new Un(Ke)),J=J.ot(V,z),P.Oh[P.currentUser.ti()]=J}(b,E.batchId,v),[4,Go(b,E.wr)];case 3:return R.sent(),[4,qo(b.ph)];case 4:return R.sent(),[3,6];case 5:return S=R.sent(),A=ye(S,"Failed to persist write"),v.reject(A),[3,6];case 6:return[2]}var P,V,z,J,Ae,De})})}(l.fi,o,h)}),h.promise},c.prototype.U=function(){return this.bl.U},c.prototype.G_=function(o){var l=this;this.L_();var h=new xu(o);return this.cs.ws(function(){return M.__awaiter(l,void 0,void 0,function(){return M.__generator(this,function(f){return[2,(g=this.q_,v=h,ae(g).qs.add(v),void v.next())];var g,v})})}),function(){h.Zl(),l.cs.ws(function(){return M.__awaiter(l,void 0,void 0,function(){return M.__generator(this,function(f){return[2,(g=this.q_,v=h,void ae(g).qs.delete(v))];var g,v})})})}},Object.defineProperty(c.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),c.prototype.transaction=function(o){var l=this;this.L_();var h=new Et;return this.cs.ws(function(){return new rr(l.cs,l.Ku,o,h).run(),Promise.resolve()}),h.promise},c}();function yo(c){return function(o,l){if("object"!=typeof o||null===o)return!1;for(var h=o,f=0,g=["next","error","complete"];f<g.length;f++){var v=g[f];if(v in h&&"function"==typeof h[v])return!0}return!1}(c)}var ky=function(){function c(o,l,h,f,g){this.U=o,this.timestampsInSnapshots=l,this.H_=h,this.Y_=f,this.J_=g}return c.prototype.X_=function(o){switch(Fs(o)){case 0:return null;case 1:return o.booleanValue;case 2:return Xe(o.integerValue||o.doubleValue);case 3:return this.Z_(o.timestampValue);case 4:return this.tf(o);case 5:return o.stringValue;case 6:return this.J_(Ls(o.bytesValue));case 7:return this.ef(o.referenceValue);case 8:return this.nf(o.geoPointValue);case 9:return this.sf(o.arrayValue);case 10:return this.if(o.mapValue);default:throw fe()}},c.prototype.if=function(o){var l=this,h={};return Rn(o.fields||{},function(f,g){h[f]=l.X_(g)}),h},c.prototype.nf=function(o){return new Ml(Xe(o.latitude),Xe(o.longitude))},c.prototype.sf=function(o){var l=this;return(o.values||[]).map(function(h){return l.X_(h)})},c.prototype.tf=function(o){switch(this.H_){case"previous":var l=fc(o);return null==l?null:this.X_(l);case"estimate":return this.Z_(ua(o));default:return null}},c.prototype.Z_=function(o){var l=Hr(o),h=new cn(l.seconds,l.nanos);return this.timestampsInSnapshots?h:h.toDate()},c.prototype.ef=function(o){var l=K.g(o);be(pn(l));var h=new nu(l.get(1),l.get(3)),f=new te(l.u(5));return h.isEqual(this.U)||Ze("Document "+f+" contains a document reference within a different database ("+h.projectId+"/"+h.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(f)},c}(),kp=si.ho,Sd=function(){function c(o){var l,h,f,g,v;if(void 0===o.host){if(void 0!==o.ssl)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else bn("settings","non-empty string","host",o.host),this.host=o.host,We("settings","boolean","ssl",o.ssl),this.ssl=null===(l=o.ssl)||void 0===l||l;if(ci("settings",o,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),We("settings","object","credentials",o.credentials),this.credentials=o.credentials,We("settings","boolean","timestampsInSnapshots",o.timestampsInSnapshots),We("settings","boolean","ignoreUndefinedProperties",o.ignoreUndefinedProperties),!0===o.timestampsInSnapshots?Ze("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===o.timestampsInSnapshots&&Ze("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(h=o.timestampsInSnapshots)||void 0===h||h,this.ignoreUndefinedProperties=null!==(f=o.ignoreUndefinedProperties)&&void 0!==f&&f,We("settings","number","cacheSizeBytes",o.cacheSizeBytes),void 0===o.cacheSizeBytes)this.cacheSizeBytes=si._o;else{if(o.cacheSizeBytes!==kp&&o.cacheSizeBytes<si.lo)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+si.lo);this.cacheSizeBytes=o.cacheSizeBytes}We("settings","boolean","experimentalForceLongPolling",o.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(g=o.experimentalForceLongPolling)&&void 0!==g&&g,We("settings","boolean","experimentalAutoDetectLongPolling",o.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(v=o.experimentalAutoDetectLongPolling)&&void 0!==v&&v,function(b,E,S,A){if(!0===E&&!0===A)throw new H(O.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,o.experimentalForceLongPolling,0,o.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(o){return this.host===o.host&&this.ssl===o.ssl&&this.timestampsInSnapshots===o.timestampsInSnapshots&&this.credentials===o.credentials&&this.cacheSizeBytes===o.cacheSizeBytes&&this.experimentalForceLongPolling===o.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===o.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===o.ignoreUndefinedProperties},c}(),Iu=function(){function c(o,l,h,f){var g=this;if(void 0===h&&(h=new Dp),void 0===f&&(f=new ir),this.rf=h,this.af=f,this.cf=null,this.uf=new G,this.INTERNAL={delete:function(){return M.__awaiter(g,void 0,void 0,function(){return M.__generator(this,function(E){switch(E.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return E.sent(),[2]}})})}},"object"==typeof o.options){var v=o;this.cf=v,this.__=c._f(v),this.ff=v.name,this.df=new md(l)}else{var b=o;if(!b.projectId)throw new H(O.INVALID_ARGUMENT,"Must provide projectId");this.__=new nu(b.projectId,b.database),this.ff="[DEFAULT]",this.df=new xc}this.wf=new Sd({})}return Object.defineProperty(c.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Iy(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),c.prototype.settings=function(o){ne("Firestore.settings",arguments,1),Ve("Firestore.settings","object",1,o),o.merge&&delete(o=Object.assign(Object.assign({},this.wf),o)).merge;var l=new Sd(o);if(this.lf&&!this.wf.isEqual(l))throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=l,void 0!==l.credentials&&(this.df=function(h){if(!h)return new xc;switch(h.type){case"gapi":var f=h.client;return be(!("object"!=typeof f||null===f||!f.auth||!f.auth.getAuthHeaderValueForFirstParty)),new mp(f,h.sessionIndex||"0");case"provider":return h.client;default:throw new H(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(l.credentials))},c.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},c.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},c.prototype.enablePersistence=function(o){var l,h;if(this.lf)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var f=!1,g=!1;if(o&&(void 0!==o.experimentalTabSynchronization&&Ze("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),f=null!==(h=null!==(l=o.synchronizeTabs)&&void 0!==l?l:o.experimentalTabSynchronization)&&void 0!==h&&h,g=!!o.experimentalForceOwningTab&&o.experimentalForceOwningTab,f&&g))throw new H(O.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:f,ka:g})},c.prototype.clearPersistence=function(){return M.__awaiter(this,void 0,void 0,function(){var o,l=this;return M.__generator(this,function(h){if(void 0!==this.lf&&!this.lf.z_)throw new H(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return o=new Et,[2,(this.uf.bs(function(){return M.__awaiter(l,void 0,void 0,function(){var f;return M.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return g.sent(),o.resolve(),[3,3];case 2:return f=g.sent(),o.reject(f),[3,3];case 3:return[2]}})})}),o.promise)]})})},c.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(c.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),c.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},c.prototype.onSnapshotsInSync=function(o){return this.hf(),yo(o)?this.lf.G_(o):(Ve("Firestore.onSnapshotsInSync","function",1,o),this.lf.G_({next:o}))},c.prototype.hf=function(){return this.lf||this.Ef(new Dp,new ir,{jl:!1}),this.lf},c.prototype.Af=function(){return new tu(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},c.prototype.Ef=function(o,l,h){var f=this.Af();return this.lf=new My(this.df,this.uf),this.lf.start(f,o,l,h)},c._f=function(o){if(!Object.prototype.hasOwnProperty.call(o.options,"projectId"))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var h=o.options.projectId;if(!h||"string"!=typeof h)throw new H(O.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new nu(h)},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.cf)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),c.prototype.collection=function(o){return ne("Firestore.collection",arguments,1),Ve("Firestore.collection","non-empty string",1,o),this.hf(),new Au(K.g(o),this,null)},c.prototype.doc=function(o){return ne("Firestore.doc",arguments,1),Ve("Firestore.doc","non-empty string",1,o),this.hf(),Ia.Rf(K.g(o),this,null)},c.prototype.collectionGroup=function(o){if(ne("Firestore.collectionGroup",arguments,1),Ve("Firestore.collectionGroup","non-empty string",1,o),o.indexOf("/")>=0)throw new H(O.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Id((l=o,new _s(K.P(),l)),this,null);var l},c.prototype.runTransaction=function(o){var l=this;return ne("Firestore.runTransaction",arguments,1),Ve("Firestore.runTransaction","function",1,o),this.hf().transaction(function(h){return o(new Rp(l,h))})},c.prototype.batch=function(){return this.hf(),new Ry(this)},Object.defineProperty(c,"logLevel",{get:function(){switch(me()){case Pe.LogLevel.DEBUG:return"debug";case Pe.LogLevel.ERROR:return"error";case Pe.LogLevel.SILENT:return"silent";case Pe.LogLevel.WARN:return"warn";case Pe.LogLevel.INFO:return"info";case Pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),c.setLogLevel=function(o){ne("Firestore.setLogLevel",arguments,1),ce("setLogLevel",["debug","error","silent","warn","info","verbose"],1,o),we.setLogLevel(o)},c.prototype.gf=function(){return this.wf.timestampsInSnapshots},c.prototype.Pf=function(){return this.wf},c}(),Rp=function(){function c(o,l){this.yf=o,this.Vf=l}return c.prototype.get=function(o){var l=this;ne("Transaction.get",arguments,1);var h=Aa("Transaction.get",o,this.yf);return this.Vf.v_([h.f_]).then(function(f){if(!f||1!==f.length)return fe();var g=f[0];if(g instanceof nt)return new Xs(l.yf,h.f_,null,!1,!1,h.d_);if(g instanceof Ht)return new Xs(l.yf,h.f_,g,!1,!1,h.d_);throw fe()})},c.prototype.set=function(o,l,h){He("Transaction.set",arguments,2,3);var f=Aa("Transaction.set",o,this.yf);h=Ta("Transaction.set",h);var g=Bc(f.d_,l,h),v=Ip(this.yf.mf,"Transaction.set",f.f_,g,null!==f.d_,h);return this.Vf.set(f.f_,v),this},c.prototype.update=function(o,l,h){for(var f,g,v=[],b=3;b<arguments.length;b++)v[b-3]=arguments[b];return"string"==typeof l||l instanceof Su?(ze("Transaction.update",arguments,3),f=Aa("Transaction.update",o,this.yf),g=xd(this.yf.mf,"Transaction.update",f.f_,l,h,v)):(ne("Transaction.update",arguments,2),f=Aa("Transaction.update",o,this.yf),g=Rl(this.yf.mf,"Transaction.update",f.f_,l)),this.Vf.update(f.f_,g),this},c.prototype.delete=function(o){ne("Transaction.delete",arguments,1);var l=Aa("Transaction.delete",o,this.yf);return this.Vf.delete(l.f_),this},c}(),Ry=function(){function c(o){this.yf=o,this.pf=[],this.bf=!1}return c.prototype.set=function(o,l,h){He("WriteBatch.set",arguments,2,3),this.vf();var f=Aa("WriteBatch.set",o,this.yf);h=Ta("WriteBatch.set",h);var g=Bc(f.d_,l,h),v=Ip(this.yf.mf,"WriteBatch.set",f.f_,g,null!==f.d_,h);return this.pf=this.pf.concat(v.w_(f.f_,di.ze())),this},c.prototype.update=function(o,l,h){for(var f,g,v=[],b=3;b<arguments.length;b++)v[b-3]=arguments[b];return this.vf(),"string"==typeof l||l instanceof Su?(ze("WriteBatch.update",arguments,3),f=Aa("WriteBatch.update",o,this.yf),g=xd(this.yf.mf,"WriteBatch.update",f.f_,l,h,v)):(ne("WriteBatch.update",arguments,2),f=Aa("WriteBatch.update",o,this.yf),g=Rl(this.yf.mf,"WriteBatch.update",f.f_,l)),this.pf=this.pf.concat(g.w_(f.f_,di.exists(!0))),this},c.prototype.delete=function(o){ne("WriteBatch.delete",arguments,1),this.vf();var l=Aa("WriteBatch.delete",o,this.yf);return this.pf=this.pf.concat(new js(l.f_,di.ze())),this},c.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},c.prototype.vf=function(){if(this.bf)throw new H(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}(),Ia=function(c){function o(l,h,f){var g=this;return(g=c.call(this,h.__,l,f)||this).f_=l,g.firestore=h,g.d_=f,g.lf=g.firestore.hf(),g}return M.__extends(o,c),o.Rf=function(l,h,f){if(l.length%2!=0)throw new H(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+l.R()+" has "+l.length);return new o(new te(l),h,f)},Object.defineProperty(o.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return new Au(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),o.prototype.collection=function(l){if(ne("DocumentReference.collection",arguments,1),Ve("DocumentReference.collection","non-empty string",1,l),!l)throw new H(O.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var h=K.g(l);return new Au(this.f_.path.child(h),this.firestore,null)},o.prototype.isEqual=function(l){if(!(l instanceof o))throw qe("isEqual","DocumentReference",1,l);return this.firestore===l.firestore&&this.f_.isEqual(l.f_)&&this.d_===l.d_},o.prototype.set=function(l,h){He("DocumentReference.set",arguments,1,2),h=Ta("DocumentReference.set",h);var f=Bc(this.d_,l,h),g=Ip(this.firestore.mf,"DocumentReference.set",this.f_,f,null!==this.d_,h);return this.lf.write(g.w_(this.f_,di.ze()))},o.prototype.update=function(l,h){for(var f,g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];return"string"==typeof l||l instanceof Su?(ze("DocumentReference.update",arguments,2),f=xd(this.firestore.mf,"DocumentReference.update",this.f_,l,h,g)):(ne("DocumentReference.update",arguments,1),f=Rl(this.firestore.mf,"DocumentReference.update",this.f_,l)),this.lf.write(f.w_(this.f_,di.exists(!0)))},o.prototype.delete=function(){return ne("DocumentReference.delete",arguments,0),this.lf.write([new js(this.f_,di.ze())])},o.prototype.onSnapshot=function(){for(var l,h,f,g=this,v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];He("DocumentReference.onSnapshot",arguments,1,4);var E={includeMetadataChanges:!1},S=0;"object"!=typeof v[S]||yo(v[S])||(ci("DocumentReference.onSnapshot",E=v[S],["includeMetadataChanges"]),We("DocumentReference.onSnapshot","boolean","includeMetadataChanges",E.includeMetadataChanges),S++);var A={includeMetadataChanges:E.includeMetadataChanges};if(yo(v[S])){var R=v[S];v[S]=null===(l=R.next)||void 0===l?void 0:l.bind(R),v[S+1]=null===(h=R.error)||void 0===h?void 0:h.bind(R),v[S+2]=null===(f=R.complete)||void 0===f?void 0:f.bind(R)}else Ve("DocumentReference.onSnapshot","function",S,v[S]),$e("DocumentReference.onSnapshot","function",S+1,v[S+1]),$e("DocumentReference.onSnapshot","function",S+2,v[S+2]);var P={next:function(V){v[S]&&v[S](g.Sf(V))},error:v[S+1],complete:v[S+2]};return this.lf.listen(Qn(this.f_.path),A,P)},o.prototype.get=function(l){var h=this;He("DocumentReference.get",arguments,0,1),Vy("DocumentReference.get",l);var f=this.firestore.hf();return l&&"cache"===l.source?f.Q_(this.f_).then(function(g){return new Xs(h.firestore,h.f_,g,!0,g instanceof Ht&&g.Je,h.d_)}):f.W_(this.f_,l).then(function(g){return h.Sf(g)})},o.prototype.withConverter=function(l){return new o(this.f_,this.firestore,l)},o.prototype.Sf=function(l){var h=l.docs.get(this.f_);return new Xs(this.firestore,this.f_,h,l.fromCache,l.hasPendingWrites,this.d_)},o}(kl),Pl=function(){function c(o,l){this.hasPendingWrites=o,this.fromCache=l}return c.prototype.isEqual=function(o){return this.hasPendingWrites===o.hasPendingWrites&&this.fromCache===o.fromCache},c}(),Xs=function(){function c(o,l,h,f,g,v){this.yf=o,this.f_=l,this.Df=h,this.Cf=f,this.Nf=g,this.d_=v}return c.prototype.data=function(o){var l=this;if(He("DocumentSnapshot.data",arguments,0,1),o=Ly("DocumentSnapshot.data",o),this.Df){if(this.d_){var h=new Pp(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(h,o)}return new ky(this.yf.__,this.yf.gf(),o.serverTimestamps||"none",function(f){return new Ia(f,l.yf,null)},function(f){return new xr(f)}).X_(this.Df.rn())}},c.prototype.get=function(o,l){var h=this;if(He("DocumentSnapshot.get",arguments,1,2),l=Ly("DocumentSnapshot.get",l),this.Df){var f=this.Df.data().field(zo("DocumentSnapshot.get",o,this.f_));if(null!==f)return new ky(this.yf.__,this.yf.gf(),l.serverTimestamps||"none",function(g){return new Ia(g,h.yf,h.d_)},function(g){return new xr(g)}).X_(f)}},Object.defineProperty(c.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new Ia(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return new Pl(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(o){if(!(o instanceof c))throw qe("isEqual","DocumentSnapshot",1,o);return this.yf===o.yf&&this.Cf===o.Cf&&this.f_.isEqual(o.f_)&&(null===this.Df?null===o.Df:this.Df.isEqual(o.Df))&&this.d_===o.d_},c}(),Pp=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.prototype.data=function(l){return c.prototype.data.call(this,l)},o}(Xs);function FT(c,o,l,h,f,g,v){var b;if(f.p()){if("array-contains"===g||"array-contains-any"===g)throw new H(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if("in"===g||"not-in"===g){zw(v,g);for(var E=[],S=0,A=v;S<A.length;S++)E.push(Oy(h,c,A[S]));b={arrayValue:{values:E}}}else b=Oy(h,c,v)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||zw(v,g),b=Ty(l,o,v,"in"===g||"not-in"===g);var P=on.create(f,g,b);return function(V,z){if(z.hn()){var J=Fn(V);if(null!==J&&!J.isEqual(z.field))throw new H(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+J.toString()+"' and '"+z.field.toString()+"'");var Ae=bs(V);null!==Ae&&Ny(0,z.field,Ae)}var De=function(Ye,yt){for(var Ot=0,Kt=Ye.filters;Ot<Kt.length;Ot++){var xn=Kt[Ot];if(yt.indexOf(xn.op)>=0)return xn.op}return null}(V,function(Ye){switch(Ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==De)throw new H(O.INVALID_ARGUMENT,De===z.op?"Invalid query. You cannot use more than one '"+z.op.toString()+"' filter.":"Invalid query. You cannot use '"+z.op.toString()+"' filters with '"+De.toString()+"' filters.")}(c,P),P}function Py(c,o,l){if(null!==c.startAt)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var h=new zr(o,l);return function(f,g){if(null===bs(f)){var v=Fn(f);null!==v&&Ny(0,v,g.field)}}(c,h),h}function Oy(c,o,l){if("string"==typeof l){if(""===l)throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ma(o)&&-1!==l.indexOf("/"))throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var h=o.path.child(K.g(l));if(!te.F(h))throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+h+"' is not because it has an odd number of segments ("+h.length+").");return at(c,new te(h))}if(l instanceof kl)return at(c,l.f_);throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ct(l)+".")}function zw(c,o){if(!Array.isArray(c)||0===c.length)throw new H(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+o.toString()+"' filters.");if(c.length>10)throw new H(O.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===o||"array-contains-any"===o){if(c.indexOf(null)>=0)throw new H(O.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters cannot contain 'null' in the value array.");if(c.filter(function(l){return Number.isNaN(l)}).length>0)throw new H(O.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Ny(c,o,l){if(!l.isEqual(o))throw new H(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+o.toString()+"' and so you must also use '"+o.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}function Fy(c){if(er(c)&&0===c.on.length)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Id=function(){function c(o,l,h){this.Ff=o,this.firestore=l,this.d_=h}return c.prototype.where=function(o,l,h){ne("Query.where",arguments,3),St("Query.where",3,h);var b,S,f=ce("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,l),g=zo("Query.where",o),v=FT(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,g,f,h);return new c((S=(b=this.Ff).filters.concat([v]),new _s(b.path,b.collectionGroup,b.on.slice(),S,b.limit,b.an,b.startAt,b.endAt)),this.firestore,this.d_)},c.prototype.orderBy=function(o,l){var h;if(He("Query.orderBy",arguments,1,2),$e("Query.orderBy","non-empty string",2,l),void 0===l||"asc"===l)h="asc";else{if("desc"!==l)throw new H(O.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+l+"', expected 'asc' or 'desc'.");h="desc"}var v,E,f=zo("Query.orderBy",o),g=Py(this.Ff,f,h);return new c((E=(v=this.Ff).on.concat([g]),new _s(v.path,v.collectionGroup,E,v.filters.slice(),v.limit,v.an,v.startAt,v.endAt)),this.firestore,this.d_)},c.prototype.limit=function(o){return ne("Query.limit",arguments,1),Ve("Query.limit","number",1,o),Br("Query.limit",1,o),new c(ga(this.Ff,o,"F"),this.firestore,this.d_)},c.prototype.limitToLast=function(o){return ne("Query.limitToLast",arguments,1),Ve("Query.limitToLast","number",1,o),Br("Query.limitToLast",1,o),new c(ga(this.Ff,o,"L"),this.firestore,this.d_)},c.prototype.startAt=function(o){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];ze("Query.startAt",arguments,1);var f=this.xf("Query.startAt",o,l,!0);return new c(Cs(this.Ff,f),this.firestore,this.d_)},c.prototype.startAfter=function(o){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];ze("Query.startAfter",arguments,1);var f=this.xf("Query.startAfter",o,l,!1);return new c(Cs(this.Ff,f),this.firestore,this.d_)},c.prototype.endBefore=function(o){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];ze("Query.endBefore",arguments,1);var f=this.xf("Query.endBefore",o,l,!0);return new c(zn(this.Ff,f),this.firestore,this.d_)},c.prototype.endAt=function(o){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];ze("Query.endAt",arguments,1);var f=this.xf("Query.endAt",o,l,!1);return new c(zn(this.Ff,f),this.firestore,this.d_)},c.prototype.isEqual=function(o){if(!(o instanceof c))throw qe("isEqual","Query",1,o);return this.firestore===o.firestore&&Lo(this.Ff,o.Ff)&&this.d_===o.d_},c.prototype.withConverter=function(o){return new c(this.Ff,this.firestore,o)},c.prototype.xf=function(o,l,h,f){if(St(o,1,l),l instanceof Xs)return ne(o,M.__spreadArrays([l],h),1),function(v,b,E,S,A){if(!S)throw new H(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+E+"().");for(var R=[],P=0,V=ws(v);P<V.length;P++){var z=V[P];if(z.field.p())R.push(at(b,S.key));else{var J=S.field(z.field);if(au(J))throw new H(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===J){var Ae=z.field.R();throw new H(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Ae+"' (used as the orderBy) does not exist.")}R.push(J)}}return new Si(R,A)}(this.Ff,this.firestore.__,o,l.Df,f);var g=[l].concat(h);return function(v,b,E,S,A,R){var P=v.on;if(A.length>P.length)throw new H(O.INVALID_ARGUMENT,"Too many arguments provided to "+S+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var V=[],z=0;z<A.length;z++){var J=A[z];if(P[z].field.p()){if("string"!=typeof J)throw new H(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+S+"(), but got a "+typeof J);if(!ma(v)&&-1!==J.indexOf("/"))throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+S+"() must be a plain document ID, but '"+J+"' contains a slash.");var Ae=v.path.child(K.g(J));if(!te.F(Ae))throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+S+"() must result in a valid document path, but '"+Ae+"' is not because it contains an odd number of segments.");var De=new te(Ae);V.push(at(b,De))}else{var Ye=Ty(E,S,J);V.push(Ye)}}return new Si(V,R)}(this.Ff,this.firestore.__,this.firestore.mf,o,g,f)},c.prototype.onSnapshot=function(){for(var o,l,h,f=this,g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];He("Query.onSnapshot",arguments,1,4);var b={},E=0;if("object"!=typeof g[E]||yo(g[E])||(ci("Query.onSnapshot",b=g[E],["includeMetadataChanges"]),We("Query.onSnapshot","boolean","includeMetadataChanges",b.includeMetadataChanges),E++),yo(g[E])){var S=g[E];g[E]=null===(o=S.next)||void 0===o?void 0:o.bind(S),g[E+1]=null===(l=S.error)||void 0===l?void 0:l.bind(S),g[E+2]=null===(h=S.complete)||void 0===h?void 0:h.bind(S)}else Ve("Query.onSnapshot","function",E,g[E]),$e("Query.onSnapshot","function",E+1,g[E+1]),$e("Query.onSnapshot","function",E+2,g[E+2]);var A={next:function(R){g[E]&&g[E](new Tu(f.firestore,f.Ff,R,f.d_))},error:g[E+1],complete:g[E+2]};return Fy(this.Ff),this.firestore.hf().listen(this.Ff,b,A)},c.prototype.get=function(o){var l=this;He("Query.get",arguments,0,1),Vy("Query.get",o),Fy(this.Ff);var h=this.firestore.hf();return(o&&"cache"===o.source?h.j_(this.Ff):h.K_(this.Ff,o)).then(function(f){return new Tu(l.firestore,l.Ff,f,l.d_)})},c}(),Tu=function(){function c(o,l,h,f){this.yf=o,this.$f=l,this.kf=h,this.d_=f,this.Mf=null,this.Of=null,this.metadata=new Pl(h.hasPendingWrites,h.fromCache)}return Object.defineProperty(c.prototype,"docs",{get:function(){var o=[];return this.forEach(function(l){return o.push(l)}),o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(o,l){var h=this;He("QuerySnapshot.forEach",arguments,1,2),Ve("QuerySnapshot.forEach","function",1,o),this.kf.docs.forEach(function(f){o.call(l,h.Lf(f,h.metadata.fromCache,h.kf.Wt.has(f.key)))})},Object.defineProperty(c.prototype,"query",{get:function(){return new Id(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(o){o&&(ci("QuerySnapshot.docChanges",o,["includeMetadataChanges"]),We("QuerySnapshot.docChanges","boolean","includeMetadataChanges",o.includeMetadataChanges));var l=!(!o||!o.includeMetadataChanges);if(l&&this.kf.Kt)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===l||(this.Mf=function(h,f,g){if(h.Qt.m()){var v=0;return h.docChanges.map(function(E){return{type:"added",doc:g(E.doc,h.fromCache,h.Wt.has(E.doc.key)),oldIndex:-1,newIndex:v++}})}var b=h.Qt;return h.docChanges.filter(function(E){return f||3!==E.type}).map(function(E){var S=g(E.doc,h.fromCache,h.Wt.has(E.doc.key)),A=-1,R=-1;return 0!==E.type&&(A=b.indexOf(E.doc.key),b=b.delete(E.doc.key)),1!==E.type&&(R=(b=b.add(E.doc)).indexOf(E.doc.key)),{type:Td(E.type),doc:S,oldIndex:A,newIndex:R}})}(this.kf,l,this.Lf.bind(this)),this.Of=l),this.Mf},c.prototype.isEqual=function(o){if(!(o instanceof c))throw qe("isEqual","QuerySnapshot",1,o);return this.yf===o.yf&&Lo(this.$f,o.$f)&&this.kf.isEqual(o.kf)&&this.d_===o.d_},c.prototype.Lf=function(o,l,h){return new Pp(this.yf,o.key,o,l,h,this.d_)},c}(),Au=function(c){function o(l,h,f){var g=this;if((g=c.call(this,Qn(l),h,f)||this).Bf=l,l.length%2!=1)throw new H(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+l.R()+" has "+l.length);return g}return M.__extends(o,c),Object.defineProperty(o.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){var l=this.Ff.path.h();return l.m()?null:new Ia(new te(l),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),o.prototype.doc=function(l){He("CollectionReference.doc",arguments,0,1),0===arguments.length&&(l=un.k()),Ve("CollectionReference.doc","non-empty string",1,l);var h=K.g(l);return Ia.Rf(this.Ff.path.child(h),this.firestore,this.d_)},o.prototype.add=function(l){ne("CollectionReference.add",arguments,1);var h=this.d_?this.d_.toFirestore(l):l;Ve("CollectionReference.add","object",1,h);var f=this.doc();return new Ia(f.f_,this.firestore,null).set(h).then(function(){return f})},o.prototype.withConverter=function(l){return new o(this.Bf,this.firestore,l)},o}(Id);function Ta(c,o){if(void 0===o)return{merge:!1};if(ci(c,o,["merge","mergeFields"]),We(c,"boolean","merge",o.merge),void 0!==(g=o.mergeFields)&&function(b,E,S,A,R){if(!(A instanceof Array))throw new H(O.INVALID_ARGUMENT,"Function "+b+"() requires its "+E+" option to be an array, but it was: "+Ct(A));for(var P=0;P<A.length;++P)if(!R(A[P]))throw new H(O.INVALID_ARGUMENT,"Function "+b+"() requires all "+E+" elements to be a string or a FieldPath, but the value at index "+P+" was: "+Ct(A[P]))}(c,"mergeFields",0,g,function(l){return"string"==typeof l||l instanceof Su}),void 0!==o.mergeFields&&void 0!==o.merge)throw new H(O.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');var g;return o}function Ly(c,o){return void 0===o?{}:(ci(c,o,["serverTimestamps"]),xe(c,0,"serverTimestamps",o.serverTimestamps,["estimate","previous","none"]),o)}function Vy(c,o){$e(c,"object",1,o),o&&(ci(c,o,["source"]),xe(c,0,"source",o.source,["default","server","cache"]))}function Aa(c,o,l){if(o instanceof kl){if(o.firestore!==l)throw new H(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}throw qe(c,"DocumentReference",1,o)}function Td(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}function Bc(c,o,l){return c?l&&(l.merge||l.mergeFields)?c.toFirestore(o,l):c.toFirestore(o):o}var By=function(c){function o(){return null!==c&&c.apply(this,arguments)||this}return M.__extends(o,c),o.serverTimestamp=function(){Me("FieldValue.serverTimestamp",arguments);var l=new qw("serverTimestamp");return l.e_="FieldValue.serverTimestamp",new o(l)},o.delete=function(){Me("FieldValue.delete",arguments);var l=new Nc("deleteField");return l.e_="FieldValue.delete",new o(l)},o.arrayUnion=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];ze("FieldValue.arrayUnion",arguments,1);var f=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return ze("arrayUnion()",arguments,1),new Gw("arrayUnion",g)}.apply(void 0,l);return f.e_="FieldValue.arrayUnion",new o(f)},o.arrayRemove=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];ze("FieldValue.arrayRemove",arguments,1);var f=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return ze("arrayRemove()",arguments,1),new Ey("arrayRemove",g)}.apply(void 0,l);return f.e_="FieldValue.arrayRemove",new o(f)},o.increment=function(l){Ve("FieldValue.increment","number",1,l),ne("FieldValue.increment",arguments,1);var h=new xp("increment",l);return h.e_="FieldValue.increment",new o(h)},o.prototype.isEqual=function(l){return this.l_.isEqual(l.l_)},o}(Sp),jy={Firestore:Iu,GeoPoint:Ml,Timestamp:cn,Blob:xr,Transaction:Rp,WriteBatch:Ry,DocumentReference:Ia,DocumentSnapshot:Xs,Query:Id,QueryDocumentSnapshot:Pp,QuerySnapshot:Tu,CollectionReference:Au,FieldPath:Su,FieldValue:By,setLogLevel:Iu.setLogLevel,CACHE_SIZE_UNLIMITED:kp};!function Op(c){c.INTERNAL.registerComponent(new Le.Component("firestore",function(h){return f=h.getProvider("app").getImmediate(),g=h.getProvider("auth-internal"),v=new ir,b=new by(v),new Iu(f,g,b,v);var f,g,v,b},"PUBLIC").setServiceProps(Object.assign({},jy))),c.registerVersion("@firebase/firestore","1.18.0")}(Je.default)},123:(ni,de,wt)=>{function Ie(){for(var we=0,me=0,ee=arguments.length;me<ee;me++)we+=arguments[me].length;var Ze=Array(we),dn=0;for(me=0;me<ee;me++)for(var _t=arguments[me],fe=0,be=_t.length;fe<be;fe++,dn++)Ze[dn]=_t[fe];return Ze}wt.r(de),wt.d(de,{LogLevel:()=>Pe,Logger:()=>Je,setLogLevel:()=>O,setUserLogHandler:()=>H});var M,yn=[],Pe=(()=>{return(we=Pe||(Pe={}))[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",Pe;var we})(),ie={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},rn=Pe.INFO,Le=((M={})[Pe.DEBUG]="log",M[Pe.VERBOSE]="log",M[Pe.INFO]="info",M[Pe.WARN]="warn",M[Pe.ERROR]="error",M),wi=function(we,me){for(var ee=[],Ze=2;Ze<arguments.length;Ze++)ee[Ze-2]=arguments[Ze];if(!(me<we.logLevel)){var dn=(new Date).toISOString(),_t=Le[me];if(!_t)throw new Error("Attempted to log a message with an invalid logType (value: "+me+")");console[_t].apply(console,Ie(["["+dn+"]  "+we.name+":"],ee))}},Je=function(){function we(me){this.name=me,this._logLevel=rn,this._logHandler=wi,this._userLogHandler=null,yn.push(this)}return Object.defineProperty(we.prototype,"logLevel",{get:function(){return this._logLevel},set:function(me){if(!(me in Pe))throw new TypeError('Invalid value "'+me+'" assigned to `logLevel`');this._logLevel=me},enumerable:!1,configurable:!0}),we.prototype.setLogLevel=function(me){this._logLevel="string"==typeof me?ie[me]:me},Object.defineProperty(we.prototype,"logHandler",{get:function(){return this._logHandler},set:function(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(me){this._userLogHandler=me},enumerable:!1,configurable:!0}),we.prototype.debug=function(){for(var me=[],ee=0;ee<arguments.length;ee++)me[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler.apply(this,Ie([this,Pe.DEBUG],me)),this._logHandler.apply(this,Ie([this,Pe.DEBUG],me))},we.prototype.log=function(){for(var me=[],ee=0;ee<arguments.length;ee++)me[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler.apply(this,Ie([this,Pe.VERBOSE],me)),this._logHandler.apply(this,Ie([this,Pe.VERBOSE],me))},we.prototype.info=function(){for(var me=[],ee=0;ee<arguments.length;ee++)me[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler.apply(this,Ie([this,Pe.INFO],me)),this._logHandler.apply(this,Ie([this,Pe.INFO],me))},we.prototype.warn=function(){for(var me=[],ee=0;ee<arguments.length;ee++)me[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler.apply(this,Ie([this,Pe.WARN],me)),this._logHandler.apply(this,Ie([this,Pe.WARN],me))},we.prototype.error=function(){for(var me=[],ee=0;ee<arguments.length;ee++)me[ee]=arguments[ee];this._userLogHandler&&this._userLogHandler.apply(this,Ie([this,Pe.ERROR],me)),this._logHandler.apply(this,Ie([this,Pe.ERROR],me))},we}();function O(we){yn.forEach(function(me){me.setLogLevel(we)})}function H(we,me){for(var ee=function(fe){var be=null;me&&me.level&&(be=ie[me.level]),fe.userLogHandler=null===we?null:function(ae,jt){for(var Rn=[],Qi=2;Qi<arguments.length;Qi++)Rn[Qi-2]=arguments[Qi];var Yn=Rn.map(function(K){if(null==K)return null;if("string"==typeof K)return K;if("number"==typeof K||"boolean"==typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(pe){return null}}).filter(function(K){return K}).join(" ");jt>=(null!=be?be:ae.logLevel)&&we({level:Pe[jt].toLowerCase(),message:Yn,args:Rn,type:ae.name})}},Ze=0,dn=yn;Ze<dn.length;Ze++)ee(dn[Ze])}},745:(ni,de,wt)=>{Object.defineProperty(de,"__esModule",{value:!0});var Ie=wt(15),M={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},yn=function(B,F){if(!B)throw Pe(F)},Pe=function(B){return new Error("Firebase Database ("+M.SDK_VERSION+") INTERNAL ASSERT FAILED: "+B)},ie=function(B){for(var F=[],q=0,W=0;W<B.length;W++){var U=B.charCodeAt(W);U<128?F[q++]=U:U<2048?(F[q++]=U>>6|192,F[q++]=63&U|128):55296==(64512&U)&&W+1<B.length&&56320==(64512&B.charCodeAt(W+1))?(U=65536+((1023&U)<<10)+(1023&B.charCodeAt(++W)),F[q++]=U>>18|240,F[q++]=U>>12&63|128,F[q++]=U>>6&63|128,F[q++]=63&U|128):(F[q++]=U>>12|224,F[q++]=U>>6&63|128,F[q++]=63&U|128)}return F},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(B,F){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var q=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[],U=0;U<B.length;U+=3){var Re=B[U],gt=U+1<B.length,sn=gt?B[U+1]:0,ut=U+2<B.length,Oe=ut?B[U+2]:0,Pn=(15&sn)<<2|Oe>>6,Os=63&Oe;ut||(Os=64,gt||(Pn=64)),W.push(q[Re>>2],q[(3&Re)<<4|sn>>4],q[Pn],q[Os])}return W.join("")},encodeString:function(B,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(B):this.encodeByteArray(ie(B),F)},decodeString:function(B,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(B):function(B){for(var F=[],q=0,W=0;q<B.length;){var U=B[q++];if(U<128)F[W++]=String.fromCharCode(U);else if(U>191&&U<224){var Re=B[q++];F[W++]=String.fromCharCode((31&U)<<6|63&Re)}else if(U>239&&U<365){var ut=((7&U)<<18|(63&(Re=B[q++]))<<12|(63&(gt=B[q++]))<<6|63&B[q++])-65536;F[W++]=String.fromCharCode(55296+(ut>>10)),F[W++]=String.fromCharCode(56320+(1023&ut))}else{Re=B[q++];var gt=B[q++];F[W++]=String.fromCharCode((15&U)<<12|(63&Re)<<6|63&gt)}}return F.join("")}(this.decodeStringToByteArray(B,F))},decodeStringToByteArray:function(B,F){this.init_();for(var q=F?this.charToByteMapWebSafe_:this.charToByteMap_,W=[],U=0;U<B.length;){var Re=q[B.charAt(U++)],sn=U<B.length?q[B.charAt(U)]:0,Oe=++U<B.length?q[B.charAt(U)]:64,hi=++U<B.length?q[B.charAt(U)]:64;if(++U,null==Re||null==sn||null==Oe||null==hi)throw Error();W.push(Re<<2|sn>>4),64!==Oe&&(W.push(sn<<4&240|Oe>>2),64!==hi&&W.push(Oe<<6&192|hi))}return W},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},Je=function(B){try{return Le.decodeString(B,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function H(B,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return F}for(var W in F)!F.hasOwnProperty(W)||(B[W]=H(B[W],F[W]));return B}var we=function(){function B(){var F=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(q,W){F.resolve=q,F.reject=W})}return B.prototype.wrapCallback=function(F){var q=this;return function(W,U){W?q.reject(W):q.resolve(U),"function"==typeof F&&(q.promise.catch(function(){}),1===F.length?F(W):F(W,U))}},B}();function me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}var te=function(B){function F(q,W){var U=B.call(this,W)||this;return U.code=q,U.name="FirebaseError",Object.setPrototypeOf(U,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(U,Me.prototype.create),U}return Ie.__extends(F,B),F}(Error),Me=function(){function B(F,q,W){this.service=F,this.serviceName=q,this.errors=W}return B.prototype.create=function(F){for(var q=[],W=1;W<arguments.length;W++)q[W-1]=arguments[W];for(var U=q[0]||{},Re=this.service+"/"+F,gt=this.errors[F],sn=gt?ne(gt,U):"Error",ut=this.serviceName+": "+sn+" ("+Re+").",Oe=new te(Re,ut),jn=0,hi=Object.keys(U);jn<hi.length;jn++){var Pn=hi[jn];"_"!==Pn.slice(-1)&&(Pn in Oe&&console.warn('Overwriting FirebaseError base field "'+Pn+'" can cause unexpected behavior.'),Oe[Pn]=U[Pn])}return Oe},B}();function ne(B,F){return B.replace(ze,function(q,W){var U=F[W];return null!=U?String(U):"<"+W+"?>"})}var ze=/\{\$([^}]+)}/g;function He(B){return JSON.parse(B)}var $e=function(B){var F={},q={},W={},U="";try{var Re=B.split(".");F=He(Je(Re[0])||""),q=He(Je(Re[1])||""),U=Re[2],W=q.d||{},delete q.d}catch(gt){}return{header:F,claims:q,data:W,signature:U}},Br=function(){function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}return B.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(F,q){q||(q=0);var W=this.W_;if("string"==typeof F)for(var U=0;U<16;U++)W[U]=F.charCodeAt(q)<<24|F.charCodeAt(q+1)<<16|F.charCodeAt(q+2)<<8|F.charCodeAt(q+3),q+=4;else for(U=0;U<16;U++)W[U]=F[q]<<24|F[q+1]<<16|F[q+2]<<8|F[q+3],q+=4;for(U=16;U<80;U++)W[U]=4294967295&((Re=W[U-3]^W[U-8]^W[U-14]^W[U-16])<<1|Re>>>31);var hi,Pn,gt=this.chain_[0],sn=this.chain_[1],ut=this.chain_[2],Oe=this.chain_[3],jn=this.chain_[4];for(U=0;U<80;U++){U<40?U<20?(hi=Oe^sn&(ut^Oe),Pn=1518500249):(hi=sn^ut^Oe,Pn=1859775393):U<60?(hi=sn&ut|Oe&(sn|ut),Pn=2400959708):(hi=sn^ut^Oe,Pn=3395469782);var Re=(gt<<5|gt>>>27)+hi+jn+Pn+W[U]&4294967295;jn=Oe,Oe=ut,ut=4294967295&(sn<<30|sn>>>2),sn=gt,gt=Re}this.chain_[0]=this.chain_[0]+gt&4294967295,this.chain_[1]=this.chain_[1]+sn&4294967295,this.chain_[2]=this.chain_[2]+ut&4294967295,this.chain_[3]=this.chain_[3]+Oe&4294967295,this.chain_[4]=this.chain_[4]+jn&4294967295},B.prototype.update=function(F,q){if(null!=F){void 0===q&&(q=F.length);for(var W=q-this.blockSize,U=0,Re=this.buf_,gt=this.inbuf_;U<q;){if(0===gt)for(;U<=W;)this.compress_(F,U),U+=this.blockSize;if("string"==typeof F){for(;U<q;)if(Re[gt]=F.charCodeAt(U),++U,++gt===this.blockSize){this.compress_(Re),gt=0;break}}else for(;U<q;)if(Re[gt]=F[U],++U,++gt===this.blockSize){this.compress_(Re),gt=0;break}}this.inbuf_=gt,this.total_+=q}},B.prototype.digest=function(){var F=[],q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&q,q/=256;this.compress_(this.buf_);var U=0;for(W=0;W<5;W++)for(var Re=24;Re>=0;Re-=8)F[U]=this.chain_[W]>>Re&255,++U;return F},B}(),pr=function(){function B(F,q){var W=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(function(){F(W)}).catch(function(U){W.error(U)})}return B.prototype.next=function(F){this.forEachObserver(function(q){q.next(F)})},B.prototype.error=function(F){this.forEachObserver(function(q){q.error(F)}),this.close(F)},B.prototype.complete=function(){this.forEachObserver(function(F){F.complete()}),this.close()},B.prototype.subscribe=function(F,q,W){var Re,U=this;if(void 0===F&&void 0===q&&void 0===W)throw new Error("Missing Observer.");Re=function un(B,F){if("object"!=typeof B||null===B)return!1;for(var q=0,W=F;q<W.length;q++){var U=W[q];if(U in B&&"function"==typeof B[U])return!0}return!1}(F,["next","error","complete"])?F:{next:F,error:q,complete:W},void 0===Re.next&&(Re.next=Ke),void 0===Re.error&&(Re.error=Ke),void 0===Re.complete&&(Re.complete=Ke);var gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{U.finalError?Re.error(U.finalError):Re.complete()}catch(sn){}}),this.observers.push(Re),gt},B.prototype.unsubscribeOne=function(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},B.prototype.forEachObserver=function(F){if(!this.finalized)for(var q=0;q<this.observers.length;q++)this.sendOne(q,F)},B.prototype.sendOne=function(F,q){var W=this;this.task.then(function(){if(void 0!==W.observers&&void 0!==W.observers[F])try{q(W.observers[F])}catch(U){"undefined"!=typeof console&&console.error&&console.error(U)}})},B.prototype.close=function(F){var q=this;this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(function(){q.observers=void 0,q.onNoObservers=void 0}))},B}();function Ke(){}function wn(B,F,q){var W="";switch(F){case 1:W=q?"first":"First";break;case 2:W=q?"second":"Second";break;case 3:W=q?"third":"Third";break;case 4:W=q?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return B+" failed: "+(W+" argument ")}de.CONSTANTS=M,de.Deferred=we,de.ErrorFactory=Me,de.FirebaseError=te,de.MAX_VALUE_MILLIS=144e5,de.RANDOM_FACTOR=.5,de.Sha1=Br,de.areCookiesEnabled=function pe(){return!(!navigator||!navigator.cookieEnabled)},de.assert=yn,de.assertionError=Pe,de.async=function Mt(B,F){return function(){for(var q=[],W=0;W<arguments.length;W++)q[W]=arguments[W];Promise.resolve(!0).then(function(){B.apply(void 0,q)}).catch(function(U){F&&F(U)})}},de.base64=Le,de.base64Decode=Je,de.base64Encode=function(B){var F=ie(B);return Le.encodeByteArray(F,!0)},de.calculateBackoffMillis=function It(B,F,q){void 0===F&&(F=1e3),void 0===q&&(q=2);var W=F*Math.pow(q,B),U=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+U)},de.contains=function vn(B,F){return Object.prototype.hasOwnProperty.call(B,F)},de.createSubscribe=function ds(B,F){var q=new pr(B,F);return q.subscribe.bind(q)},de.decode=$e,de.deepCopy=function O(B){return H(void 0,B)},de.deepExtend=H,de.errorPrefix=wn,de.getUA=me,de.isAdmin=function(B){var F=$e(B).claims;return"object"==typeof F&&!0===F.admin},de.isBrowser=function dn(){return"object"==typeof self&&self.self===self},de.isBrowserExtension=function _t(){var B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id},de.isElectron=function be(){return me().indexOf("Electron/")>=0},de.isEmpty=function Ct(B){for(var F in B)if(Object.prototype.hasOwnProperty.call(B,F))return!1;return!0},de.isIE=function ae(){var B=me();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0},de.isIndexedDBAvailable=function Yn(){return"indexedDB"in self&&null!=indexedDB},de.isMobileCordova=function ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())},de.isNode=Ze,de.isNodeSdk=function Rn(){return!0===M.NODE_CLIENT||!0===M.NODE_ADMIN},de.isReactNative=function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product},de.isSafari=function Qi(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},de.isUWP=function jt(){return me().indexOf("MSAppHost/")>=0},de.isValidFormat=function(B){var q=$e(B).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},de.isValidTimestamp=function(B){var F=$e(B).claims,q=Math.floor((new Date).getTime()/1e3),W=0,U=0;return"object"==typeof F&&(F.hasOwnProperty("nbf")?W=F.nbf:F.hasOwnProperty("iat")&&(W=F.iat),U=F.hasOwnProperty("exp")?F.exp:W+86400),!!q&&!!W&&!!U&&q>=W&&q<=U},de.issuedAtTime=function(B){var F=$e(B).claims;return"object"==typeof F&&F.hasOwnProperty("iat")?F.iat:null},de.jsonEval=He,de.map=function St(B,F,q){var W={};for(var U in B)Object.prototype.hasOwnProperty.call(B,U)&&(W[U]=F.call(q,B[U],U,B));return W},de.querystring=function ci(B){for(var F=[],q=function(ut,Oe){Array.isArray(Oe)?Oe.forEach(function(jn){F.push(encodeURIComponent(ut)+"="+encodeURIComponent(jn))}):F.push(encodeURIComponent(ut)+"="+encodeURIComponent(Oe))},W=0,U=Object.entries(B);W<U.length;W++){var Re=U[W];q(Re[0],Re[1])}return F.length?"&"+F.join("&"):""},de.querystringDecode=function qe(B){var F={};return B.replace(/^\?/,"").split("&").forEach(function(W){if(W){var U=W.split("=");F[U[0]]=U[1]}}),F},de.safeGet=function fr(B,F){if(Object.prototype.hasOwnProperty.call(B,F))return B[F]},de.stringLength=function(B){for(var F=0,q=0;q<B.length;q++){var W=B.charCodeAt(q);W<128?F++:W<2048?F+=2:W>=55296&&W<=56319?(F+=4,q++):F+=3}return F},de.stringToByteArray=function(B){for(var F=[],q=0,W=0;W<B.length;W++){var U=B.charCodeAt(W);if(U>=55296&&U<=56319){var Re=U-55296;W++,yn(W<B.length,"Surrogate pair missing trail surrogate."),U=65536+(Re<<10)+(B.charCodeAt(W)-56320)}U<128?F[q++]=U:U<2048?(F[q++]=U>>6|192,F[q++]=63&U|128):U<65536?(F[q++]=U>>12|224,F[q++]=U>>6&63|128,F[q++]=63&U|128):(F[q++]=U>>18|240,F[q++]=U>>12&63|128,F[q++]=U>>6&63|128,F[q++]=63&U|128)}return F},de.stringify=function Ve(B){return JSON.stringify(B)},de.validateArgCount=function(B,F,q,W){var U;if(W<F?U="at least "+F:W>q&&(U=0===q?"none":"no more than "+q),U)throw new Error(B+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+U+".")},de.validateCallback=function ii(B,F,q,W){if((!W||q)&&"function"!=typeof q)throw new Error(wn(B,F,W)+"must be a valid function.")},de.validateContextObject=function jr(B,F,q,W){if((!W||q)&&("object"!=typeof q||null===q))throw new Error(wn(B,F,W)+"must be a valid context object.")},de.validateIndexedDBOpenable=function K(){return new Promise(function(B,F){try{var q=!0,W="validate-browser-context-for-indexeddb-analytics-module",U=window.indexedDB.open(W);U.onsuccess=function(){U.result.close(),q||window.indexedDB.deleteDatabase(W),B(!0)},U.onupgradeneeded=function(){q=!1},U.onerror=function(){var Re;F((null===(Re=U.error)||void 0===Re?void 0:Re.message)||"")}}catch(Re){F(Re)}})},de.validateNamespace=function Qt(B,F,q,W){if((!W||q)&&"string"!=typeof q)throw new Error(wn(B,F,W)+"must be a valid firebase namespace.")}},715:(ni,de,wt)=>{wt.r(de),wt.d(de,{ErrorCode:()=>Ar,EventType:()=>mo,WebChannel:()=>$r,XhrIo:()=>va,createWebChannelTransport:()=>Ti,default:()=>Bo});var Ie=function(m,w){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,T){D.__proto__=T}||function(D,T){for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(D[N]=T[N])})(m,w)};function yn(m){var w="function"==typeof Symbol&&Symbol.iterator,D=w&&m[w],T=0;if(D)return D.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&T>=m.length&&(m=void 0),{value:m&&m[T++],done:!m}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")}var ie,Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rn=rn||{},Le=Pe||self;function wi(){}function Je(m){var w=typeof m;return"object"!=w?w:m?Array.isArray(m)?"array":w:"null"}function O(m){var w=Je(m);return"array"==w||"object"==w&&"number"==typeof m.length}function H(m){var w=typeof m;return"object"==w&&null!=m||"function"==w}var me="closure_uid_"+(1e9*Math.random()>>>0),ee=0;function Ze(m,w,D){return m.call.apply(m.bind,arguments)}function dn(m,w,D){if(!m)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,T),m.apply(w,N)}}return function(){return m.apply(w,arguments)}}function _t(m,w,D){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:dn).apply(null,arguments)}function fe(m,w){var D=Array.prototype.slice.call(arguments,1);return function(){var T=D.slice();return T.push.apply(T,arguments),m.apply(this,T)}}var be=Date.now;function ae(m,w){function D(){}D.prototype=w.prototype,m.S=w.prototype,m.prototype=new D,m.prototype.constructor=m}function jt(){this.j=this.j,this.i=this.i}jt.prototype.j=!1,jt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function we(m){Object.prototype.hasOwnProperty.call(m,me)&&m[me]||(m[me]=++ee)}(this)},jt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Qi=Array.prototype.indexOf?function(m,w){return Array.prototype.indexOf.call(m,w,void 0)}:function(m,w){if("string"==typeof m)return"string"!=typeof w||1!=w.length?-1:m.indexOf(w,0);for(var D=0;D<m.length;D++)if(D in m&&m[D]===w)return D;return-1},Yn=Array.prototype.forEach?function(m,w,D){Array.prototype.forEach.call(m,w,D)}:function(m,w,D){for(var T=m.length,N="string"==typeof m?m.split(""):m,G=0;G<T;G++)G in N&&w.call(D,N[G],G,m)};function pe(m){return Array.prototype.concat.apply([],arguments)}function oe(m){var w=m.length;if(0<w){for(var D=Array(w),T=0;T<w;T++)D[T]=m[T];return D}return[]}function te(m){return/^[\s\xa0]*$/.test(m)}var He,Me=String.prototype.trim?function(m){return m.trim()}:function(m){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(m)[1]};function ne(m,w){return-1!=m.indexOf(w)}function ze(m,w){return m<w?-1:m>w?1:0}e:{var Ve=Le.navigator;if(Ve){var $e=Ve.userAgent;if($e){He=$e;break e}}He=""}function bn(m,w,D){for(var T in m)w.call(D,m[T],T,m)}function We(m){var w={};for(var D in m)w[D]=m[D];return w}var xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(m,w){for(var D,T,N=1;N<arguments.length;N++){for(D in T=arguments[N])m[D]=T[D];for(var G=0;G<xe.length;G++)D=xe[G],Object.prototype.hasOwnProperty.call(T,D)&&(m[D]=T[D])}}function vn(m){return vn[" "](m),m}vn[" "]=wi;var Mt,m,Ct=ne(He,"Opera"),St=ne(He,"Trident")||ne(He,"MSIE"),ci=ne(He,"Edge"),qe=ci||St,Br=ne(He,"Gecko")&&!(ne(He.toLowerCase(),"webkit")&&!ne(He,"Edge"))&&!(ne(He,"Trident")||ne(He,"MSIE"))&&!ne(He,"Edge"),ds=ne(He.toLowerCase(),"webkit")&&!ne(He,"Edge");function pr(){var m=Le.document;return m?m.documentMode:void 0}e:{var un="",Ke=(m=He,Br?/rv:([^\);]+)(\)|;)/.exec(m):ci?/Edge\/([\d\.]+)/.exec(m):St?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(m):ds?/WebKit\/(\S+)/.exec(m):Ct?/(?:Version)[ \/]?(\S+)/.exec(m):void 0);if(Ke&&(un=Ke?Ke[1]:""),St){var Xt=pr();if(null!=Xt&&Xt>parseFloat(un)){Mt=String(Xt);break e}}Mt=un}var wn={};function Qt(m){return function fr(m,w){var D=wn;return Object.prototype.hasOwnProperty.call(D,m)?D[m]:D[m]=w(m)}(m,function(){for(var w=0,D=Me(String(Mt)).split("."),T=Me(String(m)).split("."),N=Math.max(D.length,T.length),G=0;0==w&&G<N;G++){var ye=D[G]||"",Pt=T[G]||"";do{if(ye=/(\d*)(\D*)(.*)/.exec(ye)||["","","",""],Pt=/(\d*)(\D*)(.*)/.exec(Pt)||["","","",""],0==ye[0].length&&0==Pt[0].length)break;w=ze(0==ye[1].length?0:parseInt(ye[1],10),0==Pt[1].length?0:parseInt(Pt[1],10))||ze(0==ye[2].length,0==Pt[2].length)||ze(ye[2],Pt[2]),ye=ye[3],Pt=Pt[3]}while(0==w)}return 0<=w})}var Ci=Le.document&&St&&(pr()||parseInt(Mt,10))||void 0,xr=!St||9<=Number(Ci),tu=St&&!Qt("9"),nu=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{Le.addEventListener("test",wi,w),Le.removeEventListener("test",wi,w)}catch(D){}return m}();function Sn(m,w){this.type=m,this.a=this.target=w,this.defaultPrevented=!1}function cn(m,w){if(Sn.call(this,m?m.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,m){var D=this.type=m.type,T=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.a=w,w=m.relatedTarget){if(Br){e:{try{vn(w.nodeName);var N=!0;break e}catch(G){}N=!1}N||(w=null)}}else"mouseover"==D?w=m.fromElement:"mouseout"==D&&(w=m.toElement);this.relatedTarget=w,T?(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:It[m.pointerType]||"",this.c=m,m.defaultPrevented&&this.b()}}Sn.prototype.b=function(){this.defaultPrevented=!0},ae(cn,Sn);var It={2:"touch",3:"pen",4:"mouse"};cn.prototype.b=function(){cn.S.b.call(this);var m=this.c;if(m.preventDefault)m.preventDefault();else if(m.returnValue=!1,tu)try{(m.ctrlKey||112<=m.keyCode&&123>=m.keyCode)&&(m.keyCode=-1)}catch(w){}};var B="closure_listenable_"+(1e6*Math.random()|0),F=0;function q(m,w,D,T,N){this.listener=m,this.proxy=null,this.src=w,this.type=D,this.capture=!!T,this.ca=N,this.key=++F,this.Y=this.Z=!1}function W(m){m.Y=!0,m.listener=null,m.proxy=null,m.src=null,m.ca=null}function U(m){this.src=m,this.a={},this.b=0}function Re(m,w){var D=w.type;if(D in m.a){var G,T=m.a[D],N=Qi(T,w);(G=0<=N)&&Array.prototype.splice.call(T,N,1),G&&(W(w),0==m.a[D].length&&(delete m.a[D],m.b--))}}function gt(m,w,D,T){for(var N=0;N<m.length;++N){var G=m[N];if(!G.Y&&G.listener==w&&G.capture==!!D&&G.ca==T)return N}return-1}U.prototype.add=function(m,w,D,T,N){var G=m.toString();(m=this.a[G])||(m=this.a[G]=[],this.b++);var ye=gt(m,w,T,N);return-1<ye?(w=m[ye],D||(w.Z=!1)):((w=new q(w,this.src,G,!!T,N)).Z=D,m.push(w)),w};var sn="closure_lm_"+(1e6*Math.random()|0),ut={};function Oe(m,w,D,T,N){if(T&&T.once)return Pn(m,w,D,T,N);if(Array.isArray(w)){for(var G=0;G<w.length;G++)Oe(m,w[G],D,T,N);return null}return D=Ns(D),m&&m[B]?m.va(w,D,H(T)?!!T.capture:!!T,N):jn(m,w,D,!1,T,N)}function jn(m,w,D,T,N,G){if(!w)throw Error("Invalid event type");var ye=H(N)?!!N.capture:!!N;if(ye&&!xr)return null;var Pt=Ja(m);if(Pt||(m[sn]=Pt=new U(m)),(D=Pt.add(w,D,T,ye,G)).proxy)return D;if(T=function hi(){var m=Hn,w=xr?function(D){return m.call(w.src,w.listener,D)}:function(D){if(!(D=m.call(w.src,w.listener,D)))return D};return w}(),D.proxy=T,T.src=m,T.listener=D,m.addEventListener)nu||(N=ye),void 0===N&&(N=!1),m.addEventListener(w.toString(),T,N);else if(m.attachEvent)m.attachEvent(la(w.toString()),T);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(T)}return D}function Pn(m,w,D,T,N){if(Array.isArray(w)){for(var G=0;G<w.length;G++)Pn(m,w[G],D,T,N);return null}return D=Ns(D),m&&m[B]?m.wa(w,D,H(T)?!!T.capture:!!T,N):jn(m,w,D,!0,T,N)}function Os(m,w,D,T,N){if(Array.isArray(w))for(var G=0;G<w.length;G++)Os(m,w[G],D,T,N);else T=H(T)?!!T.capture:!!T,D=Ns(D),m&&m[B]?(m=m.c,(w=String(w).toString())in m.a&&-1<(D=gt(G=m.a[w],D,T,N))&&(W(G[D]),Array.prototype.splice.call(G,D,1),0==G.length&&(delete m.a[w],m.b--))):m&&(m=Ja(m))&&(w=m.a[w.toString()],m=-1,w&&(m=gt(w,D,T,N)),(D=-1<m?w[m]:null)&&Un(D))}function Un(m){if("number"!=typeof m&&m&&!m.Y){var w=m.src;if(w&&w[B])Re(w.c,m);else{var D=m.type,T=m.proxy;w.removeEventListener?w.removeEventListener(D,T,m.capture):w.detachEvent?w.detachEvent(la(D),T):w.addListener&&w.removeListener&&w.removeListener(T),(D=Ja(w))?(Re(D,m),0==D.b&&(D.src=null,w[sn]=null)):W(m)}}}function la(m){return m in ut?ut[m]:ut[m]="on"+m}function fs(m,w){var D=m.listener,T=m.ca||m.src;return m.Z&&Un(m),D.call(T,w)}function Hn(m,w){if(m.Y)return!0;if(!xr){if(!w)e:{w=["window","event"];for(var D=Le,T=0;T<w.length;T++)if(null==(D=D[w[T]])){w=null;break e}w=D}return fs(m,w=new cn(w,this))}return fs(m,new cn(w,this))}function Ja(m){return(m=m[sn])instanceof U?m:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ns(m){return"function"==Je(m)?m:(m[Ui]||(m[Ui]=function(w){return m.handleEvent(w)}),m[Ui])}function Ei(){jt.call(this),this.c=new U(this),this.J=this,this.C=null}function iu(m,w,D,T){if(!(w=m.c.a[String(w)]))return!0;w=w.concat();for(var N=!0,G=0;G<w.length;++G){var ye=w[G];if(ye&&!ye.Y&&ye.capture==D){var Pt=ye.listener,kt=ye.ca||ye.src;ye.Z&&Re(m.c,ye),N=!1!==Pt.call(kt,T)&&N}}return N&&!T.defaultPrevented}ae(Ei,jt),Ei.prototype[B]=!0,(ie=Ei.prototype).addEventListener=function(m,w,D,T){Oe(this,m,w,D,T)},ie.removeEventListener=function(m,w,D,T){Os(this,m,w,D,T)},ie.dispatchEvent=function(m){var w,D=this.C;if(D)for(w=[];D;D=D.C)w.push(D);D=this.J;var T=m.type||m;if("string"==typeof m)m=new Sn(m,D);else if(m instanceof Sn)m.target=m.target||D;else{var N=m;ce(m=new Sn(T,D),N)}if(N=!0,w)for(var G=w.length-1;0<=G;G--){var ye=m.a=w[G];N=iu(ye,T,!0,m)&&N}if(N=iu(ye=m.a=D,T,!0,m)&&N,N=iu(ye,T,!1,m)&&N,w)for(G=0;G<w.length;G++)N=iu(ye=m.a=w[G],T,!1,m)&&N;return N},ie.G=function(){if(Ei.S.G.call(this),this.c){var w,m=this.c;for(w in m.a){for(var D=m.a[w],T=0;T<D.length;T++)W(D[T]);delete m.a[w],m.b--}}this.C=null},ie.va=function(m,w,D,T){return this.c.add(String(m),w,!1,D,T)},ie.wa=function(m,w,D,T){return this.c.add(String(m),w,!0,D,T)};var ko=Le.JSON.stringify;function hc(){this.b=this.a=null}var lo,Kh=new(function(){function m(w,D,T){this.f=T,this.c=w,this.g=D,this.b=0,this.a=null}return m.prototype.get=function(){var w;return 0<this.b?(this.b--,this.a=(w=this.a).next,w.next=null):w=this.c(),w},m}())(function(){return new Ur},function(m){m.reset()},100);function fn(){var m=ou,w=null;return m.a&&(w=m.a,m.a=m.a.next,m.a||(m.b=null),w.next=null),w}function Ur(){this.next=this.b=this.a=null}function ru(m){Le.setTimeout(function(){throw m},0)}function On(m,w){lo||function Sr(){var m=Le.Promise.resolve(void 0);lo=function(){m.then(el)}}(),su||(lo(),su=!0),ou.add(m,w)}hc.prototype.add=function(m,w){var D=Kh.get();D.set(m,w),this.b?this.b.next=D:this.a=D,this.b=D},Ur.prototype.set=function(m,w){this.a=m,this.b=w,this.next=null},Ur.prototype.reset=function(){this.next=this.b=this.a=null};var su=!1,ou=new hc;function el(){for(var m;m=fn();){try{m.a.call(m.b)}catch(D){ru(D)}var w=Kh;w.g(m),w.b<w.f&&(w.b++,m.next=w.a,w.a=m)}su=!1}function Ro(m,w){Ei.call(this),this.b=m||1,this.a=w||Le,this.f=_t(this.Ya,this),this.g=be()}function tl(m){m.aa=!1,m.M&&(m.a.clearTimeout(m.M),m.M=null)}function uo(m,w,D){if("function"==Je(m))D&&(m=_t(m,D));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=_t(m.handleEvent,m)}return 2147483647<Number(w)?-1:Le.setTimeout(m,w||0)}function Yh(m){m.a=uo(function(){m.a=null,m.c&&(m.c=!1,Yh(m))},m.h);var w=m.b;m.b=null,m.g.apply(null,w)}ae(Ro,Ei),(ie=Ro.prototype).aa=!1,ie.M=null,ie.Ya=function(){if(this.aa){var m=be()-this.g;0<m&&m<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-m):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(tl(this),this.start()))}},ie.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=be())},ie.G=function(){Ro.S.G.call(this),tl(this),delete this.a};var dc=function(m){function w(D,T,N){var G=m.call(this)||this;return G.g=null!=N?D.bind(N):D,G.h=T,G.b=null,G.c=!1,G.a=null,G}return function M(m,w){function D(){this.constructor=m}Ie(m,w),m.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}(w,m),w.prototype.f=function(D){this.b=arguments,this.a?this.c=!0:Yh(this)},w.prototype.G=function(){m.prototype.G.call(this),this.a&&(Le.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},w}(jt);function Po(m){jt.call(this),this.b=m,this.a={}}ae(Po,jt);var au=[];function fc(m,w,D,T){Array.isArray(D)||(D&&(au[0]=D.toString()),D=au);for(var N=0;N<D.length;N++){var G=Oe(w,D[N],T||m.handleEvent,!1,m.b||m);if(!G)break;m.a[G.key]=G}}function ua(m){bn(m.a,function(w,D){this.a.hasOwnProperty(D)&&Un(w)},m),m.a={}}function pc(){this.a=!0}function ms(m,w,D,T){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+function nl(m,w){if(!m.a)return w;if(!w)return null;try{var D=JSON.parse(w);if(D)for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var T=D[m];if(!(2>T.length)){var N=T[1];if(Array.isArray(N)&&!(1>N.length)){var G=N[0];if("noop"!=G&&"stop"!=G&&"close"!=G)for(var ye=1;ye<N.length;ye++)N[ye]=""}}}return ko(D)}catch(Pt){return w}}(m,D)+(T?" "+T:"")})}Po.prototype.G=function(){Po.S.G.call(this),ua(this)},Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pc.prototype.info=function(){};var Zi=null;function ca(){return Zi=Zi||new Ei}function Hr(m){Sn.call(this,"serverreachability",m)}function Xe(m){var w=ca();w.dispatchEvent(new Hr(w,m))}function Ls(m){Sn.call(this,"statevent",m)}function at(m){var w=ca();w.dispatchEvent(new Ls(w,m))}function ha(m){Sn.call(this,"timingevent",m)}function Oo(m,w){if("function"!=Je(m))throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){m()},w)}ae(Hr,Sn),ae(Ls,Sn),ae(ha,Sn);var Ft={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},lt={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function il(){}function Te(){}il.prototype.a=null;var mc,No={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function et(){Sn.call(this,"d")}function qn(){Sn.call(this,"c")}function lu(){}function rl(m,w,D,T){this.g=m,this.c=w,this.f=D,this.T=T||1,this.J=new Po(this),this.P=uu,this.R=new Ro(m=qe?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}ae(et,Sn),ae(qn,Sn),ae(lu,il),mc=new lu;var uu=45e3,Cn={},cu={};function hu(m,w,D){m.H=1,m.i=gs(ct(w)),m.j=D,m.I=!0,da(m,null)}function da(m,w){m.u=be(),sl(m),m.l=ct(m.i);var D=m.l,T=m.T;Array.isArray(T)||(T=[String(T)]),di(D.b,"t",T),m.D=0,m.a=Ii(m.g,m.g.C?w:null),0<m.O&&(m.F=new dc(_t(m.Ca,m,m.a),m.O)),fc(m.J,m.a,"readystatechange",m.Wa),w=m.B?We(m.B):{},m.j?(m.m||(m.m="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.a.ba(m.l,m.m,m.j,w)):(m.m="GET",m.a.ba(m.l,m.m,null,w)),Xe(1),function Fs(m,w,D,T,N,G){m.info(function(){if(m.a)if(G)for(var ye="",Pt=G.split("&"),kt=0;kt<Pt.length;kt++){var fi=Pt[kt].split("=");if(1<fi.length){var Mr=fi[0];fi=fi[1];var Kr=Mr.split("_");ye=2<=Kr.length&&"type"==Kr[1]?ye+(Mr+"=")+fi+"&":ye+(Mr+"=redacted&")}}else ye=null;else ye=G;return"XMLHTTP REQ ("+T+") [attempt "+N+"]: "+w+"\n"+D+"\n"+ye})}(m.c,m.m,m.l,m.f,m.T,m.j)}function Xn(m,w,D){for(var T=!0;!m.A&&m.D<D.length;){var N=Xh(m,D);if(N==cu){4==w&&(m.h=4,at(14),T=!1),ms(m.c,m.f,null,"[Incomplete Response]");break}if(N==Cn){m.h=4,at(15),ms(m.c,m.f,D,"[Invalid Chunk]"),T=!1;break}ms(m.c,m.f,N,null),fu(m,N)}4==w&&0==D.length&&(m.h=1,at(16),T=!1),m.b=m.b&&T,T?0<D.length&&!m.W&&(m.W=!0,(w=m.g).a==m&&w.V&&!w.F&&(w.c.info("Great, no buffering proxy detected. Bytes received: "+D.length),Dn(w),w.F=!0)):(ms(m.c,m.f,D,"[Invalid Chunked Response]"),co(m),al(m))}function Xh(m,w){var D=m.D,T=w.indexOf("\n",D);return-1==T?cu:(D=Number(w.substring(D,T)),isNaN(D)?Cn:(T+=1)+D>w.length?cu:(w=w.substr(T,D),m.D=T+D,w))}function sl(m){m.U=be()+m.P,ol(m,m.P)}function ol(m,w){if(null!=m.o)throw Error("WatchDog timer not null");m.o=Oo(_t(m.Ua,m),w)}function du(m){m.o&&(Le.clearTimeout(m.o),m.o=null)}function al(m){0==m.g.v||m.A||pt(m.g,m)}function co(m){du(m);var w=m.F;w&&"function"==typeof w.ja&&w.ja(),m.F=null,tl(m.R),ua(m.J),m.a&&(w=m.a,m.a=null,w.abort(),w.ja())}function fu(m,w){try{var D=m.g;if(0!=D.v&&(D.a==m||Lt(D.b,m)))if(D.I=m.N,!m.C&&Lt(D.b,m)&&3==D.v){try{var T=D.ka.a.parse(w)}catch(gr){T=null}if(Array.isArray(T)&&3==T.length){var N=T;if(0==N[0])e:if(D.j)D.oa=N[1],0<D.oa-D.P&&37500>N[2]&&D.H&&0==D.o&&!D.m&&(D.m=Oo(_t(D.Ra,D),6e3));else{if(D.a){if(!(D.a.u+3e3<m.u))break e;Hs(D),zn(D)}Us(D),at(18)}if(1>=ho(D.b)&&D.ea){try{D.ea()}catch(gr){}D.ea=void 0}}else Si(D,11)}else if((m.C||D.a==m)&&Hs(D),!te(w))for(w=T=D.ka.a.parse(w),T=0;T<w.length;T++)if(D.P=(N=w[T])[0],N=N[1],2==D.v)if("c"==N[0]){D.J=N[1],D.ga=N[2];var G=N[3];null!=G&&(D.ha=G,D.c.info("VER="+D.ha));var ye=N[4];null!=ye&&(D.pa=ye,D.c.info("SVER="+D.pa));var Pt=N[5];if(null!=Pt&&"number"==typeof Pt&&0<Pt){var kt=1.5*Pt;D.D=kt,D.c.info("backChannelRequestTimeoutMs_="+kt)}kt=D;var fi=m.a;if(fi){var Mr=fi.a?fi.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var Kr=kt.b;!Kr.a&&(ne(Mr,"spdy")||ne(Mr,"quic")||ne(Mr,"h2"))&&(Kr.f=Kr.g,Kr.a=new Set,Kr.b&&(mr(Kr,Kr.b),Kr.b=null))}if(kt.A){var td=fi.a?fi.a.getResponseHeader("X-HTTP-Session-Id"):null;td&&(kt.na=td,pn(kt.B,kt.A,td))}}D.v=3,D.f&&D.f.ta(),D.V&&(D.N=be()-m.u,D.c.info("Handshake RTT: "+D.N+"ms"));var gl=m;if((kt=D).la=po(kt,kt.C?kt.ga:null,kt.fa),gl.C){dl(kt.b,gl);var yl=gl,kr=kt.D;kr&&yl.setTimeout(kr),yl.o&&(du(yl),sl(yl)),kt.a=gl}else Zn(kt);0<D.g.length&&ve(D)}else"stop"!=N[0]&&"close"!=N[0]||Si(D,7);else 3==D.v&&("stop"==N[0]||"close"==N[0]?"stop"==N[0]?Si(D,7):Cs(D):"noop"!=N[0]&&D.f&&D.f.sa(N),D.o=0);Xe(4)}catch(gr){}}function Di(m,w){if(m.forEach&&"function"==typeof m.forEach)m.forEach(w,void 0);else if(O(m)||"string"==typeof m)Yn(m,w,void 0);else{if(m.L&&"function"==typeof m.L)var D=m.L();else if(m.K&&"function"==typeof m.K)D=void 0;else if(O(m)||"string"==typeof m){D=[];for(var T=m.length,N=0;N<T;N++)D.push(N)}else for(N in D=[],T=0,m)D[T++]=N;T=function ep(m){if(m.K&&"function"==typeof m.K)return m.K();if("string"==typeof m)return m.split("");if(O(m)){for(var w=[],D=m.length,T=0;T<D;T++)w.push(m[T]);return w}for(T in w=[],D=0,m)w[D++]=m[T];return w}(m),N=T.length;for(var G=0;G<N;G++)w.call(void 0,T[G],D&&D[G],m)}}function Ut(m,w){this.b={},this.a=[],this.c=0;var D=arguments.length;if(1<D){if(D%2)throw Error("Uneven number of arguments");for(var T=0;T<D;T+=2)this.set(arguments[T],arguments[T+1])}else if(m)if(m instanceof Ut)for(D=m.L(),T=0;T<D.length;T++)this.set(D[T],m.get(D[T]));else for(T in m)this.set(T,m[T])}function gc(m){if(m.c!=m.a.length){for(var w=0,D=0;w<m.a.length;){var T=m.a[w];Fo(m.b,T)&&(m.a[D++]=T),w++}m.a.length=D}if(m.c!=m.a.length){var N={};for(D=w=0;w<m.a.length;)Fo(N,T=m.a[w])||(m.a[D++]=T,N[T]=1),w++;m.a.length=D}}function Fo(m,w){return Object.prototype.hasOwnProperty.call(m,w)}(ie=rl.prototype).setTimeout=function(m){this.P=m},ie.Wa=function(m){m=m.target;var w=this.F;w&&3==Fn(m)?w.f():this.Ca(m)},ie.Ca=function(m){try{if(m==this.a)e:{var w=Fn(this.a),D=this.a.ua(),T=this.a.X();if(!(3>w||3==w&&!qe&&!this.a.$())){this.A||4!=w||7==D||Xe(8==D||0>=T?3:2),du(this);var N=this.a.X();this.N=N;var G=this.a.$();if(this.b=200==N,function ps(m,w,D,T,N,G,ye){m.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+N+"]: "+w+"\n"+D+"\n"+G+" "+ye})}(this.c,this.m,this.l,this.f,this.T,w,N),this.b){if(this.V&&!this.C){t:{if(this.a){var ye,Pt=this.a;if((ye=Pt.a?Pt.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ye)){var kt=ye;break t}}kt=null}if(!kt){this.b=!1,this.h=3,at(12),co(this),al(this);break e}ms(this.c,this.f,kt,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,fu(this,kt)}this.I?(Xn(this,w,G),qe&&this.b&&3==w&&(fc(this.J,this.R,"tick",this.Va),this.R.start())):(ms(this.c,this.f,G,null),fu(this,G)),4==w&&co(this),this.b&&!this.A&&(4==w?pt(this.g,this):(this.b=!1,sl(this)))}else 400==N&&0<G.indexOf("Unknown SID")?(this.h=3,at(12)):(this.h=0,at(13)),co(this),al(this)}}}catch(fi){}},ie.Va=function(){if(this.a){var m=Fn(this.a),w=this.a.$();this.D<w.length&&(du(this),Xn(this,m,w),this.b&&4!=m&&sl(this))}},ie.cancel=function(){this.A=!0,co(this)},ie.Ua=function(){this.o=null;var m=be();0<=m-this.U?(function In(m,w){m.info(function(){return"TIMEOUT: "+w})}(this.c,this.l),2!=this.H&&(Xe(3),at(17)),co(this),this.h=2,al(this)):ol(this,this.U-m)},(ie=Ut.prototype).K=function(){gc(this);for(var m=[],w=0;w<this.a.length;w++)m.push(this.b[this.a[w]]);return m},ie.L=function(){return gc(this),this.a.concat()},ie.get=function(m,w){return Fo(this.b,m)?this.b[m]:w},ie.set=function(m,w){Fo(this.b,m)||(this.c++,this.a.push(m)),this.b[m]=w},ie.forEach=function(m,w){for(var D=this.L(),T=0;T<D.length;T++){var N=D[T],G=this.get(N);m.call(w,G,N,this)}};var Qh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fa(m,w){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,m instanceof fa){this.a=void 0!==w?w:m.a,qr(this,m.f),this.j=m.j,ll(this,m.c),pu(this,m.h),this.g=m.g,w=m.b;var D=new xi;D.c=w.c,w.a&&(D.a=new Ut(w.a),D.b=w.b),Zh(this,D),this.i=m.i}else m&&(D=String(m).match(Qh))?(this.a=!!w,qr(this,D[1]||"",!0),this.j=pa(D[2]||""),ll(this,D[3]||"",!0),pu(this,D[4]),this.g=pa(D[5]||"",!0),Zh(this,D[6]||"",!0),this.i=pa(D[7]||"")):(this.a=!!w,this.b=new xi(null,this.a))}function ct(m){return new fa(m)}function qr(m,w,D){m.f=D?pa(w,!0):w,m.f&&(m.f=m.f.replace(/:$/,""))}function ll(m,w,D){m.c=D?pa(w,!0):w}function pu(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.h=w}else m.h=null}function Zh(m,w,D){w instanceof xi?(m.b=w,function hl(m,w){w&&!m.f&&(Ir(m),m.c=null,m.a.forEach(function(D,T){var N=T.toLowerCase();T!=N&&(cl(this,T),di(this,N,D))},m)),m.f=w}(m.b,m.a)):(D||(w=Ge(w,ul)),m.b=new xi(w,m.a))}function pn(m,w,D){m.b.set(w,D)}function gs(m){return pn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^be()).toString(36)),m}function pa(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ge(m,w,D){return"string"==typeof m?(m=encodeURI(m).replace(w,Vs),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Vs(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}fa.prototype.toString=function(){var m=[],w=this.f;w&&m.push(Ge(w,vc,!0),":");var D=this.c;return(D||"file"==w)&&(m.push("//"),(w=this.j)&&m.push(Ge(w,vc,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(D=this.h)&&m.push(":",String(D))),(D=this.g)&&(this.c&&"/"!=D.charAt(0)&&m.push("/"),m.push(Ge(D,"/"==D.charAt(0)?_c:Ji,!0))),(D=this.b.toString())&&m.push("?",D),(D=this.i)&&m.push("#",Ge(D,Bs)),m.join("")};var vc=/[#\/\?@]/g,Ji=/[#\?:]/g,_c=/[#\?]/g,ul=/[#\?@]/g,Bs=/#/g;function xi(m,w){this.b=this.a=null,this.c=m||null,this.f=!!w}function Ir(m){m.a||(m.a=new Ut,m.b=0,m.c&&function ke(m,w){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var T=m[D].indexOf("="),N=null;if(0<=T){var G=m[D].substring(0,T);N=m[D].substring(T+1)}else G=m[D];w(G,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(m.c,function(w,D){m.add(decodeURIComponent(w.replace(/\+/g," ")),D)}))}function cl(m,w){Ir(m),w=Gr(m,w),Fo(m.a.b,w)&&(m.c=null,m.b-=m.a.get(w).length,Fo((m=m.a).b,w)&&(delete m.b[w],m.c--,m.a.length>2*m.c&&gc(m)))}function Tr(m,w){return Ir(m),w=Gr(m,w),Fo(m.a.b,w)}function di(m,w,D){cl(m,w),0<D.length&&(m.c=null,m.a.set(Gr(m,w),oe(D)),m.b+=D.length)}function Gr(m,w){return w=String(w),m.f&&(w=w.toLowerCase()),w}function Wg(m,w){this.b=m,this.a=w}function Wt(m){this.g=m||Kg,m=Le.PerformanceNavigationTiming?0<(m=Le.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(Le.ia&&Le.ia.ya&&Le.ia.ya()&&Le.ia.ya().qb),this.f=m?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ie=xi.prototype).add=function(m,w){Ir(this),this.c=null,m=Gr(this,m);var D=this.a.get(m);return D||this.a.set(m,D=[]),D.push(w),this.b+=1,this},ie.forEach=function(m,w){Ir(this),this.a.forEach(function(D,T){Yn(D,function(N){m.call(w,N,T,this)},this)},this)},ie.L=function(){Ir(this);for(var m=this.a.K(),w=this.a.L(),D=[],T=0;T<w.length;T++)for(var N=m[T],G=0;G<N.length;G++)D.push(w[T]);return D},ie.K=function(m){Ir(this);var w=[];if("string"==typeof m)Tr(this,m)&&(w=pe(w,this.a.get(Gr(this,m))));else{m=this.a.K();for(var D=0;D<m.length;D++)w=pe(w,m[D])}return w},ie.set=function(m,w){return Ir(this),this.c=null,Tr(this,m=Gr(this,m))&&(this.b-=this.a.get(m).length),this.a.set(m,[w]),this.b+=1,this},ie.get=function(m,w){return m&&0<(m=this.K(m)).length?String(m[0]):w},ie.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var m=[],w=this.a.L(),D=0;D<w.length;D++){var T=w[D],N=encodeURIComponent(String(T));T=this.K(T);for(var G=0;G<T.length;G++){var ye=N;""!==T[G]&&(ye+="="+encodeURIComponent(String(T[G]))),m.push(ye)}}return this.c=m.join("&")};var Kg=10;function ed(m){return!!m.b||!!m.a&&m.a.size>=m.f}function ho(m){return m.b?1:m.a?m.a.size:0}function Lt(m,w){return m.b?m.b==w:!!m.a&&m.a.has(w)}function mr(m,w){m.a?m.a.add(w):m.b=w}function dl(m,w){m.b&&m.b==w?m.b=null:m.a&&m.a.has(w)&&m.a.delete(w)}function ys(m){var w,D;if(null!=m.b)return m.c.concat(m.b.s);if(null!=m.a&&0!==m.a.size){var T=m.c;try{for(var N=yn(m.a.values()),G=N.next();!G.done;G=N.next())T=T.concat(G.value.s)}catch(Pt){w={error:Pt}}finally{try{G&&!G.done&&(D=N.return)&&D.call(N)}finally{if(w)throw w.error}}return T}return oe(m.c)}function fl(){}function vs(){this.a=new fl}function js(m,w,D){var T=D||"";try{Di(m,function(N,G){var ye=N;H(N)&&(ye=ko(N)),w.push(T+G+"="+encodeURIComponent(ye))})}catch(N){throw w.push(T+"type="+encodeURIComponent("_badmap")),N}}function En(m,w,D,T,N){try{w.onload=null,w.onerror=null,w.onabort=null,w.ontimeout=null,N(T)}catch(G){}}Wt.prototype.cancel=function(){var m,w;if(this.c=ys(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var D=yn(this.a.values()),T=D.next();!T.done;T=D.next())T.value.cancel()}catch(G){m={error:G}}finally{try{T&&!T.done&&(w=D.return)&&w.call(D)}finally{if(m)throw m.error}}this.a.clear()}},fl.prototype.stringify=function(m){return Le.JSON.stringify(m,void 0)},fl.prototype.parse=function(m){return Le.JSON.parse(m,void 0)};var pl=Le.JSON.parse;function Nn(m){Ei.call(this),this.headers=new Ut,this.H=m||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mu,this.D=this.F=!1}ae(Nn,Ei);var mu="",Ht=/^https?$/i,nt=["POST","PUT"];function _s(m){return"content-type"==m.toLowerCase()}function Be(m,w){m.b=!1,m.a&&(m.g=!0,m.a.abort(),m.g=!1),m.f=w,m.h=5,Qn(m),er(m)}function Qn(m){m.u||(m.u=!0,m.dispatchEvent("complete"),m.dispatchEvent("error"))}function Gn(m){if(m.b&&void 0!==rn&&(!m.s[1]||4!=Fn(m)||2!=m.X()))if(m.l&&4==Fn(m))uo(m.za,0,m);else if(m.dispatchEvent("readystatechange"),4==Fn(m)){m.b=!1;try{var T,w=m.X();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}if(!(T=D)){var N;if(N=0===w){var G=String(m.B).match(Qh)[1]||null;if(!G&&Le.self&&Le.self.location){var ye=Le.self.location.protocol;G=ye.substr(0,ye.length-1)}N=!Ht.test(G?G.toLowerCase():"")}T=N}if(T)m.dispatchEvent("complete"),m.dispatchEvent("success");else{m.h=6;try{var Pt=2<Fn(m)?m.a.statusText:""}catch(kt){Pt=""}m.f=Pt+" ["+m.X()+"]",Qn(m)}}finally{er(m)}}}function er(m,w){if(m.a){bs(m);var D=m.a,T=m.s[0]?wi:null;m.a=null,m.s=null,w||m.dispatchEvent("ready");try{D.onreadystatechange=T}catch(N){}}}function bs(m){m.a&&m.D&&(m.a.ontimeout=null),m.m&&(Le.clearTimeout(m.m),m.m=null)}function Fn(m){return m.a?m.a.readyState:0}function ws(m,w,D){e:{for(T in D){var T=!1;break e}T=!0}T||(D=function ma(m){var w="";return bn(m,function(D,T){w+=T,w+=":",w+=D,w+="\r\n"}),w}(D),"string"==typeof m?null!=D&&encodeURIComponent(String(D)):pn(m,w,D))}function ri(m,w,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||w}function ga(m){this.pa=0,this.g=[],this.c=new pc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=ri("failFast",!1,m),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=ri("baseRetryDelayMs",5e3,m),this.Ma=ri("retryDelaySeedMs",1e4,m),this.Ja=ri("forwardChannelMaxRetries",2,m),this.ma=ri("forwardChannelRequestTimeoutMs",2e4,m),this.Ka=m&&m.g||void 0,this.D=void 0,this.C=m&&m.supportsCrossDomainXhr||!1,this.J="",this.b=new Wt(m&&m.concurrentRequestLimit),this.ka=new vs,this.da=m&&m.fastHandshake||!1,this.Ga=m&&m.b||!1,m&&m.f&&(this.c.a=!1),m&&m.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&m&&m.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Cs(m){if(Lo(m),3==m.v){var w=m.R++,D=ct(m.B);pn(D,"SID",m.J),pn(D,"RID",w),pn(D,"TYPE","terminate"),on(m,D),(w=new rl(m,m.c,w,void 0)).H=2,w.i=gs(ct(D)),D=!1,Le.navigator&&Le.navigator.sendBeacon&&(D=Le.navigator.sendBeacon(w.i.toString(),"")),!D&&Le.Image&&((new Image).src=w.i,D=!0),D||(w.a=Ii(w.g,null),w.a.ba(w.i)),w.u=be(),sl(w)}Vo(m)}function zn(m){m.a&&(Dn(m),m.a.cancel(),m.a=null)}function Lo(m){zn(m),m.j&&(Le.clearTimeout(m.j),m.j=null),Hs(m),m.b.cancel(),m.h&&("number"==typeof m.h&&Le.clearTimeout(m.h),m.h=null)}function Hi(m,w){m.g.push(new Wg(m.La++,w)),3==m.v&&ve(m)}function ve(m){ed(m.b)||m.h||(m.h=!0,On(m.Ba,m),m.u=0)}function mn(m,w){var D;D=w?w.f:m.R++;var T=ct(m.B);pn(T,"SID",m.J),pn(T,"RID",D),pn(T,"AID",m.P),on(m,T),m.i&&m.l&&ws(T,m.i,m.l),D=new rl(m,m.c,D,m.u+1),null===m.i&&(D.B=m.l),w&&(m.g=w.s.concat(m.g)),w=fo(m,D,1e3),D.setTimeout(Math.round(.5*m.ma)+Math.round(.5*m.ma*Math.random())),mr(m.b,D),hu(D,T,w)}function on(m,w){m.f&&Di({},function(D,T){pn(w,T,D)})}function fo(m,w,D){D=Math.min(m.g.length,D);var T=m.f?_t(m.f.Ha,m.f,m):null;e:for(var N=m.g,G=-1;;){var ye=["count="+D];-1==G?0<D?ye.push("ofs="+(G=N[0].b)):G=0:ye.push("ofs="+G);for(var Pt=!0,kt=0;kt<D;kt++){var fi=N[kt].b,Mr=N[kt].a;if(0>(fi-=G))G=Math.max(0,N[kt].b-100),Pt=!1;else try{js(Mr,ye,"req"+fi+"_")}catch(Kr){T&&T(Mr)}}if(Pt){T=ye.join("&");break e}}return m=m.g.splice(0,D),w.s=m,T}function Zn(m){m.a||m.j||(m.U=1,On(m.Aa,m),m.o=0)}function Us(m){return!(m.a||m.j||3<=m.o||(m.U++,m.j=Oo(_t(m.Aa,m),ml(m,m.o)),m.o++,0))}function Dn(m){null!=m.s&&(Le.clearTimeout(m.s),m.s=null)}function ya(m){m.a=new rl(m,m.c,"rpc",m.U),null===m.i&&(m.a.B=m.l),m.a.O=0;var w=ct(m.la);pn(w,"RID","rpc"),pn(w,"SID",m.J),pn(w,"CI",m.H?"0":"1"),pn(w,"AID",m.P),on(m,w),pn(w,"TYPE","xmlhttp"),m.i&&m.l&&ws(w,m.i,m.l),m.D&&m.a.setTimeout(m.D);var D=m.a;m=m.ga,D.H=1,D.i=gs(ct(w)),D.j=null,D.I=!0,da(D,m)}function Hs(m){null!=m.m&&(Le.clearTimeout(m.m),m.m=null)}function pt(m,w){var D=null;if(m.a==w){Hs(m),Dn(m),m.a=null;var T=2}else{if(!Lt(m.b,w))return;D=w.s,dl(m.b,w),T=1}if(m.I=w.N,0!=m.v)if(w.b)if(1==T){D=w.j?w.j.length:0,w=be()-w.u;var N=m.u;(T=ca()).dispatchEvent(new ha(T,D,w,N)),ve(m)}else Zn(m);else if(3==(N=w.h)||0==N&&0<m.I||!(1==T&&function ft(m,w){return!(ho(m.b)>=m.b.f-(m.h?1:0)||(m.h?(m.g=w.s.concat(m.g),0):1==m.v||2==m.v||m.u>=(m.Ia?0:m.Ja)||(m.h=Oo(_t(m.Ba,m,w),ml(m,m.u)),m.u++,0)))}(m,w)||2==T&&Us(m)))switch(D&&0<D.length&&(w=m.b,w.c=w.c.concat(D)),N){case 1:Si(m,5);break;case 4:Si(m,10);break;case 3:Si(m,6);break;default:Si(m,2)}}function ml(m,w){var D=m.Fa+Math.floor(Math.random()*m.Ma);return m.f||(D*=2),D*w}function Si(m,w){if(m.c.info("Error code "+w),2==w){var D=null;m.f&&(D=null);var T=_t(m.Xa,m);D||(D=new fa("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||qr(D,"https"),gs(D)),function bc(m,w){var D=new pc;if(Le.Image){var T=new Image;T.onload=fe(En,D,T,"TestLoadImage: loaded",!0,w),T.onerror=fe(En,D,T,"TestLoadImage: error",!1,w),T.onabort=fe(En,D,T,"TestLoadImage: abort",!1,w),T.ontimeout=fe(En,D,T,"TestLoadImage: timeout",!1,w),Le.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=m}else w(!1)}(D.toString(),T)}else at(2);m.v=0,m.f&&m.f.ra(w),Vo(m),Lo(m)}function Vo(m){m.v=0,m.I=-1,m.f&&((0!=ys(m.b).length||0!=m.g.length)&&(m.b.c.length=0,oe(m.g),m.g.length=0),m.f.qa())}function po(m,w,D){var T=function yc(m){return m instanceof fa?ct(m):new fa(m,void 0)}(D);if(""!=T.c)w&&ll(T,w+"."+T.c),pu(T,T.h);else{var N=Le.location;T=function Jh(m,w,D,T){var N=new fa(null,void 0);return m&&qr(N,m),w&&ll(N,w),D&&pu(N,D),T&&(N.g=T),N}(N.protocol,w?w+"."+N.hostname:N.hostname,+N.port,D)}return m.W&&bn(m.W,function(G,ye){pn(T,ye,G)}),D=m.na,(w=m.A)&&D&&pn(T,w,D),pn(T,"VER",m.ha),on(m,T),T}function Ii(m,w){if(w&&!m.C)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new Nn(m.Ka)).F=m.C,w}function zr(){}function qs(){if(St&&!(10<=Number(Ci)))throw Error("Environmental error: no available transport.")}function An(m,w){Ei.call(this),this.a=new ga(w),this.l=m,this.b=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.a.l=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.a&&(m?m["X-WebChannel-Client-Profile"]=w.a:m={"X-WebChannel-Client-Profile":w.a}),this.a.O=m,(m=w&&w.httpHeadersOverwriteParam)&&!te(m)&&(this.a.i=m),this.h=w&&w.supportsCrossDomainXhr||!1,this.g=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!te(w)&&(this.a.A=w,null!==(m=this.b)&&w in m&&w in(m=this.b)&&delete m[w]),this.f=new ue(this)}function Et(m){et.call(this);var w=m.__sm__;if(w){e:{for(var D in w){m=D;break e}m=void 0}(this.c=m)?(m=this.c,this.data=null!==w&&m in w?w[m]:void 0):this.data=w}else this.data=m}function yu(){qn.call(this),this.status=1}function ue(m){this.a=m}(ie=Nn.prototype).ba=function(m,w,D,T){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+m);w=w?w.toUpperCase():"GET",this.B=m,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function Jf(m){var w;return(w=m.a)||(w=m.a={}),w}(this.H?this.H:mc),this.a.onreadystatechange=_t(this.za,this);try{this.A=!0,this.a.open(w,String(m),!0),this.A=!1}catch(G){return void Be(this,G)}m=D||"";var N=new Ut(this.headers);T&&Di(T,function(G,ye){N.set(ye,G)}),T=function K(m){e:{for(var w=_s,D=m.length,T="string"==typeof m?m.split(""):m,N=0;N<D;N++)if(N in T&&w.call(void 0,T[N],N,m)){w=N;break e}w=-1}return 0>w?null:"string"==typeof m?m.charAt(w):m[w]}(N.L()),D=Le.FormData&&m instanceof Le.FormData,!(0<=Qi(nt,w))||T||D||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),N.forEach(function(G,ye){this.a.setRequestHeader(ye,G)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bs(this),0<this.o&&((this.D=function gu(m){return St&&Qt(9)&&"number"==typeof m.timeout&&void 0!==m.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_t(this.xa,this)):this.m=uo(this.xa,this.o,this)),this.l=!0,this.a.send(m),this.l=!1}catch(G){Be(this,G)}},ie.xa=function(){void 0!==rn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ie.abort=function(m){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=m||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),er(this))},ie.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),er(this,!0)),Nn.S.G.call(this)},ie.za=function(){this.j||(this.A||this.l||this.g?Gn(this):this.Ta())},ie.Ta=function(){Gn(this)},ie.X=function(){try{return 2<Fn(this)?this.a.status:-1}catch(m){return-1}},ie.$=function(){try{return this.a?this.a.responseText:""}catch(m){return""}},ie.Na=function(m){if(this.a){var w=this.a.responseText;return m&&0==w.indexOf(m)&&(w=w.substring(m.length)),pl(w)}},ie.ua=function(){return this.h},ie.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ie=ga.prototype).ha=8,ie.v=1,ie.Ba=function(m){if(this.h)if(this.h=null,1==this.v){if(!m){this.R=Math.floor(1e5*Math.random()),m=this.R++;var T,w=new rl(this,this.c,m,void 0),D=this.l;if(this.O&&(D?ce(D=We(D),this.O):D=this.O),null===this.i&&(w.B=D),this.da)e:{for(var N=T=0;N<this.g.length;N++){var G=this.g[N];if(void 0===(G="__data__"in G.a&&"string"==typeof(G=G.a.__data__)?G.length:void 0))break;if(4096<(T+=G)){T=N;break e}if(4096===T||N===this.g.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=fo(this,w,T),pn(N=ct(this.B),"RID",m),pn(N,"CVER",22),this.A&&pn(N,"X-HTTP-Session-Id",this.A),on(this,N),this.i&&D&&ws(N,this.i,D),mr(this.b,w),this.Ga&&pn(N,"TYPE","init"),this.da?(pn(N,"$req",T),pn(N,"SID","null"),w.V=!0,hu(w,N,null)):hu(w,N,T),this.v=2}}else 3==this.v&&(m?mn(this,m):0==this.g.length||ed(this.b)||mn(this))},ie.Aa=function(){if(this.j=null,ya(this),this.V&&!(this.F||null==this.a||0>=this.N)){var m=2*this.N;this.c.info("BP detection timer enabled: "+m),this.s=Oo(_t(this.Sa,this),m)}},ie.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,zn(this),ya(this))},ie.Ra=function(){null!=this.m&&(this.m=null,zn(this),Us(this),at(19))},ie.Xa=function(m){m?(this.c.info("Successfully pinged google.com"),at(2)):(this.c.info("Failed to ping google.com"),at(1))},(ie=zr.prototype).ta=function(){},ie.sa=function(){},ie.ra=function(){},ie.qa=function(){},ie.Ha=function(){},qs.prototype.a=function(m,w){return new An(m,w)},ae(An,Ei),(ie=An.prototype).addEventListener=function(m,w,D,T){An.S.addEventListener.call(this,m,w,D,T)},ie.removeEventListener=function(m,w,D,T){An.S.removeEventListener.call(this,m,w,D,T)},ie.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var m=this.a,w=this.l,D=this.b||void 0;at(0),m.fa=w,m.W=D||{},m.H=m.T,m.B=po(m,null,m.fa),ve(m)},ie.close=function(){Cs(this.a)},ie.Pa=function(m){if("string"==typeof m){var w={};w.__data__=m,Hi(this.a,w)}else this.g?((w={}).__data__=ko(m),Hi(this.a,w)):Hi(this.a,m)},ie.G=function(){this.a.f=null,delete this.f,Cs(this.a),delete this.a,An.S.G.call(this)},ae(Et,et),ae(yu,qn),ae(ue,zr),ue.prototype.ta=function(){this.a.dispatchEvent("a")},ue.prototype.sa=function(m){this.a.dispatchEvent(new Et(m))},ue.prototype.ra=function(m){this.a.dispatchEvent(new yu(m))},ue.prototype.qa=function(){this.a.dispatchEvent("b")},qs.prototype.createWebChannel=qs.prototype.a,An.prototype.send=An.prototype.Pa,An.prototype.open=An.prototype.Oa,An.prototype.close=An.prototype.close,Ft.NO_ERROR=0,Ft.TIMEOUT=8,Ft.HTTP_ERROR=6,lt.COMPLETE="complete",Te.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",Ei.prototype.listen=Ei.prototype.va,Nn.prototype.listenOnce=Nn.prototype.wa,Nn.prototype.getLastError=Nn.prototype.Qa,Nn.prototype.getLastErrorCode=Nn.prototype.ua,Nn.prototype.getStatus=Nn.prototype.X,Nn.prototype.getResponseJson=Nn.prototype.Na,Nn.prototype.getResponseText=Nn.prototype.$,Nn.prototype.send=Nn.prototype.ba;var Ti=function(){return new qs},Ar=Ft,mo=lt,$r=Te,va=Nn;const Bo={createWebChannelTransport:Ti,ErrorCode:Ft,EventType:lt,WebChannel:Te,XhrIo:Nn}},691:(ni,de,wt)=>{function M(rn){return rn&&"object"==typeof rn&&"default"in rn?rn:{default:rn}}var yn=M(wt(783));yn.default.registerVersion("firebase","7.24.0","app"),ni.exports=yn.default},15:(ni,de,wt)=>{wt.r(de),wt.d(de,{__assign:()=>yn,__asyncDelegator:()=>fe,__asyncGenerator:()=>_t,__asyncValues:()=>be,__await:()=>dn,__awaiter:()=>wi,__classPrivateFieldGet:()=>Qi,__classPrivateFieldSet:()=>Yn,__createBinding:()=>O,__decorate:()=>ie,__exportStar:()=>H,__extends:()=>M,__generator:()=>Je,__importDefault:()=>Rn,__importStar:()=>jt,__makeTemplateObject:()=>ae,__metadata:()=>Le,__param:()=>rn,__read:()=>me,__rest:()=>Pe,__spread:()=>ee,__spreadArrays:()=>Ze,__values:()=>we});var Ie=function(K,pe){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,te){oe.__proto__=te}||function(oe,te){for(var Me in te)te.hasOwnProperty(Me)&&(oe[Me]=te[Me])})(K,pe)};function M(K,pe){function oe(){this.constructor=K}Ie(K,pe),K.prototype=null===pe?Object.create(pe):(oe.prototype=pe.prototype,new oe)}var yn=function(){return yn=Object.assign||function(pe){for(var oe,te=1,Me=arguments.length;te<Me;te++)for(var ne in oe=arguments[te])Object.prototype.hasOwnProperty.call(oe,ne)&&(pe[ne]=oe[ne]);return pe},yn.apply(this,arguments)};function Pe(K,pe){var oe={};for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&pe.indexOf(te)<0&&(oe[te]=K[te]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(te=Object.getOwnPropertySymbols(K);Me<te.length;Me++)pe.indexOf(te[Me])<0&&Object.prototype.propertyIsEnumerable.call(K,te[Me])&&(oe[te[Me]]=K[te[Me]])}return oe}function ie(K,pe,oe,te){var ze,Me=arguments.length,ne=Me<3?pe:null===te?te=Object.getOwnPropertyDescriptor(pe,oe):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(K,pe,oe,te);else for(var He=K.length-1;He>=0;He--)(ze=K[He])&&(ne=(Me<3?ze(ne):Me>3?ze(pe,oe,ne):ze(pe,oe))||ne);return Me>3&&ne&&Object.defineProperty(pe,oe,ne),ne}function rn(K,pe){return function(oe,te){pe(oe,te,K)}}function Le(K,pe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(K,pe)}function wi(K,pe,oe,te){return new(oe||(oe=Promise))(function(ne,ze){function He(bn){try{$e(te.next(bn))}catch(We){ze(We)}}function Ve(bn){try{$e(te.throw(bn))}catch(We){ze(We)}}function $e(bn){bn.done?ne(bn.value):function Me(ne){return ne instanceof oe?ne:new oe(function(ze){ze(ne)})}(bn.value).then(He,Ve)}$e((te=te.apply(K,pe||[])).next())})}function Je(K,pe){var te,Me,ne,ze,oe={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return ze={next:He(0),throw:He(1),return:He(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function He($e){return function(bn){return function Ve($e){if(te)throw new TypeError("Generator is already executing.");for(;oe;)try{if(te=1,Me&&(ne=2&$e[0]?Me.return:$e[0]?Me.throw||((ne=Me.return)&&ne.call(Me),0):Me.next)&&!(ne=ne.call(Me,$e[1])).done)return ne;switch(Me=0,ne&&($e=[2&$e[0],ne.value]),$e[0]){case 0:case 1:ne=$e;break;case 4:return oe.label++,{value:$e[1],done:!1};case 5:oe.label++,Me=$e[1],$e=[0];continue;case 7:$e=oe.ops.pop(),oe.trys.pop();continue;default:if(!(ne=(ne=oe.trys).length>0&&ne[ne.length-1])&&(6===$e[0]||2===$e[0])){oe=0;continue}if(3===$e[0]&&(!ne||$e[1]>ne[0]&&$e[1]<ne[3])){oe.label=$e[1];break}if(6===$e[0]&&oe.label<ne[1]){oe.label=ne[1],ne=$e;break}if(ne&&oe.label<ne[2]){oe.label=ne[2],oe.ops.push($e);break}ne[2]&&oe.ops.pop(),oe.trys.pop();continue}$e=pe.call(K,oe)}catch(bn){$e=[6,bn],Me=0}finally{te=ne=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([$e,bn])}}}function O(K,pe,oe,te){void 0===te&&(te=oe),K[te]=pe[oe]}function H(K,pe){for(var oe in K)"default"!==oe&&!pe.hasOwnProperty(oe)&&(pe[oe]=K[oe])}function we(K){var pe="function"==typeof Symbol&&Symbol.iterator,oe=pe&&K[pe],te=0;if(oe)return oe.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&te>=K.length&&(K=void 0),{value:K&&K[te++],done:!K}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(K,pe){var oe="function"==typeof Symbol&&K[Symbol.iterator];if(!oe)return K;var Me,ze,te=oe.call(K),ne=[];try{for(;(void 0===pe||pe-- >0)&&!(Me=te.next()).done;)ne.push(Me.value)}catch(He){ze={error:He}}finally{try{Me&&!Me.done&&(oe=te.return)&&oe.call(te)}finally{if(ze)throw ze.error}}return ne}function ee(){for(var K=[],pe=0;pe<arguments.length;pe++)K=K.concat(me(arguments[pe]));return K}function Ze(){for(var K=0,pe=0,oe=arguments.length;pe<oe;pe++)K+=arguments[pe].length;var te=Array(K),Me=0;for(pe=0;pe<oe;pe++)for(var ne=arguments[pe],ze=0,He=ne.length;ze<He;ze++,Me++)te[Me]=ne[ze];return te}function dn(K){return this instanceof dn?(this.v=K,this):new dn(K)}function _t(K,pe,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,te=oe.apply(K,pe||[]),ne=[];return Me={},ze("next"),ze("throw"),ze("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function ze(xe){te[xe]&&(Me[xe]=function(ce){return new Promise(function(vn,fr){ne.push([xe,ce,vn,fr])>1||He(xe,ce)})})}function He(xe,ce){try{!function Ve(xe){xe.value instanceof dn?Promise.resolve(xe.value.v).then($e,bn):We(ne[0][2],xe)}(te[xe](ce))}catch(vn){We(ne[0][3],vn)}}function $e(xe){He("next",xe)}function bn(xe){He("throw",xe)}function We(xe,ce){xe(ce),ne.shift(),ne.length&&He(ne[0][0],ne[0][1])}}function fe(K){var pe,oe;return pe={},te("next"),te("throw",function(Me){throw Me}),te("return"),pe[Symbol.iterator]=function(){return this},pe;function te(Me,ne){pe[Me]=K[Me]?function(ze){return(oe=!oe)?{value:dn(K[Me](ze)),done:"return"===Me}:ne?ne(ze):ze}:ne}}function be(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,pe=K[Symbol.asyncIterator];return pe?pe.call(K):(K=we(K),oe={},te("next"),te("throw"),te("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function te(ne){oe[ne]=K[ne]&&function(ze){return new Promise(function(He,Ve){!function Me(ne,ze,He,Ve){Promise.resolve(Ve).then(function($e){ne({value:$e,done:He})},ze)}(He,Ve,(ze=K[ne](ze)).done,ze.value)})}}}function ae(K,pe){return Object.defineProperty?Object.defineProperty(K,"raw",{value:pe}):K.raw=pe,K}function jt(K){if(K&&K.__esModule)return K;var pe={};if(null!=K)for(var oe in K)Object.hasOwnProperty.call(K,oe)&&(pe[oe]=K[oe]);return pe.default=K,pe}function Rn(K){return K&&K.__esModule?K:{default:K}}function Qi(K,pe){if(!pe.has(K))throw new TypeError("attempted to get private field on non-instance");return pe.get(K)}function Yn(K,pe,oe){if(!pe.has(K))throw new TypeError("attempted to set private field on non-instance");return pe.set(K,oe),oe}}},ni=>{ni(ni.s=280)}]);